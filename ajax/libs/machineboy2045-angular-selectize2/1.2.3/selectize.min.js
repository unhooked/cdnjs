angular.module("selectize",[]).value("selectizeConfig",{}).directive("selectize",["selectizeConfig",function(n){return{restrict:"EA",require:"^ngModel",scope:{ngModel:"=",config:"=?",options:"=?",ngDisabled:"=",ngRequired:"&"},link:function(e,i,t,o){function l(n){var e={};return e[u.labelField]=n,e[u.valueField]=n,e}function a(n){n?d.disable():d.enable()}function s(n){return n?(n=angular.isArray(n)||angular.isObject(n)?n:[n],$.map(n,function(n){return"string"==typeof n?l(n):n})):[]}function r(){g(),d.$control.toggleClass("ng-valid",o.$valid),d.$control.toggleClass("ng-invalid",o.$invalid),d.$control.toggleClass("ng-dirty",o.$dirty),d.$control.toggleClass("ng-pristine",o.$pristine),angular.equals(d.items,e.ngModel)||(d.addOption(s(e.ngModel)),d.setValue(e.ngModel))}Selectize.defaults.maxItems=null;var d,u=angular.extend({},Selectize.defaults,n,e.config);o.$isEmpty=function(n){return void 0===n||null===n||!n.length};var g=function(){var n=(e.ngRequired()||t.required||u.required)&&o.$isEmpty(e.ngModel);o.$setValidity("required",!n)},c=u.onChange,p=u.onOptionAdd;u.onChange=function(){e.disableOnChange||(angular.equals(d.items,e.ngModel)||e.$evalAsync(function(){var n=angular.copy(d.items);1==u.maxItems&&(n=n[0]),o.$setViewValue(n)}),c&&c.apply(this,arguments))},u.onOptionAdd=function(n,i){-1===e.options.indexOf(i)&&(e.options.push(i),p&&p.apply(this,arguments))},e.options?e.options.splice(0,e.options.length,s(e.options)):e.options=s(angular.copy(e.ngModel));var f=u.onInitialize;u.onInitialize=function(){d=i[0].selectize,d.addOption(e.options),d.setValue(e.ngModel),f&&f(d),e.$watch("options",function(){e.disableOnChange=!0,d.clearOptions(),d.addOption(e.options),d.setValue(e.ngModel),e.disableOnChange=!1},!0),e.$watchCollection("ngModel",r),e.$watch("ngDisabled",a)},i.selectize(u),i.on("$destroy",function(){d&&(d.destroy(),i=null)})}}}]);
//# sourceMappingURL=selectize.min.js.map