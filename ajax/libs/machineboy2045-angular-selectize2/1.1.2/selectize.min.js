angular.module("selectize",[]).value("selectizeConfig",{}).directive("selectize",["selectizeConfig",function(n){return{restrict:"EA",require:"^ngModel",scope:{ngModel:"=",config:"=?",options:"=?",ngDisabled:"=",ngRequired:"&"},link:function(e,i,t,o){function l(n){var e={};return e[d.labelField]=n,e[d.valueField]=n,e}function a(n){n?u.disable():u.enable()}function s(n){return n?(n=angular.isArray(n)?n:[n],$.map(n,function(n){return"string"==typeof n?l(n):n})):[]}function r(){g(),u.$control.toggleClass("ng-valid",o.$valid),u.$control.toggleClass("ng-invalid",o.$invalid),u.$control.toggleClass("ng-dirty",o.$dirty),u.$control.toggleClass("ng-pristine",o.$pristine),angular.equals(u.items,e.ngModel)||(u.addOption(s(e.ngModel)),u.setValue(e.ngModel))}Selectize.defaults.maxItems=null;var u,d=angular.extend({},Selectize.defaults,n,e.config);o.$isEmpty=function(n){return void 0===n||null===n||!n.length};var g=function(){var n=(e.ngRequired()||t.required||d.required)&&o.$isEmpty(e.ngModel);o.$setValidity("required",!n)};d.onChange=function(){angular.equals(u.items,e.ngModel)||e.$evalAsync(function(){var n=angular.copy(u.items);1==d.maxItems&&(n=n[0]),o.$setViewValue(n)})},d.onOptionAdd=function(n,i){-1===e.options.indexOf(i)&&e.options.push(i)},e.options=s(angular.copy(e.options||d.options||e.ngModel));var c=d.onInitialize;d.onInitialize=function(){u=i[0].selectize,u.addOption(e.options),u.setValue(e.ngModel),c&&c(u),e.$watchCollection("options",u.addOption.bind(u)),e.$watch("ngModel",r),e.$watch("ngDisabled",a)},i.selectize(d),i.on("$destroy",function(){u&&(u.destroy(),i=null)})}}}]);
//# sourceMappingURL=selectize.min.js.map