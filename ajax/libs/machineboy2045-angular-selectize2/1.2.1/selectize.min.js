angular.module("selectize",[]).value("selectizeConfig",{}).directive("selectize",["selectizeConfig",function(e){return{restrict:"EA",require:"^ngModel",scope:{ngModel:"=",config:"=?",options:"=?",ngDisabled:"=",ngRequired:"&"},link:function(n,i,t,o){function l(e){var n={};return n[u.labelField]=e,n[u.valueField]=e,n}function a(e){e?d.disable():d.enable()}function s(e){return e?(e=angular.isArray(e)?e:[e],$.map(e,function(e){return"string"==typeof e?l(e):e})):[]}function r(){g(),d.$control.toggleClass("ng-valid",o.$valid),d.$control.toggleClass("ng-invalid",o.$invalid),d.$control.toggleClass("ng-dirty",o.$dirty),d.$control.toggleClass("ng-pristine",o.$pristine),angular.equals(d.items,n.ngModel)||(d.addOption(s(n.ngModel)),d.setValue(n.ngModel))}Selectize.defaults.maxItems=null;var d,u=angular.extend({},Selectize.defaults,e,n.config);o.$isEmpty=function(e){return void 0===e||null===e||!e.length};var g=function(){var e=(n.ngRequired()||t.required||u.required)&&o.$isEmpty(n.ngModel);o.$setValidity("required",!e)},c=u.onChange,p=u.onOptionAdd;u.onChange=function(){angular.equals(d.items,n.ngModel)||n.$evalAsync(function(){var e=d.items.slice();1==u.maxItems&&(e=e[0]),o.$setViewValue(e)}),c&&c.apply(this,arguments)},u.onOptionAdd=function(e,i){-1===n.options.indexOf(i)&&n.options.push(i),p&&p.apply(this,arguments)},n.options=s((n.options||u.options||n.ngModel).slice());var f=u.onInitialize;u.onInitialize=function(){d=i[0].selectize,d.addOption(n.options),d.setValue(n.ngModel),f&&f(d),n.$watch("options",function(){d.clearOptions(),d.addOption(n.options),d.setValue(n.ngModel)},!0),n.$watch("ngModel",r),n.$watch("ngDisabled",a)},i.selectize(u),i.on("$destroy",function(){d&&(d.destroy(),i=null)})}}}]);
//# sourceMappingURL=selectize.min.js.map