angular.module("selectize",[]).value("selectizeConfig",{}).directive("selectize",["selectizeConfig",function(n){return{restrict:"EA",require:"^ngModel",scope:{ngModel:"=",config:"=selectize",options:"=",ngDisabled:"="},link:function(e,t,i,o){function l(){if(h.options=e.options||[],"undefined"!=typeof n){var t=angular.copy(n);h=angular.extend(t,h)}h.maxItems=h.maxItems||null,h.options&&"string"==typeof h.options[0]&&(h.options=$.map(h.options,function(n,e){return{id:e,text:n,value:n}}),h.sortField=h.sortField||"id")}function s(n,t){e.$evalAsync(function(){m.currentResults&&e.options.length<m.currentResults.total&&e.options.push(t)})}function a(n){var e={};return e[m.settings.labelField]=n,e[m.settings.valueField]=n,e}function r(n){n?m.disable():m.enable()}function u(){o.$setViewValue(o.$modelValue)}function c(){m.$control.toggleClass("ng-invalid",o.$invalid)}function d(){o.$setValidity("required",!h.required||e.ngModel.length),c()}function g(){return 1===m.settings.maxItems?m.items.join(m.settings.delimiter):m.items}function f(n){return n===e.ngModel?!1:(u(),void e.$evalAsync(function(){e.ngModel=g(),d()}))}function p(n,e){if(n!==e){var t=!1;n=angular.isArray(n)?n:[n],angular.forEach(n,function(n){var e=n[m.settings.valueField];m.options[e]||(m.addOption(n),t=!0)}),t&&m.refreshOptions(!1)}}function v(n,e){var t=!1;if(n!==e){if(m.clear(),!n||!n.length)return d();n=angular.isArray(n)?n:[n],angular.forEach(n,function(n){if(m.settings.create){var e=a(n);m.options[n]||(m.addOption(e),t=!0)}m.addItem(n)}),t&&m.refreshOptions(!1),d()}}var m,h=angular.copy(e.config);l(),t.selectize(h),m=t[0].selectize,m.setValue(e.ngModel),m.on("option_add",s),m.on("change",f),e.$watchCollection("options",p),e.$watch("ngModel",v,!0),e.$watch("ngDisabled",r)}}}]);
//# sourceMappingURL=selectize.min.js.map