angular.module("selectize",[]).value("selectizeConfig",{}).directive("selectize",["selectizeConfig",function(e){return{restrict:"EA",require:"^ngModel",scope:{ngModel:"=",config:"=?",options:"=?",ngDisabled:"=",ngRequired:"&"},link:function(n,i,t,o){function l(e){var n={};return n[u.labelField]=e,n[u.valueField]=e,n}function a(e){e?r.disable():r.enable()}function s(e){return e?(e=angular.isArray(e)?e:[e],$.map(e,function(e){return"string"==typeof e?l(e):e})):[]}function d(){g(),r.$control.toggleClass("ng-valid",o.$valid),r.$control.toggleClass("ng-invalid",o.$invalid),r.$control.toggleClass("ng-dirty",o.$dirty),r.$control.toggleClass("ng-pristine",o.$pristine),angular.equals(r.items,n.ngModel)||(r.addOption(s(n.ngModel)),r.setValue(n.ngModel))}Selectize.defaults.maxItems=null;var r,u=angular.extend({},Selectize.defaults,e,n.config);o.$isEmpty=function(e){return void 0===e||null===e||!e.length};var g=function(){var e=(n.ngRequired()||t.required||u.required)&&o.$isEmpty(n.ngModel);o.$setValidity("required",!e)},c=u.onChange,p=u.onOptionAdd;u.onChange=function(){angular.equals(r.items,n.ngModel)||n.$evalAsync(function(){var e=r.items.slice();1==u.maxItems&&(e=e[0]),o.$setViewValue(e)}),c&&c.apply(this,arguments)},u.onOptionAdd=function(e,i){n.debounceOptionChange=!0,-1===n.options.indexOf(i)&&n.options.push(i),p&&p.apply(this,arguments)},n.options=s((n.options||u.options||n.ngModel).slice());var f=u.onInitialize;u.onInitialize=function(){r=i[0].selectize,r.addOption(n.options),r.setValue(n.ngModel),f&&f(r),n.$watch("options",function(){return n.debounceOptionChange?void(n.debounceOptionChange=!1):(r.clearOptions(),r.addOption(n.options),void r.setValue(n.ngModel))},!0),n.$watch("ngModel",d),n.$watch("ngDisabled",a)},i.selectize(u),i.on("$destroy",function(){r&&(r.destroy(),i=null)})}}}]);
//# sourceMappingURL=selectize.min.js.map