!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(r.d3_dsv=r.d3_dsv||{})}(this,function(r){"use strict";function n(r){return new Function("d","return {"+r.map(function(r,n){return JSON.stringify(r)+": d["+n+"]"}).join(",")+"}")}function t(r,t){var e=n(r);return function(n,o){return t(e(n),o,r)}}function e(r){var n=Object.create(null),t=[];return r.forEach(function(r){for(var e in r)e in n||t.push(n[e]=e)}),t}function o(r){function o(r,e){var o,u,i=a(r,function(r,a){return o?o(r,a-1):(u=r,void(o=e?t(r,e):n(r)))});return i.columns=u,i}function a(r,n){function t(){if(f>=s)return u;if(o)return o=!1,a;var n,t=f;if(34===r.charCodeAt(t)){for(var e=t;e++<s;)if(34===r.charCodeAt(e)){if(34!==r.charCodeAt(e+1))break;++e}return f=e+2,n=r.charCodeAt(e+1),13===n?(o=!0,10===r.charCodeAt(e+2)&&++f):10===n&&(o=!0),r.slice(t+1,e).replace(/""/g,'"')}for(;s>f;){var i=1;if(n=r.charCodeAt(f++),10===n)o=!0;else if(13===n)o=!0,10===r.charCodeAt(f)&&(++f,++i);else if(n!==p)continue;return r.slice(t,f-i)}return r.slice(t)}for(var e,o,a={},u={},i=[],s=r.length,f=0,c=0;(e=t())!==u;){for(var v=[];e!==a&&e!==u;)v.push(e),e=t();n&&null==(v=n(v,c++))||i.push(v)}return i}function u(n,t){return null==t&&(t=e(n)),[t.map(f).join(r)].concat(n.map(function(n){return t.map(function(r){return f(n[r])}).join(r)})).join("\n")}function i(r){return r.map(s).join("\n")}function s(n){return n.map(f).join(r)}function f(r){return c.test(r)?'"'+r.replace(/\"/g,'""')+'"':r}var c=new RegExp('["'+r+"\n]"),p=r.charCodeAt(0);return{parse:o,parseRows:a,format:u,formatRows:i}}var a="0.3.1",u=o(","),i=u.parse,s=u.parseRows,f=u.format,c=u.formatRows,p=o("	"),v=p.parse,d=p.parseRows,m=p.format,l=p.formatRows;r.version=a,r.dsvFormat=o,r.csvParse=i,r.csvParseRows=s,r.csvFormat=f,r.csvFormatRows=c,r.tsvParse=v,r.tsvParseRows=d,r.tsvFormat=m,r.tsvFormatRows=l});