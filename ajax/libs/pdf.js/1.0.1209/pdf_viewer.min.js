"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),function(){"use strict";function t(t){var e=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,n=e/i;return{sx:n,sy:n,scaled:1!==n}}function e(t,e){var i=t.offsetParent,n=t.offsetTop+t.clientTop,r=t.offsetLeft+t.clientLeft;if(!i)return void console.error("offsetParent is not set -- cannot scroll");for(;i.clientHeight===i.scrollHeight;)if(i.dataset._scaleY&&(n/=i.dataset._scaleY,r/=i.dataset._scaleX),n+=i.offsetTop,r+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(void 0!==e.top&&(n+=e.top),void 0!==e.left&&(r+=e.left,i.scrollLeft=r)),i.scrollTop=n}function i(t,e){var i=function(i){r||(r=window.requestAnimationFrame(function(){r=null;var i=t.scrollTop,s=n.lastY;i!==s&&(n.down=i>s),n.lastY=i,e(n)}))},n={down:!0,lastY:t.scrollTop,_eventHandler:i},r=null;return t.addEventListener("scroll",i,!0),n}function n(t,e){var i=0,n=t.length-1;if(0===t.length||!e(t[n]))return t.length;if(e(t[i]))return i;for(;n>i;){var r=i+n>>1,s=t[r];e(s)?n=r:i=r+1}return i}function r(t,e,i){function r(t){var e=t.div,i=e.offsetTop+e.clientTop+e.clientHeight;return i>f}for(var s,a,o,h,d,l,c,u,f=t.scrollTop,v=f+t.clientHeight,g=t.scrollLeft,p=g+t.clientWidth,m=[],w=0===e.length?0:n(e,r),y=w,P=e.length;P>y&&(s=e[y],a=s.div,o=a.offsetTop+a.clientTop,h=a.clientHeight,!(o>v));y++)c=a.offsetLeft+a.clientLeft,u=a.clientWidth,g>c+u||c>p||(d=Math.max(0,f-o)+Math.max(0,o+h-v),l=100*(h-d)/h|0,m.push({id:s.id,x:c,y:o,view:s,percent:l}));var b=m[0],x=m[m.length-1];return i&&m.sort(function(t,e){var i=t.percent-e.percent;return Math.abs(i)>.001?-i:t.id-e.id}),{first:b,last:x,views:m}}function s(t){return!L.test(t)}function a(){}function o(){}var h=96/72,d="auto",l=0,c=1.25,u=40,f=5,v=function(){function t(){}var e=["ms","Moz","Webkit","O"],i={};return t.getProp=function(t,n){if(1===arguments.length&&"string"==typeof i[t])return i[t];n=n||document.documentElement;var r,s,a=n.style;if("string"==typeof a[t])return i[t]=t;s=t.charAt(0).toUpperCase()+t.slice(1);for(var o=0,h=e.length;h>o;o++)if(r=e[o]+s,"string"==typeof a[r])return i[t]=r;return i[t]="undefined"},t.setProp=function(t,e,i){var n=this.getProp(t);"undefined"!==n&&(e.style[n]=i)},t}(),g=(function(){function t(t,e,i){return Math.min(Math.max(t,e),i)}function e(t,e){this.visible=!0,this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=e.height||100,this.width=e.width||100,this.units=e.units||"%",this.div.style.height=this.height+this.units,this.percent=0}return e.prototype={updateBar:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var t=this.width*this._percent/100;this.div.style.width=t+this.units},get percent(){return this._percent},set percent(e){this._indeterminate=isNaN(e),this._percent=t(e,0,100),this.updateBar()},setWidth:function(t){if(t){var e=t.parentNode,i=e.offsetWidth-t.offsetWidth;i>0&&this.bar.setAttribute("style","width: calc(100% - "+i+"px);")}},hide:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))},show:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},e}(),{UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3}),p=!1,m=10,w=3e4,y={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},P=function(){function t(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return t.prototype={setViewer:function(t){this.pdfViewer=t},setThumbnailViewer:function(t){this.pdfThumbnailViewer=t},isHighestPriority:function(t){return this.highestPriorityPage===t.renderingId},renderHighestPriority:function(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(t)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),w))},getHighestPriority:function(t,e,i){var n=t.views,r=n.length;if(0===r)return!1;for(var s=0;r>s;++s){var a=n[s].view;if(!this.isViewFinished(a))return a}if(i){var o=t.last.id;if(e[o]&&!this.isViewFinished(e[o]))return e[o]}else{var h=t.first.id-2;if(e[h]&&!this.isViewFinished(e[h]))return e[h]}return null},isViewFinished:function(t){return t.renderingState===y.FINISHED},renderView:function(t){var e=t.renderingState;switch(e){case y.FINISHED:return!1;case y.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case y.RUNNING:this.highestPriorityPage=t.renderingId;break;case y.INITIAL:this.highestPriorityPage=t.renderingId;var i=function(){this.renderHighestPriority()}.bind(this);t.draw().then(i,i)}return!0}},t}(),b=200,x=function(){function e(t){var e=t.container,i=t.id,n=t.scale,r=t.defaultViewport,s=t.renderingQueue,a=t.textLayerFactory,o=t.annotationsLayerFactory;this.id=i,this.renderingId="page"+i,this.rotation=0,this.scale=n||1,this.viewport=r,this.pdfPageRotate=r.rotation,this.hasRestrictedScaling=!1,this.renderingQueue=s,this.textLayerFactory=a,this.annotationsLayerFactory=o,this.renderingState=y.INITIAL,this.resume=null,this.onBeforeDraw=null,this.onAfterDraw=null,this.textLayer=null,this.zoomLayer=null,this.annotationLayer=null;var h=document.createElement("div");h.id="pageContainer"+this.id,h.className="page",h.style.width=Math.floor(this.viewport.width)+"px",h.style.height=Math.floor(this.viewport.height)+"px",this.div=h,e.appendChild(h)}return e.prototype={setPdfPage:function(t){this.pdfPage=t,this.pdfPageRotate=t.rotate;var e=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport(this.scale*h,e),this.stats=t.stats,this.reset()},destroy:function(){this.zoomLayer=null,this.reset(),this.pdfPage&&this.pdfPage.destroy()},reset:function(t){this.renderTask&&this.renderTask.cancel(),this.resume=null,this.renderingState=y.INITIAL;var e=this.div;e.style.width=Math.floor(this.viewport.width)+"px",e.style.height=Math.floor(this.viewport.height)+"px";for(var i=e.childNodes,n=this.zoomLayer||null,r=t&&this.annotationLayer&&this.annotationLayer.div||null,s=i.length-1;s>=0;s--){var a=i[s];n!==a&&r!==a&&e.removeChild(a)}e.removeAttribute("data-loaded"),t?this.annotationLayer&&this.annotationLayer.hide():this.annotationLayer=null,this.canvas&&(this.canvas.width=0,this.canvas.height=0,delete this.canvas),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",e.appendChild(this.loadingIconDiv)},update:function(e,i){this.scale=e||this.scale,"undefined"!=typeof i&&(this.rotation=i);var n=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:this.scale*h,rotation:n});var r=!1;if(this.canvas&&PDFJS.maxCanvasPixels>0){var s=this.canvas.getContext("2d"),a=t(s),o=this.viewport.width*this.viewport.height;Math.sqrt(PDFJS.maxCanvasPixels/o);(Math.floor(this.viewport.width)*a.sx|0)*(Math.floor(this.viewport.height)*a.sy|0)>PDFJS.maxCanvasPixels&&(r=!0)}return this.canvas&&(PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&r)?void this.cssTransform(this.canvas,!0):(this.canvas&&!this.zoomLayer&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute"),this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),void this.reset(!0))},updatePosition:function(){this.textLayer&&this.textLayer.render(b)},cssTransform:function(t,e){var i=this.viewport.width,n=this.viewport.height,r=this.div;t.style.width=t.parentNode.style.width=r.style.width=Math.floor(i)+"px",t.style.height=t.parentNode.style.height=r.style.height=Math.floor(n)+"px";var s=this.viewport.rotation-t._viewport.rotation,a=Math.abs(s),o=1,h=1;90!==a&&270!==a||(o=n/i,h=i/n);var d="rotate("+s+"deg) scale("+o+","+h+")";if(v.setProp("transform",t,d),this.textLayer){var l=this.textLayer.viewport,c=this.viewport.rotation-l.rotation,u=Math.abs(c),f=i/l.width;90!==u&&270!==u||(f=i/l.height);var g,p,m=this.textLayer.textLayerDiv;switch(u){case 0:g=p=0;break;case 90:g=0,p="-"+m.style.height;break;case 180:g="-"+m.style.width,p="-"+m.style.height;break;case 270:g="-"+m.style.width,p=0;break;default:console.error("Bad rotation value.")}v.setProp("transform",m,"rotate("+u+"deg) scale("+f+", "+f+") translate("+g+", "+p+")"),v.setProp("transformOrigin",m,"0% 0%")}e&&this.annotationLayer&&this.annotationLayer.setupAnnotations(this.viewport)},get width(){return this.viewport.width},get height(){return this.viewport.height},getPagePoint:function(t,e){return this.viewport.convertToPdfPoint(t,e)},draw:function(){function e(t){if(S===w.renderTask&&(w.renderTask=null),"cancelled"===t)return void p(t);w.renderingState=y.FINISHED,w.loadingIconDiv&&(r.removeChild(w.loadingIconDiv),delete w.loadingIconDiv),w.zoomLayer&&(r.removeChild(w.zoomLayer),w.zoomLayer=null),w.error=t,w.stats=i.stats,w.onAfterDraw&&w.onAfterDraw();var e=document.createEvent("CustomEvent");e.initCustomEvent("pagerendered",!0,!0,{pageNumber:w.id}),r.dispatchEvent(e),t?p(t):g(void 0)}this.renderingState!==y.INITIAL&&console.error("Must be in new state before drawing"),this.renderingState=y.RUNNING;var i=this.pdfPage,n=this.viewport,r=this.div,s=document.createElement("div");s.style.width=r.style.width,s.style.height=r.style.height,s.classList.add("canvasWrapper");var a=document.createElement("canvas");a.id="page"+this.id,s.appendChild(a),this.annotationLayer?r.insertBefore(s,this.annotationLayer.div):r.appendChild(s),this.canvas=a;var o=a.getContext("2d"),d=t(o);if(PDFJS.useOnlyCssZoom){var l=n.clone({scale:h});d.sx*=l.width/n.width,d.sy*=l.height/n.height,d.scaled=!0}if(PDFJS.maxCanvasPixels>0){var c=n.width*n.height,u=Math.sqrt(PDFJS.maxCanvasPixels/c);d.sx>u||d.sy>u?(d.sx=u,d.sy=u,d.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}a.width=Math.floor(n.width)*d.sx|0,a.height=Math.floor(n.height)*d.sy|0,a.style.width=Math.floor(n.width)+"px",a.style.height=Math.floor(n.height)+"px",a._viewport=n;var f=null,v=null;this.textLayerFactory&&(f=document.createElement("div"),f.className="textLayer",f.style.width=a.style.width,f.style.height=a.style.height,this.annotationLayer?r.insertBefore(f,this.annotationLayer.div):r.appendChild(f),v=this.textLayerFactory.createTextLayerBuilder(f,this.id-1,this.viewport)),this.textLayer=v,o._scaleX=d.sx,o._scaleY=d.sy,d.scaled&&o.scale(d.sx,d.sy);var g,p,m=new Promise(function(t,e){g=t,p=e}),w=this,P=null;this.renderingQueue&&(P=function(t){return w.renderingQueue.isHighestPriority(w)?void t():(w.renderingState=y.PAUSED,void(w.resume=function(){w.renderingState=y.RUNNING,t()}))});var x={canvasContext:o,viewport:this.viewport,continueCallback:P},S=this.renderTask=this.pdfPage.render(x);return this.renderTask.promise.then(function(){e(null),v&&w.pdfPage.getTextContent().then(function(t){v.setTextContent(t),v.render(b)})},function(t){e(t)}),this.annotationsLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationsLayerFactory.createAnnotationsLayerBuilder(r,this.pdfPage)),this.annotationLayer.setupAnnotations(this.viewport)),r.setAttribute("data-loaded",!0),w.onBeforeDraw&&w.onBeforeDraw(),m},beforePrint:function(){var t=this.pdfPage,e=t.getViewport(1),i=2,n=document.createElement("canvas");n.width=Math.floor(e.width)*i,n.height=Math.floor(e.height)*i,n.style.width=i*e.width+"pt",n.style.height=i*e.height+"pt";var r="scale("+1/i+", "+1/i+")";v.setProp("transform",n,r),v.setProp("transformOrigin",n,"0% 0%");var s=document.getElementById("printContainer"),a=document.createElement("div");a.style.width=e.width+"pt",a.style.height=e.height+"pt",a.appendChild(n),s.appendChild(a),n.mozPrintCallback=function(r){var s=r.context;s.save(),s.fillStyle="rgb(255, 255, 255)",s.fillRect(0,0,n.width,n.height),s.restore(),s.scale(i,i);var a={canvasContext:s,viewport:e,intent:"print"};t.render(a).promise.then(function(){r.done()},function(t){console.error(t),"abort"in r?r.abort():r.done()})}}},e}(),S=1e5,L=/\S/,C=function(){function t(t){this.textLayerDiv=t.textLayerDiv,this.renderingDone=!1,this.divContentDone=!1,this.pageIdx=t.pageIndex,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=t.viewport,this.textDivs=[],this.findController=t.findController||null}return t.prototype={_finishRendering:function(){this.renderingDone=!0;var t=document.createEvent("CustomEvent");t.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:this.pageNumber}),this.textLayerDiv.dispatchEvent(t)},renderLayer:function(){var t=document.createDocumentFragment(),e=this.textDivs,i=e.length,n=document.createElement("canvas"),r=n.getContext("2d");if(i>S)return void this._finishRendering();for(var s,a,o=0;i>o;o++){var h=e[o];if(void 0===h.dataset.isWhitespace){var d=h.style.fontSize,l=h.style.fontFamily;d===s&&l===a||(r.font=d+" "+l,s=d,a=l);var c=r.measureText(h.textContent).width;if(c>0){t.appendChild(h);var u;if(void 0!==h.dataset.canvasWidth){var f=h.dataset.canvasWidth/c;u="scaleX("+f+")"}else u="";var g=h.dataset.angle;g&&(u="rotate("+g+"deg) "+u),u&&v.setProp("transform",h,u)}}}this.textLayerDiv.appendChild(t),this._finishRendering(),this.updateMatches()},render:function(t){if(this.divContentDone&&!this.renderingDone)if(this.renderTimer&&(clearTimeout(this.renderTimer),this.renderTimer=null),t){var e=this;this.renderTimer=setTimeout(function(){e.renderLayer(),e.renderTimer=null},t)}else this.renderLayer()},appendText:function(t,e){var i=e[t.fontName],n=document.createElement("div");if(this.textDivs.push(n),s(t.str))return void(n.dataset.isWhitespace=!0);var r=PDFJS.Util.transform(this.viewport.transform,t.transform),a=Math.atan2(r[1],r[0]);i.vertical&&(a+=Math.PI/2);var o=Math.sqrt(r[2]*r[2]+r[3]*r[3]),h=o;i.ascent?h=i.ascent*h:i.descent&&(h=(1+i.descent)*h);var d,l;0===a?(d=r[4],l=r[5]-h):(d=r[4]+h*Math.sin(a),l=r[5]-h*Math.cos(a)),n.style.left=d+"px",n.style.top=l+"px",n.style.fontSize=o+"px",n.style.fontFamily=i.fontFamily,n.textContent=t.str,PDFJS.pdfBug&&(n.dataset.fontName=t.fontName),0!==a&&(n.dataset.angle=a*(180/Math.PI)),n.textContent.length>1&&(i.vertical?n.dataset.canvasWidth=t.height*this.viewport.scale:n.dataset.canvasWidth=t.width*this.viewport.scale)},setTextContent:function(t){this.textContent=t;for(var e=t.items,i=0,n=e.length;n>i;i++)this.appendText(e[i],t.styles);this.divContentDone=!0},convertMatches:function(t){for(var e=0,i=0,n=this.textContent.items,r=n.length-1,s=null===this.findController?0:this.findController.state.query.length,a=[],o=0,h=t.length;h>o;o++){for(var d=t[o];e!==r&&d>=i+n[e].str.length;)i+=n[e].str.length,e++;e===n.length&&console.error("Could not find a matching mapping");var l={begin:{divIdx:e,offset:d-i}};for(d+=s;e!==r&&d>i+n[e].str.length;)i+=n[e].str.length,e++;l.end={divIdx:e,offset:d-i},a.push(l)}return a},renderMatches:function(t){function e(t,e){var n=t.divIdx;r[n].textContent="",i(n,0,t.offset,e)}function i(t,e,i,s){var a=r[t],o=n[t].str.substring(e,i),h=document.createTextNode(o);if(s){var d=document.createElement("span");return d.className=s,d.appendChild(h),void a.appendChild(d)}a.appendChild(h)}if(0!==t.length){var n=this.textContent.items,r=this.textDivs,s=null,a=this.pageIdx,o=null===this.findController?!1:a===this.findController.selected.pageIdx,h=null===this.findController?-1:this.findController.selected.matchIdx,d=null===this.findController?!1:this.findController.state.highlightAll,l={divIdx:-1,offset:void 0},c=h,u=c+1;if(d)c=0,u=t.length;else if(!o)return;for(var f=c;u>f;f++){var v=t[f],g=v.begin,p=v.end,m=o&&f===h,w=m?" selected":"";if(this.findController&&this.findController.updateMatchPosition(a,f,r,g.divIdx,p.divIdx),s&&g.divIdx===s.divIdx?i(s.divIdx,s.offset,g.offset):(null!==s&&i(s.divIdx,s.offset,l.offset),e(g)),g.divIdx===p.divIdx)i(g.divIdx,g.offset,p.offset,"highlight"+w);else{i(g.divIdx,g.offset,l.offset,"highlight begin"+w);for(var y=g.divIdx+1,P=p.divIdx;P>y;y++)r[y].className="highlight middle"+w;e(p,"highlight end"+w)}s=p}s&&i(s.divIdx,s.offset,l.offset)}},updateMatches:function(){if(this.renderingDone){for(var t=this.matches,e=this.textDivs,i=this.textContent.items,n=-1,r=0,s=t.length;s>r;r++){for(var a=t[r],o=Math.max(n,a.begin.divIdx),h=o,d=a.end.divIdx;d>=h;h++){var l=e[h];l.textContent=i[h].str,l.className=""}n=a.end.divIdx+1}null!==this.findController&&this.findController.active&&(this.matches=this.convertMatches(null===this.findController?[]:this.findController.pageMatches[this.pageIdx]||[]),this.renderMatches(this.matches))}}},t}();a.prototype={createTextLayerBuilder:function(t,e,i){return new C({textLayerDiv:t,pageIndex:e,viewport:i})}};var I=function(){function t(t){this.pageDiv=t.pageDiv,this.pdfPage=t.pdfPage,this.linkService=t.linkService,this.div=null}return t.prototype={setupAnnotations:function(t){function e(t,e){t.href=n.getDestinationHash(e),t.onclick=function(){return e&&n.navigateTo(e),!1},e&&(t.className="internalLink")}function i(t,e){t.href=n.getAnchorUrl(""),t.onclick=function(){return n.executeNamedAction(e),!1},t.className="internalLink"}var n=this.linkService,r=this.pdfPage,s=this;r.getAnnotations().then(function(n){t=t.clone({dontFlip:!0});var a,o,h,d,l=t.transform,c="matrix("+l.join(",")+")";if(s.div){for(h=0,d=n.length;d>h;h++)a=n[h],o=s.div.querySelector('[data-annotation-id="'+a.id+'"]'),o&&v.setProp("transform",o,c);s.div.removeAttribute("hidden")}else for(h=0,d=n.length;d>h;h++)if(a=n[h],a&&a.hasHtml){o=PDFJS.AnnotationUtils.getHtmlElement(a,r.commonObjs),o.setAttribute("data-annotation-id",a.id),"undefined"!=typeof mozL10n&&mozL10n.translate(o);var u=a.rect,f=r.view;u=PDFJS.Util.normalizeRect([u[0],f[3]-u[1]+f[1],u[2],f[3]-u[3]+f[1]]),o.style.left=u[0]+"px",o.style.top=u[1]+"px",o.style.position="absolute",v.setProp("transform",o,c);var g=-u[0]+"px "+-u[1]+"px";if(v.setProp("transformOrigin",o,g),"Link"===a.subtype&&!a.url){var p=o.getElementsByTagName("a")[0];p&&(a.action?i(p,a.action):e(p,"dest"in a?a.dest:null))}if(!s.div){var m=document.createElement("div");m.className="annotationLayer",s.pageDiv.appendChild(m),s.div=m}s.div.appendChild(o)}})},hide:function(){this.div&&this.div.setAttribute("hidden","true")}},t}();o.prototype={createAnnotationsLayerBuilder:function(t,e){return new I({pageDiv:t,pdfPage:e})}};var N=function(){function t(t){var e=[];this.push=function(i){var n=e.indexOf(i);n>=0&&e.splice(n,1),e.push(i),e.length>t&&e.shift().destroy()},this.resize=function(i){for(t=i;e.length>t;)e.shift().destroy()}}function n(t){this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,this.linkService=t.linkService||new D(this),this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new P,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue,this.scroll=i(this.container,this._scrollUpdate.bind(this)),this.updateInProgress=!1,this.presentationModeState=g.UNKNOWN,this._resetView()}return n.prototype={get pagesCount(){return this.pages.length},getPageView:function(t){return this.pages[t]},get currentPageNumber(){return this._currentPageNumber},set currentPageNumber(t){if(!this.pdfDocument)return void(this._currentPageNumber=t);var e=document.createEvent("UIEvents");return e.initUIEvent("pagechange",!0,!0,window,0),e.updateInProgress=this.updateInProgress,t>0&&t<=this.pagesCount?(e.previousPageNumber=this._currentPageNumber,this._currentPageNumber=t,e.pageNumber=t,void this.container.dispatchEvent(e)):(e.pageNumber=this._currentPageNumber,e.previousPageNumber=t,void this.container.dispatchEvent(e))},get currentScale(){return this._currentScale},set currentScale(t){if(isNaN(t))throw new Error("Invalid numeric scale");return this.pdfDocument?void this._setScale(t,!1):(this._currentScale=t,void(this._currentScaleValue=t.toString()))},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(t){return this.pdfDocument?void this._setScale(t,!1):(this._currentScale=isNaN(t)?l:t,void(this._currentScaleValue=t))},get pagesRotation(){return this._pagesRotation},set pagesRotation(t){this._pagesRotation=t;for(var e=0,i=this.pages.length;i>e;e++){var n=this.pages[e];n.update(n.scale,t)}this._setScale(this._currentScaleValue,!0)},setDocument:function(t){if(this.pdfDocument&&this._resetView(),this.pdfDocument=t,t){var e,i=t.numPages,n=this.pagesRefMap={},r=this,s=new Promise(function(t){e=t});this.pagesPromise=s,s.then(function(){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesloaded",!0,!0,{pagesCount:i}),r.container.dispatchEvent(t)});var a=!1,o=null,d=new Promise(function(t){o=t});this.onePageRendered=d;var l=function(t){t.onBeforeDraw=function(){r._buffer.push(this)},t.onAfterDraw=function(){a||(a=!0,o())}},c=t.getPage(1);return this.firstPagePromise=c,c.then(function(s){for(var a=this._currentScale||1,o=s.getViewport(a*h),c=1;i>=c;++c){var u=null;PDFJS.disableTextLayer||(u=this);var f=new x({container:this.viewer,id:c,scale:a,defaultViewport:o.clone(),renderingQueue:this.renderingQueue,textLayerFactory:u,annotationsLayerFactory:this});l(f),this.pages.push(f)}d.then(function(){if(PDFJS.disableAutoFetch)e();else for(var s=i,a=1;i>=a;++a)t.getPage(a).then(function(t,i){var a=r.pages[t-1];a.pdfPage||a.setPdfPage(i);var o=i.ref.num+" "+i.ref.gen+" R";n[o]=t,s--,s||e()}.bind(null,a))});var v=document.createEvent("CustomEvent");v.initCustomEvent("pagesinit",!0,!0,null),r.container.dispatchEvent(v),this.defaultRenderingQueue&&this.update(),this.findController&&this.findController.resolveFirstPage()}.bind(this))}},_resetView:function(){this.pages=[],this._currentPageNumber=1,this._currentScale=l,this._currentScaleValue=null,this._buffer=new t(m),this.location=null,this._pagesRotation=0,this._pagesRequests=[];for(var e=this.viewer;e.hasChildNodes();)e.removeChild(e.lastChild)},_scrollUpdate:function(){if(0!==this.pagesCount){this.update();for(var t=0,e=this.pages.length;e>t;t++)this.pages[t].updatePosition()}},_setScaleDispatchEvent:function(t,e,i){var n=document.createEvent("UIEvents");n.initUIEvent("scalechange",!0,!0,window,0),n.scale=t,i&&(n.presetValue=e),this.container.dispatchEvent(n)},_setScaleUpdatePages:function(t,e,i,n){if(this._currentScaleValue=e,t===this._currentScale)return void(n&&this._setScaleDispatchEvent(t,e,!0));for(var r=0,s=this.pages.length;s>r;r++)this.pages[r].update(t);if(this._currentScale=t,!i){var a,o=this._currentPageNumber,h=this.presentationModeState===g.CHANGING||this.presentationModeState===g.FULLSCREEN;!this.location||h||p||(o=this.location.pageNumber,a=[null,{name:"XYZ"},this.location.left,this.location.top,null]),this.scrollPageIntoView(o,a)}this._setScaleDispatchEvent(t,e,n)},_setScale:function(t,e){if("custom"!==t){var i=parseFloat(t);if(i>0)this._setScaleUpdatePages(i,t,e,!1);else{var n=this.pages[this._currentPageNumber-1];if(!n)return;var r=this.presentationModeState===g.FULLSCREEN,s=r?0:u,a=r?0:f,o=(this.container.clientWidth-s)/n.width*n.scale,h=(this.container.clientHeight-a)/n.height*n.scale;switch(t){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=h;break;case"page-fit":i=Math.min(o,h);break;case"auto":var d=n.width>n.height,l=d?Math.min(h,o):o;i=Math.min(c,l);break;default:return void console.error("pdfViewSetScale: '"+t+"' is an unknown zoom value.")}this._setScaleUpdatePages(i,t,e,!0)}}},scrollPageIntoView:function(t,i){var n=this.pages[t-1];if(this.presentationModeState===g.FULLSCREEN){if(this.linkService.page!==n.id)return void(this.linkService.page=n.id);i=null,this._setScale(this.currentScaleValue,!0)}if(!i)return void e(n.div);var r,s,a=0,o=0,c=0,f=0,v=n.rotation%180!==0,p=(v?n.height:n.width)/n.scale/h,m=(v?n.width:n.height)/n.scale/h,w=0;switch(i[1].name){case"XYZ":a=i[2],o=i[3],w=i[4],a=null!==a?a:0,o=null!==o?o:m;break;case"Fit":case"FitB":w="page-fit";break;case"FitH":case"FitBH":o=i[2],w="page-width";break;case"FitV":case"FitBV":a=i[2],c=p,f=m,w="page-height";break;case"FitR":a=i[2],o=i[3],c=i[4]-a,f=i[5]-o;var y=this.container;r=(y.clientWidth-u)/c/h,s=(y.clientHeight-u)/f/h,w=Math.min(Math.abs(r),Math.abs(s));break;default:return}if(w&&w!==this.currentScale?this.currentScaleValue=w:this.currentScale===l&&(this.currentScaleValue=d),"page-fit"===w&&!i[4])return void e(n.div);var P=[n.viewport.convertToViewportPoint(a,o),n.viewport.convertToViewportPoint(a+c,o+f)],b=Math.min(P[0][0],P[1][0]),x=Math.min(P[0][1],P[1][1]);e(n.div,{left:b,top:x})},_updateLocation:function(t){var e=this._currentScale,i=this._currentScaleValue,n=parseFloat(i)===e?Math.round(1e4*e)/100:i,r=t.id,s="#page="+r;s+="&zoom="+n;var a=this.pages[r-1],o=this.container,h=a.getPagePoint(o.scrollLeft-t.x,o.scrollTop-t.y),d=Math.round(h[0]),l=Math.round(h[1]);s+=","+d+","+l,this.location={pageNumber:r,scale:n,top:l,left:d,pdfOpenParams:s}},update:function(){var t=this._getVisiblePages(),e=t.views;if(0!==e.length){this.updateInProgress=!0;var i=Math.max(m,2*e.length+1);this._buffer.resize(i),this.renderingQueue.renderHighestPriority(t);for(var n=this.currentPageNumber,r=t.first,s=0,a=e.length,o=!1;a>s;++s){var h=e[s];if(h.percent<100)break;if(h.id===n){o=!0;break}}o||(n=e[0].id),this.presentationModeState!==g.FULLSCREEN&&(this.currentPageNumber=n),this._updateLocation(r),this.updateInProgress=!1;var d=document.createEvent("UIEvents");d.initUIEvent("updateviewarea",!0,!0,window,0),this.container.dispatchEvent(d)}},containsElement:function(t){return this.container.contains(t)},focus:function(){this.container.focus()},blur:function(){this.container.blur()},get isHorizontalScrollbarEnabled(){return this.presentationModeState===g.FULLSCREEN?!1:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function(){if(this.presentationModeState!==g.FULLSCREEN)return r(this.container,this.pages,!0);var t=[],e=this.pages[this._currentPageNumber-1];return t.push({id:e.id,view:e}),{first:e,last:e,views:t}},cleanup:function(){for(var t=0,e=this.pages.length;e>t;t++)this.pages[t]&&this.pages[t].renderingState!==y.FINISHED&&this.pages[t].reset()},_ensurePdfPageLoaded:function(t){if(t.pdfPage)return Promise.resolve(t.pdfPage);var e=t.id;if(this._pagesRequests[e])return this._pagesRequests[e];var i=this.pdfDocument.getPage(e).then(function(i){return t.setPdfPage(i),this._pagesRequests[e]=null,i}.bind(this));return this._pagesRequests[e]=i,i},forceRendering:function(t){var e=t||this._getVisiblePages(),i=this.renderingQueue.getHighestPriority(e,this.pages,this.scroll.down);return i?(this._ensurePdfPageLoaded(i).then(function(){this.renderingQueue.renderView(i)}.bind(this)),!0):!1},getPageTextContent:function(t){return this.pdfDocument.getPage(t+1).then(function(t){return t.getTextContent()})},createTextLayerBuilder:function(t,e,i){var n=this.presentationModeState===g.FULLSCREEN;return new C({textLayerDiv:t,pageIndex:e,viewport:i,findController:n?null:this.findController})},createAnnotationsLayerBuilder:function(t,e){return new I({pageDiv:t,pdfPage:e,linkService:this.linkService})},setFindController:function(t){this.findController=t}},n}(),D=function(){function t(t){this.pdfViewer=t}return t.prototype={get page(){return this.pdfViewer.currentPageNumber},set page(t){this.pdfViewer.currentPageNumber=t},navigateTo:function(t){},getDestinationHash:function(t){return"#"},getAnchorUrl:function(t){return"#"},setHash:function(t){},executeNamedAction:function(t){}},t}();PDFJS.PDFViewer=N,PDFJS.PDFPageView=x,PDFJS.TextLayerBuilder=C,PDFJS.DefaultTextLayerFactory=a,PDFJS.AnnotationsLayerBuilder=I,PDFJS.DefaultAnnotationsLayerFactory=o}.call("undefined"==typeof window?this:window);
//# sourceMappingURL=pdf_viewer.min.js.map