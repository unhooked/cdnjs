"undefined"==typeof PDFJS&&(("undefined"!=typeof window?window:this).PDFJS={}),function(){"use strict";function t(t){var e=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,n=e/i;return{sx:n,sy:n,scaled:1!==n}}function e(t,e){var i=t.offsetParent,n=t.offsetTop+t.clientTop,r=t.offsetLeft+t.clientLeft;if(!i)return void console.error("offsetParent is not set -- cannot scroll");for(;i.clientHeight===i.scrollHeight;)if(i.dataset._scaleY&&(n/=i.dataset._scaleY,r/=i.dataset._scaleX),n+=i.offsetTop,r+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(void 0!==e.top&&(n+=e.top),void 0!==e.left&&(r+=e.left,i.scrollLeft=r)),i.scrollTop=n}function i(t,e){var i=function(i){r||(r=window.requestAnimationFrame(function(){r=null;var i=t.scrollTop,s=n.lastY;i>s?n.down=!0:s>i&&(n.down=!1),n.lastY=i,e(n)}))},n={down:!0,lastY:t.scrollTop,_eventHandler:i},r=null;return t.addEventListener("scroll",i,!0),n}function n(t,e,i){for(var n,r,s,a,o,h,l,d=t.scrollTop,c=d+t.clientHeight,u=t.scrollLeft,f=u+t.clientWidth,g=[],p=0,v=e.length;v>p;++p)if(n=e[p],r=n.el.offsetTop+n.el.clientTop,s=n.el.clientHeight,!(d>r+s)){if(r>c)break;h=n.el.offsetLeft+n.el.clientLeft,l=n.el.clientWidth,u>h+l||h>f||(a=Math.max(0,d-r)+Math.max(0,r+s-c),o=100*(s-a)/s|0,g.push({id:n.id,x:h,y:r,view:n,percent:o}))}var m=g[0],w=g[g.length-1];return i&&g.sort(function(t,e){var i=t.percent-e.percent;return Math.abs(i)>.001?-i:t.id-e.id}),{first:m,last:w,views:g}}function r(t){return!C.test(t)}var s=96/72,a="auto",o=0,h=1.25,l=40,d=5,c=10,u=function(){function t(){}var e=["ms","Moz","Webkit","O"],i={};return t.getProp=function(t,n){if(1===arguments.length&&"string"==typeof i[t])return i[t];n=n||document.documentElement;var r,s,a=n.style;if("string"==typeof a[t])return i[t]=t;s=t.charAt(0).toUpperCase()+t.slice(1);for(var o=0,h=e.length;h>o;o++)if(r=e[o]+s,"string"==typeof a[r])return i[t]=r;return i[t]="undefined"},t.setProp=function(t,e,i){var n=this.getProp(t);"undefined"!==n&&(e.style[n]=i)},t}(),f=(function(){function t(t,e,i){return Math.min(Math.max(t,e),i)}function e(t,e){this.visible=!0,this.div=document.querySelector(t+" .progress"),this.bar=this.div.parentNode,this.height=e.height||100,this.width=e.width||100,this.units=e.units||"%",this.div.style.height=this.height+this.units,this.percent=0}return e.prototype={updateBar:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate");var t=this.width*this._percent/100;this.div.style.width=t+this.units},get percent(){return this._percent},set percent(e){this._indeterminate=isNaN(e),this._percent=t(e,0,100),this.updateBar()},setWidth:function(t){if(t){var e=t.parentNode,i=e.offsetWidth-t.offsetWidth;i>0&&this.bar.setAttribute("style","width: calc(100% - "+i+"px);")}},hide:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))},show:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},e}(),function(t){var e=[];this.push=function(i){var n=e.indexOf(i);n>=0&&e.splice(n,1),e.push(i),e.length>t&&e.shift().destroy()},this.resize=function(i){for(t=i;e.length>t;)e.shift().destroy()}}),g={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},p=!1,v=3e4,m={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},w=function(){function t(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return t.prototype={setViewer:function(t){this.pdfViewer=t},setThumbnailViewer:function(t){this.pdfThumbnailViewer=t},isHighestPriority:function(t){return this.highestPriorityPage===t.renderingId},renderHighestPriority:function(t){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(t)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),v))},getHighestPriority:function(t,e,i){var n=t.views,r=n.length;if(0===r)return!1;for(var s=0;r>s;++s){var a=n[s].view;if(!this.isViewFinished(a))return a}if(i){var o=t.last.id;if(e[o]&&!this.isViewFinished(e[o]))return e[o]}else{var h=t.first.id-2;if(e[h]&&!this.isViewFinished(e[h]))return e[h]}return null},isViewFinished:function(t){return t.renderingState===m.FINISHED},renderView:function(t){var e=t.renderingState;switch(e){case m.FINISHED:return!1;case m.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case m.RUNNING:this.highestPriorityPage=t.renderingId;break;case m.INITIAL:this.highestPriorityPage=t.renderingId,t.draw(this.renderHighestPriority.bind(this))}return!0}},t}(),P=function(e,i,n,r,a,o,h,l,d){function c(t,e,i){function n(t,e){t.href=a.getDestinationHash(e),t.onclick=function(){return e&&a.navigateTo(e),!1},e&&(t.className="internalLink")}function r(t,e){t.href=a.getAnchorUrl(""),t.onclick=function(){return a.executeNamedAction(e),!1},t.className="internalLink"}e.getAnnotations().then(function(s){i=i.clone({dontFlip:!0});var a,o,h,l,d=i.transform,c="matrix("+d.join(",")+")";if(p.annotationLayer){for(h=0,l=s.length;l>h;h++)a=s[h],o=p.annotationLayer.querySelector('[data-annotation-id="'+a.id+'"]'),o&&u.setProp("transform",o,c);p.annotationLayer.removeAttribute("hidden")}else for(h=0,l=s.length;l>h;h++)if(a=s[h],a&&a.hasHtml){o=PDFJS.AnnotationUtils.getHtmlElement(a,e.commonObjs),o.setAttribute("data-annotation-id",a.id),mozL10n.translate(o);var f=a.rect,g=e.view;f=PDFJS.Util.normalizeRect([f[0],g[3]-f[1]+g[1],f[2],g[3]-f[3]+g[1]]),o.style.left=f[0]+"px",o.style.top=f[1]+"px",o.style.position="absolute",u.setProp("transform",o,c);var v=-f[0]+"px "+-f[1]+"px";if(u.setProp("transformOrigin",o,v),"Link"===a.subtype&&!a.url){var m=o.getElementsByTagName("a")[0];m&&(a.action?r(m,a.action):n(m,"dest"in a?a.dest:null))}if(!p.annotationLayer){var w=document.createElement("div");w.className="annotationLayer",t.appendChild(w),p.annotationLayer=w}p.annotationLayer.appendChild(o)}})}this.id=i,this.renderingId="page"+i,this.rotation=0,this.scale=n||1,this.viewport=r,this.pdfPageRotate=r.rotation,this.hasRestrictedScaling=!1,this.linkService=a,this.renderingQueue=o,this.cache=h,this.pageSource=l,this.viewer=d,this.renderingState=m.INITIAL,this.resume=null,this.textLayer=null,this.zoomLayer=null,this.annotationLayer=null;var f=document.createElement("a");f.name=""+this.id;var g=this.el=document.createElement("div");g.id="pageContainer"+this.id,g.className="page",g.style.width=Math.floor(this.viewport.width)+"px",g.style.height=Math.floor(this.viewport.height)+"px",e.appendChild(f),e.appendChild(g),this.setPdfPage=function(t){this.pdfPage=t,this.pdfPageRotate=t.rotate;var e=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport(this.scale*s,e),this.stats=t.stats,this.reset()},this.destroy=function(){this.zoomLayer=null,this.reset(),this.pdfPage&&this.pdfPage.destroy()},this.reset=function(t){this.renderTask&&this.renderTask.cancel(),this.resume=null,this.renderingState=m.INITIAL,g.style.width=Math.floor(this.viewport.width)+"px",g.style.height=Math.floor(this.viewport.height)+"px";for(var e=g.childNodes,i=g.childNodes.length-1;i>=0;i--){var n=e[i];this.zoomLayer&&this.zoomLayer===n||t&&this.annotationLayer===n||g.removeChild(n)}g.removeAttribute("data-loaded"),t?this.annotationLayer&&this.annotationLayer.setAttribute("hidden","true"):this.annotationLayer=null,this.canvas&&(this.canvas.width=0,this.canvas.height=0,delete this.canvas),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",g.appendChild(this.loadingIconDiv)},this.update=function(e,i){this.scale=e||this.scale,"undefined"!=typeof i&&(this.rotation=i);var n=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:this.scale*s,rotation:n});var r=!1;if(this.canvas&&PDFJS.maxCanvasPixels>0){var a=this.canvas.getContext("2d"),o=t(a),h=this.viewport.width*this.viewport.height;Math.sqrt(PDFJS.maxCanvasPixels/h);(Math.floor(this.viewport.width)*o.sx|0)*(Math.floor(this.viewport.height)*o.sy|0)>PDFJS.maxCanvasPixels&&(r=!0)}return this.canvas&&(PDFJS.useOnlyCssZoom||this.hasRestrictedScaling&&r)?void this.cssTransform(this.canvas,!0):(this.canvas&&!this.zoomLayer&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute"),this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),void this.reset(!0))},this.cssTransform=function(t,e){var i=this.viewport.width,n=this.viewport.height;t.style.width=t.parentNode.style.width=g.style.width=Math.floor(i)+"px",t.style.height=t.parentNode.style.height=g.style.height=Math.floor(n)+"px";var r=this.viewport.rotation-t._viewport.rotation,s=Math.abs(r),a=1,o=1;90!==s&&270!==s||(a=n/i,o=i/n);var h="rotate("+r+"deg) scale("+a+","+o+")";if(u.setProp("transform",t,h),this.textLayer){var l=this.textLayer.viewport,d=this.viewport.rotation-l.rotation,f=Math.abs(d),p=i/l.width;90!==f&&270!==f||(p=i/l.height);var v,m,w=this.textLayer.textLayerDiv;switch(f){case 0:v=m=0;break;case 90:v=0,m="-"+w.style.height;break;case 180:v="-"+w.style.width,m="-"+w.style.height;break;case 270:v="-"+w.style.width,m=0;break;default:console.error("Bad rotation value.")}u.setProp("transform",w,"rotate("+f+"deg) scale("+p+", "+p+") translate("+v+", "+m+")"),u.setProp("transformOrigin",w,"0% 0%")}e&&this.annotationLayer&&c(g,this.pdfPage,this.viewport)},Object.defineProperty(this,"width",{get:function(){return this.viewport.width},enumerable:!0}),Object.defineProperty(this,"height",{get:function(){return this.viewport.height},enumerable:!0});var p=this;this.getPagePoint=function(t,e){return this.viewport.convertToPdfPoint(t,e)},this.draw=function(e){function i(t){if(S===y.renderTask&&(y.renderTask=null),"cancelled"!==t){y.renderingState=m.FINISHED,y.loadingIconDiv&&(g.removeChild(y.loadingIconDiv),delete y.loadingIconDiv),y.zoomLayer&&(g.removeChild(y.zoomLayer),y.zoomLayer=null),y.error=t,y.stats=n.stats,y.updateStats(),y.onAfterDraw&&y.onAfterDraw();var i=document.createEvent("CustomEvent");i.initCustomEvent("pagerender",!0,!0,{pageNumber:n.pageNumber}),g.dispatchEvent(i),e()}}var n=this.pdfPage;if(!this.pagePdfPromise){if(!n){var r=this.pageSource.getPage();return r.then(function(t){delete this.pagePdfPromise,this.setPdfPage(t),this.draw(e)}.bind(this)),void(this.pagePdfPromise=r)}this.renderingState!==m.INITIAL&&console.error("Must be in new state before drawing"),this.renderingState=m.RUNNING;var a=this.viewport,o=document.createElement("div");o.style.width=g.style.width,o.style.height=g.style.height,o.classList.add("canvasWrapper");var l=document.createElement("canvas");l.id="page"+this.id,o.appendChild(l),this.annotationLayer?g.insertBefore(o,this.annotationLayer):g.appendChild(o),this.canvas=l;var d=l.getContext("2d"),u=t(d);if(PDFJS.useOnlyCssZoom){var f=a.clone({scale:s});u.sx*=f.width/a.width,u.sy*=f.height/a.height,u.scaled=!0}if(PDFJS.maxCanvasPixels>0){var p=a.width*a.height,v=Math.sqrt(PDFJS.maxCanvasPixels/p);u.sx>v||u.sy>v?(u.sx=v,u.sy=v,u.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}l.width=Math.floor(a.width)*u.sx|0,l.height=Math.floor(a.height)*u.sy|0,l.style.width=Math.floor(a.width)+"px",l.style.height=Math.floor(a.height)+"px",l._viewport=a;var w=null,P=null;PDFJS.disableTextLayer||(w=document.createElement("div"),w.className="textLayer",w.style.width=l.style.width,w.style.height=l.style.height,this.annotationLayer?g.insertBefore(w,this.annotationLayer):g.appendChild(w),P=this.viewer.createTextLayerBuilder(w,this.id-1,this.viewport)),this.textLayer=P,d._scaleX=u.sx,d._scaleY=u.sy,u.scaled&&d.scale(u.sx,u.sy);var y=this,b={canvasContext:d,viewport:this.viewport,continueCallback:function(t){return y.renderingQueue.isHighestPriority(y)?void t():(y.renderingState=m.PAUSED,void(y.resume=function(){y.renderingState=m.RUNNING,t()}))}},S=this.renderTask=this.pdfPage.render(b);this.renderTask.promise.then(function(){i(null),P&&y.pdfPage.getTextContent().then(function(t){P.setTextContent(t)})},function(t){i(t)}),c(g,n,this.viewport),g.setAttribute("data-loaded",!0),h.push(this)}},this.beforePrint=function(){var t=this.pdfPage,e=t.getViewport(1),i=2,n=document.createElement("canvas");n.width=Math.floor(e.width)*i,n.height=Math.floor(e.height)*i,n.style.width=i*e.width+"pt",n.style.height=i*e.height+"pt";var r="scale("+1/i+", "+1/i+")";u.setProp("transform",n,r),u.setProp("transformOrigin",n,"0% 0%");var s=document.getElementById("printContainer"),a=document.createElement("div");a.style.width=e.width+"pt",a.style.height=e.height+"pt",a.appendChild(n),s.appendChild(a),n.mozPrintCallback=function(r){var s=r.context;s.save(),s.fillStyle="rgb(255, 255, 255)",s.fillRect(0,0,n.width,n.height),s.restore(),s.scale(i,i);var a={canvasContext:s,viewport:e,intent:"print"};t.render(a).promise.then(function(){r.done()},function(t){console.error(t),"abort"in r?r.abort():r.done()})}},this.updateStats=function(){if(this.stats&&PDFJS.pdfBug&&Stats.enabled){var t=this.stats;Stats.add(this.id,t)}}},y=-50,b=-400,S=1e5,x=200,C=/\S/,I=function(){function t(t){this.textLayerDiv=t.textLayerDiv,this.layoutDone=!1,this.divContentDone=!1,this.pageIdx=t.pageIndex,this.matches=[],this.lastScrollSource=t.lastScrollSource||null,this.viewport=t.viewport,this.isViewerInPresentationMode=t.isViewerInPresentationMode,this.textDivs=[],this.findController=t.findController||null}return t.prototype={renderLayer:function(){var t=document.createDocumentFragment(),e=this.textDivs,i=e.length,n=document.createElement("canvas"),r=n.getContext("2d");if(!(i>S)){for(var s,a,o=0;i>o;o++){var h=e[o];if(void 0===h.dataset.isWhitespace){var l=h.style.fontSize,d=h.style.fontFamily;l===s&&d===a||(r.font=l+" "+d,s=l,a=d);var c=r.measureText(h.textContent).width;if(c>0){t.appendChild(h);var f;if(void 0!==h.dataset.canvasWidth){var g=h.dataset.canvasWidth/c;f="scaleX("+g+")"}else f="";var p=h.dataset.angle;p&&(f="rotate("+p+"deg) "+f),f&&u.setProp("transform",h,f)}}}this.textLayerDiv.appendChild(t),this.renderingDone=!0,this.updateMatches()}},setupRenderLayoutTimer:function(){var t=this,e=null===this.lastScrollSource?0:this.lastScrollSource.lastScroll;Date.now()-e>x?this.renderLayer():(this.renderTimer&&clearTimeout(this.renderTimer),this.renderTimer=setTimeout(function(){t.setupRenderLayoutTimer()},x))},appendText:function(t,e){var i=e[t.fontName],n=document.createElement("div");if(this.textDivs.push(n),r(t.str))return void(n.dataset.isWhitespace=!0);var s=PDFJS.Util.transform(this.viewport.transform,t.transform),a=Math.atan2(s[1],s[0]);i.vertical&&(a+=Math.PI/2);var o=Math.sqrt(s[2]*s[2]+s[3]*s[3]),h=o;i.ascent?h=i.ascent*h:i.descent&&(h=(1+i.descent)*h);var l,d;0===a?(l=s[4],d=s[5]-h):(l=s[4]+h*Math.sin(a),d=s[5]-h*Math.cos(a)),n.style.left=l+"px",n.style.top=d+"px",n.style.fontSize=o+"px",n.style.fontFamily=i.fontFamily,n.textContent=t.str,PDFJS.pdfBug&&(n.dataset.fontName=t.fontName),0!==a&&(n.dataset.angle=a*(180/Math.PI)),n.textContent.length>1&&(i.vertical?n.dataset.canvasWidth=t.height*this.viewport.scale:n.dataset.canvasWidth=t.width*this.viewport.scale)},setTextContent:function(t){this.textContent=t;for(var e=t.items,i=0,n=e.length;n>i;i++)this.appendText(e[i],t.styles);this.divContentDone=!0,this.setupRenderLayoutTimer()},convertMatches:function(t){for(var e=0,i=0,n=this.textContent.items,r=n.length-1,s=null===this.findController?0:this.findController.state.query.length,a=[],o=0,h=t.length;h>o;o++){for(var l=t[o];e!==r&&l>=i+n[e].str.length;)i+=n[e].str.length,e++;e===n.length&&console.error("Could not find a matching mapping");var d={begin:{divIdx:e,offset:l-i}};for(l+=s;e!==r&&l>i+n[e].str.length;)i+=n[e].str.length,e++;d.end={divIdx:e,offset:l-i},a.push(d)}return a},renderMatches:function(t){function i(t,e){var i=t.divIdx;s[i].textContent="",n(i,0,t.offset,e)}function n(t,e,i,n){var a=s[t],o=r[t].str.substring(e,i),h=document.createTextNode(o);if(n){var l=document.createElement("span");return l.className=n,l.appendChild(h),void a.appendChild(l)}a.appendChild(h)}if(0!==t.length){var r=this.textContent.items,s=this.textDivs,a=null,o=null===this.findController?!1:this.pageIdx===this.findController.selected.pageIdx,h=null===this.findController?-1:this.findController.selected.matchIdx,l=null===this.findController?!1:this.findController.state.highlightAll,d={divIdx:-1,offset:void 0},c=h,u=c+1;if(l)c=0,u=t.length;else if(!o)return;for(var f=c;u>f;f++){var g=t[f],p=g.begin,v=g.end,m=o&&f===h,w=m?" selected":"";if(m&&!this.isViewerInPresentationMode&&e(s[p.divIdx],{top:y,left:b}),a&&p.divIdx===a.divIdx?n(a.divIdx,a.offset,p.offset):(null!==a&&n(a.divIdx,a.offset,d.offset),i(p)),p.divIdx===v.divIdx)n(p.divIdx,p.offset,v.offset,"highlight"+w);else{n(p.divIdx,p.offset,d.offset,"highlight begin"+w);for(var P=p.divIdx+1,S=v.divIdx;S>P;P++)s[P].className="highlight middle"+w;i(v,"highlight end"+w)}a=v}a&&n(a.divIdx,a.offset,d.offset)}},updateMatches:function(){if(this.renderingDone){for(var t=this.matches,e=this.textDivs,i=this.textContent.items,n=-1,r=0,s=t.length;s>r;r++){for(var a=t[r],o=Math.max(n,a.begin.divIdx),h=o,l=a.end.divIdx;l>=h;h++){var d=e[h];d.textContent=i[h].str,d.className=""}n=a.end.divIdx+1}null!==this.findController&&this.findController.active&&(this.matches=this.convertMatches(null===this.findController?[]:this.findController.pageMatches[this.pageIdx]||[]),this.renderMatches(this.matches))}}},t}(),N=function(){function t(t){this.container=t.container,this.viewer=t.viewer||t.container.firstElementChild,this.linkService=t.linkService||new L(this),this.defaultRenderingQueue=!t.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new w,this.renderingQueue.setViewer(this)):this.renderingQueue=t.renderingQueue,this.scroll=i(this.container,this._scrollUpdate.bind(this)),this.lastScroll=0,this.updateInProgress=!1,this.presentationModeState=g.UNKNOWN,this._resetView()}return t.prototype={get pagesCount(){return this.pages.length},getPageView:function(t){return this.pages[t]},get currentPageNumber(){return this._currentPageNumber},set currentPageNumber(t){if(!this.pdfDocument)return void(this._currentPageNumber=t);var e=document.createEvent("UIEvents");return e.initUIEvent("pagechange",!0,!0,window,0),e.updateInProgress=this.updateInProgress,t>0&&t<=this.pagesCount?(this.pages[t-1].updateStats(),e.previousPageNumber=this._currentPageNumber,this._currentPageNumber=t,e.pageNumber=t,void this.container.dispatchEvent(e)):(e.pageNumber=this._currentPageNumber,e.previousPageNumber=t,void this.container.dispatchEvent(e))},get currentScale(){return this._currentScale},set currentScale(t){if(isNaN(t))throw new Error("Invalid numeric scale");return this.pdfDocument?void this._setScale(t,!1):(this._currentScale=t,void(this._currentScaleValue=t.toString()))},get currentScaleValue(){return this._currentScaleValue},set currentScaleValue(t){return this.pdfDocument?void this._setScale(t,!1):(this._currentScale=isNaN(t)?o:t,void(this._currentScaleValue=t))},get pagesRotation(){return this._pagesRotation},set pagesRotation(t){this._pagesRotation=t;for(var e=0,i=this.pages.length;i>e;e++){var n=this.pages[e];n.update(n.scale,t)}this._setScale(this._currentScaleValue,!0)},setDocument:function(t){if(this.pdfDocument&&this._resetView(),this.pdfDocument=t,t){var e,i=t.numPages,n=this.pagesRefMap={},r=this,a=new Promise(function(t){e=t});this.pagesPromise=a,a.then(function(){var t=document.createEvent("CustomEvent");t.initCustomEvent("pagesloaded",!0,!0,{pagesCount:i}),r.container.dispatchEvent(t)});var o=!1,h=null,l=new Promise(function(t){h=t});this.onePageRendered=l;var d=function(t){t.onAfterDraw=function(){o||(o=!0,h());var e=document.createEvent("CustomEvent");e.initCustomEvent("pagerendered",!0,!0,{pageNumber:t.id}),r.container.dispatchEvent(e)}},c=t.getPage(1);return this.firstPagePromise=c,c.then(function(a){for(var o=this._currentScale||1,h=a.getViewport(o*s),c=1;i>=c;++c){var u=new E(t,c),f=new P(this.viewer,c,o,h.clone(),this.linkService,this.renderingQueue,this.cache,u,this);d(f),this.pages.push(f)}l.then(function(){if(PDFJS.disableAutoFetch)e();else for(var s=i,a=1;i>=a;++a)t.getPage(a).then(function(t,i){var a=r.pages[t-1];a.pdfPage||a.setPdfPage(i);var o=i.ref.num+" "+i.ref.gen+" R";n[o]=t,s--,s||e()}.bind(null,a))});var g=document.createEvent("CustomEvent");g.initCustomEvent("pagesinit",!0,!0,null),r.container.dispatchEvent(g),this.defaultRenderingQueue&&this.update()}.bind(this))}},_resetView:function(){this.cache=new f(c),this.pages=[],this._currentPageNumber=1,this._currentScale=o,this._currentScaleValue=null,this.location=null,this._pagesRotation=0;for(var t=this.viewer;t.hasChildNodes();)t.removeChild(t.lastChild)},_scrollUpdate:function(){this.lastScroll=Date.now(),0!==this.pagesCount&&this.update()},_setScaleUpdatePages:function(t,e,i,n){if(this._currentScaleValue=e,t!==this._currentScale){for(var r=0,s=this.pages.length;s>r;r++)this.pages[r].update(t);if(this._currentScale=t,!i){var a,o=this._currentPageNumber,h=this.presentationModeState===g.CHANGING||this.presentationModeState===g.FULLSCREEN;!this.location||h||p||(o=this.location.pageNumber,a=[null,{name:"XYZ"},this.location.left,this.location.top,null]),this.scrollPageIntoView(o,a)}var l=document.createEvent("UIEvents");l.initUIEvent("scalechange",!0,!0,window,0),l.scale=t,n&&(l.presetValue=e),this.container.dispatchEvent(l)}},_setScale:function(t,e){if("custom"!==t){var i=parseFloat(t);if(i>0)this._setScaleUpdatePages(i,t,e,!1);else{var n=this.pages[this._currentPageNumber-1];if(!n)return;var r=this.presentationModeState===g.FULLSCREEN,s=r?0:l,a=r?0:d,o=(this.container.clientWidth-s)/n.width*n.scale,c=(this.container.clientHeight-a)/n.height*n.scale;switch(t){case"page-actual":i=1;break;case"page-width":i=o;break;case"page-height":i=c;break;case"page-fit":i=Math.min(o,c);break;case"auto":var u=n.width>n.height,f=u?Math.min(c,o):o;i=Math.min(h,f);break;default:return void console.error("pdfViewSetScale: '"+t+"' is an unknown zoom value.")}this._setScaleUpdatePages(i,t,e,!0)}}},scrollPageIntoView:function(t,i){var n=this.pages[t-1],r=n.el;if(this.presentationModeState===g.FULLSCREEN){if(this.linkService.page!==n.id)return void(this.linkService.page=n.id);i=null,this._setScale(this.currentScaleValue,!0)}if(!i)return void e(r);var h,d,c=0,u=0,f=0,p=0,v=n.rotation%180!==0,m=(v?n.height:n.width)/n.scale/s,w=(v?n.width:n.height)/n.scale/s,P=0;switch(i[1].name){case"XYZ":c=i[2],u=i[3],P=i[4],c=null!==c?c:0,u=null!==u?u:w;break;case"Fit":case"FitB":P="page-fit";break;case"FitH":case"FitBH":u=i[2],P="page-width";break;case"FitV":case"FitBV":c=i[2],f=m,p=w,P="page-height";break;case"FitR":c=i[2],u=i[3],f=i[4]-c,p=i[5]-u;var y=this.container;h=(y.clientWidth-l)/f/s,d=(y.clientHeight-l)/p/s,P=Math.min(Math.abs(h),Math.abs(d));break;default:return}if(P&&P!==this.currentScale?this.currentScaleValue=P:this.currentScale===o&&(this.currentScaleValue=a),"page-fit"===P&&!i[4])return void e(r);var b=[n.viewport.convertToViewportPoint(c,u),n.viewport.convertToViewportPoint(c+f,u+p)],S=Math.min(b[0][0],b[1][0]),x=Math.min(b[0][1],b[1][1]);e(r,{left:S,top:x})},_updateLocation:function(t){var e=this._currentScale,i=this._currentScaleValue,n=parseFloat(i)===e?Math.round(1e4*e)/100:i,r=t.id,s="#page="+r;s+="&zoom="+n;var a=this.pages[r-1],o=this.container,h=a.getPagePoint(o.scrollLeft-t.x,o.scrollTop-t.y),l=Math.round(h[0]),d=Math.round(h[1]);s+=","+l+","+d,this.location={pageNumber:r,scale:n,top:d,left:l,pdfOpenParams:s}},update:function(){var t=this._getVisiblePages(),e=t.views;if(0!==e.length){this.updateInProgress=!0;var i=Math.max(c,2*e.length+1);this.cache.resize(i),this.renderingQueue.renderHighestPriority(t);for(var n=this.currentPageNumber,r=t.first,s=0,a=e.length,o=!1;a>s;++s){var h=e[s];if(h.percent<100)break;if(h.id===n){o=!0;break}}o||(n=e[0].id),this.presentationModeState!==g.FULLSCREEN&&(this.currentPageNumber=n),this._updateLocation(r),this.updateInProgress=!1;var l=document.createEvent("UIEvents");l.initUIEvent("updateviewarea",!0,!0,window,0),this.container.dispatchEvent(l)}},containsElement:function(t){return this.container.contains(t)},focus:function(){this.container.focus()},blur:function(){this.container.blur()},get isHorizontalScrollbarEnabled(){return this.presentationModeState===g.FULLSCREEN?!1:this.container.scrollWidth>this.container.clientWidth},_getVisiblePages:function(){if(this.presentationModeState!==g.FULLSCREEN)return n(this.container,this.pages,!0);var t=[],e=this.pages[this._currentPageNumber-1];return t.push({id:e.id,view:e}),{first:e,last:e,views:t}},cleanup:function(){for(var t=0,e=this.pages.length;e>t;t++)this.pages[t]&&this.pages[t].renderingState!==m.FINISHED&&this.pages[t].reset()},forceRendering:function(t){var e=t||this._getVisiblePages(),i=this.renderingQueue.getHighestPriority(e,this.pages,this.scroll.down);return i?(this.renderingQueue.renderView(i),!0):!1},getPageTextContent:function(t){return this.pdfDocument.getPage(t+1).then(function(t){return t.getTextContent()})},createTextLayerBuilder:function(t,e,i){var n=this.presentationModeState===g.FULLSCREEN;return new I({textLayerDiv:t,pageIndex:e,viewport:i,lastScrollSource:this,isViewerInPresentationMode:n,findController:this.findController})},setFindController:function(t){this.findController=t}},t}(),L=function(){function t(t){this.pdfViewer=t}return t.prototype={get page(){return this.pdfViewer.currentPageNumber},set page(t){this.pdfViewer.currentPageNumber=t},navigateTo:function(t){},getDestinationHash:function(t){return"#"},getAnchorUrl:function(t){return"#"},setHash:function(t){},executeNamedAction:function(t){}},t}(),E=function(){function t(t,e){this.pdfDocument=t,this.pageNumber=e}return t.prototype={getPage:function(){return this.pdfDocument.getPage(this.pageNumber)}},t}();PDFJS.PDFViewer=N}.call("undefined"==typeof window?this:window);
//# sourceMappingURL=pdf_viewer.min.js.map