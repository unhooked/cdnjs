{"version":3,"sources":["angular-permission.js"],"names":["permission","angular","module","exports","name","$q","$delegate","any","promises","deferred","defer","counter","results","isArray","forEach","promise","key","when","then","value","resolve","reason","reject","$inject","decorator","PermissionStrategies","enableElement","$element","removeAttr","disableElement","attr","showElement","removeClass","hideElement","addClass","constant","TransitionProperties","TransitionEvents","this","broadcastPermissionStartEvent","Error","broadcastPermissionAcceptedEvent","broadcastPermissionDeniedEvent","service","PermissionFactory","Permission","permissionName","validationFunction","validateConstructor","wrapInPromise","result","dfd","isString","TypeError","isFunction","prototype","validatePermission","validationResult","call","factory","RoleFactory","PermissionStore","Role","roleName","validateRole","map","hasPermissionDefinition","getPermissionDefinition","all","definePermission","permissionStore","defineManyPermissions","permissionNames","removePermissionDefinition","isDefined","getStore","clearStore","RoleStore","defineRole","roleStore","defineManyRoles","roleMap","isObject","removeRoleDefinition","hasRoleDefinition","getRoleDefinition","permissionDirective","$log","Authorization","PermissionMap","restrict","bindToController","only","except","onAuthorized","onUnauthorized","controllerAs","controller","$scope","onAuthorizedAccess","onUnauthorizedAccess","$watchGroup","permissionMap","authorize","e","error","message","directive","permissionsMap","authorizePermissionMap","resolveExceptPrivilegeMap","exceptPromises","resolvePropertyValidity","rejectedPermissions","resolveOnlyPermissionMap","length","onlyPromises","resolvedPermissions","rejectedPermission","PermissionMapFactory","normalizeMapProperty","redirectTo","resolveFunctionRedirect","redirectFunction","rejectedPermissionName","redirectState","state","resolveObjectRedirect","redirectObject","ReferenceError","property","resolveRedirectState","privilegeName","role"],"mappings":";;;;;;;;;;CASC,WACC,YAMA,IAAIA,GAAaC,QAAQC,OAAO,gBAMhC,OAJsB,mBAAXA,SAA0BA,OAAOC,UAC1CD,OAAOC,QAAUH,EAAWI,MAGvBJ,KAIT,WACE,YAWA,SAASK,GAAGC,GACV,UAeA,SAASC,GAAIC,GACX,GAAIC,GAAWH,EAAUI,QACvBC,EAAU,EACVC,EAAUX,QAAQY,QAAQL,QAqB5B,OAnBAP,SAAQa,QAAQN,EAAU,SAAUO,EAASC,GAC3CL,IACAL,EACGW,KAAKF,GACLG,KAAK,SAAUC,GACdV,EAASW,QAAQD,KAHrBb,SAKS,SAAUe,GACfT,EAAQI,GAAOK,IACPV,GACNF,EAASa,OAAOD,OAKR,IAAZV,GACFF,EAASa,OAAOV,GAGXH,EAASM,QAGlB,MAxCAT,GAAUC,IAAMA,EAwCTD,EA5CTD,EAAGkB,SAAW,aA+CdtB,QACGC,OAAO,cACPsB,UAAU,KAAMnB,MAKpB,WACC,YAmBA,IAAIoB,IACFC,cAAe,SAAUC,GACvBA,EAASC,WAAW,aAEtBC,eAAgB,SAAUF,GACxBA,EAASG,KAAK,WAAY,aAE5BC,YAAa,SAAUJ,GACrBA,EAASK,YAAY,YAEvBC,YAAa,SAAUN,GACrBA,EAASO,SAAS,YAItBjC,SACGC,OAAO,cACPiC,SAAS,uBAAwBV,MAKrC,WACC,YAmBA,IAAIW,KAEJnC,SACGC,OAAO,cACPiB,MAAM,uBAAwBiB,MAIlC,WACC,YAMA,SAASC,KACP,UAEAC,MAAKC,8BAAgC,WACnC,KAAM,IAAIC,OAAM,2FAGlBF,KAAKG,iCAAmC,WACtC,KAAM,IAAID,OAAM,8FAGlBF,KAAKI,+BAAiC,WACpC,KAAM,IAAIF,OAAM,4FAIpBvC,QACGC,OAAO,cACPyC,QAAQ,mBAAoBN,MAIhC,WACC,YAYA,SAASO,GAAkBvC,EAAI+B,GAC7B,UASA,SAASS,GAAWC,EAAgBC,GAClCC,EAAoBF,EAAgBC,GAEpCT,KAAKQ,eAAiBA,EACtBR,KAAKS,mBAAqBA,EA6B5B,QAASE,GAAcC,EAAQJ,GAC7B,GAAIK,GAAM9C,EAAGK,OAQb,OANIwC,GACFC,EAAI/B,QAAQ0B,GAEZK,EAAI7B,OAAOwB,GAGNK,EAAIpC,QAab,QAASiC,GAAoBF,EAAgBC,GAC3C,IAAK9C,QAAQmD,SAASN,GACpB,KAAM,IAAIO,WAAU,iDAEtB,KAAKpD,QAAQqD,WAAWP,GACtB,KAAM,IAAIM,WAAU,mDAIxB,MAnDAR,GAAWU,UAAUC,mBAAqB,WACxC,GAAIC,GAAmBnB,KAAKS,mBAAmBW,KAAK,KAAMpB,KAAKQ,eAAgBV,EAM/E,OAJKnC,SAAQqD,WAAWG,EAAiBvC,QACvCuC,EAAmBR,EAAcQ,EAAkBnB,KAAKQ,iBAGnDW,GA4CFZ,EA3ETD,EAAkBrB,SAAW,KAAM,wBA8EnCtB,QACGC,OAAO,cACPyD,QAAQ,aAAcf,MAI1B,WACC,YAaA,SAASgB,GAAYvD,EAAIwD,EAAiBzB,GACxC,UAUA,SAAS0B,GAAKC,EAAUhB,GACtBC,EAAoBe,EAAUhB,GAE9BT,KAAKyB,SAAWA,EAChBzB,KAAKS,mBAAqBA,EA4C5B,QAASE,GAAcC,EAAQa,GAC7B,GAAIZ,GAAM9C,EAAGK,OAQb,OANIwC,GACFC,EAAI/B,QAAQ2C,GAEZZ,EAAI7B,OAAOyC,GAGNZ,EAAIpC,QAcb,QAASiC,GAAoBe,EAAUhB,GACrC,IAAK9C,QAAQmD,SAASW,GACpB,KAAM,IAAIV,WAAU,2CAGtB,KAAKpD,QAAQY,QAAQkC,KAAwB9C,QAAQqD,WAAWP,GAC9D,KAAM,IAAIM,WAAU,4DAIxB,MApEAS,GAAKP,UAAUS,aAAe,WAC5B,GAAI/D,QAAQqD,WAAWhB,KAAKS,oBAAqB,CAC/C,GAAIU,GAAmBnB,KAAKS,mBAAmBW,KAAK,KAAMpB,KAAKyB,SAAU3B,EAKzE,OAJKnC,SAAQqD,WAAWG,EAAiBvC,QACvCuC,EAAmBR,EAAcQ,EAAkBnB,KAAKyB,WAGnDN,EAGT,GAAIxD,QAAQY,QAAQyB,KAAKS,oBAAqB,CAC5C,GAAIvC,GAAW8B,KAAKS,mBAAmBkB,IAAI,SAAUnB,GACnD,GAAIe,EAAgBK,wBAAwBpB,GAAiB,CAC3D,GAAI9C,GAAa6D,EAAgBM,wBAAwBrB,EAEzD,OAAO9C,GAAWwD,qBAGpB,MAAOnD,GAAGiB,OAAOwB,IAGnB,OAAOzC,GAAG+D,IAAI5D,KA+CXsD,EA7FTF,EAAYrC,SAAW,KAAM,kBAAmB,wBAgGhDtB,QACGC,OAAO,cACPyD,QAAQ,OAAQC,MAIpB,WACC,YASA,SAASC,GAAgBhB,GACvB,UAwBA,SAASwB,GAAiBvB,EAAgBC,GACxC,GAAI/C,GAAa,GAAI6C,GAAWC,EAAgBC,EAChDuB,GAAgBxB,GAAkB9C,EAWpC,QAASuE,GAAsBC,EAAiBzB,GAC9C,IAAK9C,QAAQY,QAAQ2D,GACnB,KAAM,IAAInB,WAAU,iDAGtBpD,SAAQa,QAAQ0D,EAAiB,SAAU1B,GACzCuB,EAAiBvB,EAAgBC,KAUrC,QAAS0B,GAA2B3B,SAC3BwB,GAAgBxB,GAUzB,QAASoB,GAAwBpB,GAC/B,MAAO7C,SAAQyE,UAAUJ,EAAgBxB,IAS3C,QAASqB,GAAwBrB,GAC/B,MAAOwB,GAAgBxB,GASzB,QAAS6B,KACP,MAAOL,GAOT,QAASM,KACPN,KAtFF,GAAIA,KAEJhC,MAAK+B,iBAAmBA,EACxB/B,KAAKiC,sBAAwBA,EAC7BjC,KAAKmC,2BAA6BA,EAClCnC,KAAK4B,wBAA0BA,EAC/B5B,KAAK6B,wBAA0BA,EAC/B7B,KAAKqC,SAAWA,EAChBrC,KAAKsC,WAAaA,EAjBpBf,EAAgBtC,SAAW,cAmG3BtB,QACGC,OAAO,cACPyC,QAAQ,kBAAmBkB,MAG/B,WACC,YASA,SAASgB,GAAUf,GACjB,UAoBA,SAASgB,GAAWf,EAAUhB,GAC5BgC,EAAUhB,GAAY,GAAID,GAAKC,EAAUhB,GAU3C,QAASiC,GAAgBC,GACvB,IAAKhF,QAAQiF,SAASD,GACpB,KAAM,IAAI5B,WAAU,4CAGtBpD,SAAQa,QAAQmE,EAAS,SAAUlC,EAAoBgB,GACrDe,EAAWf,EAAUhB,KAUzB,QAASoC,GAAqBpB,SACrBgB,GAAUhB,GAUnB,QAASqB,GAAkBrB,GACzB,MAAO9D,SAAQyE,UAAUK,EAAUhB,IASrC,QAASsB,GAAkBtB,GACzB,MAAOgB,GAAUhB,GASnB,QAASY,KACP,MAAOI,GAOT,QAASH,KACPG,KArFF,GAAIA,KAEJzC,MAAKwC,WAAaA,EAClBxC,KAAK0C,gBAAkBA,EACvB1C,KAAK+C,kBAAoBA,EACzB/C,KAAK8C,kBAAoBA,EACzB9C,KAAK6C,qBAAuBA,EAC5B7C,KAAKqC,SAAWA,EAChBrC,KAAKsC,WAAaA,EAZpBC,EAAUtD,SAAW,QA6FrBtB,QACGC,OAAO,cACPyC,QAAQ,YAAakC,MAGzB,WACC,YA0CA,SAASS,GAAoBC,EAAMC,EAAeC,EAAehE,GAC/D,UAEA,QACEiE,SAAU,IACVC,kBACEC,KAAM,mBACNC,OAAQ,qBACRC,aAAc,2BACdC,eAAgB,8BAElBC,aAAc,aACdC,YAAa,SAAU,WAAY,SAAUC,EAAQvE,GAgCnD,QAASwE,KACHlG,QAAQqD,WAAWtD,EAAW8F,cAChC9F,EAAW8F,eAAenE,GAE1BF,EAAqBM,YAAYJ,GAQrC,QAASyE,KACHnG,QAAQqD,WAAWtD,EAAW+F,gBAChC/F,EAAW+F,iBAAiBpE,GAE5BF,EAAqBQ,YAAYN,GA/CrC,GAAI3B,GAAasC,IAKjB4D,GAAOG,aAAa,kBAAmB,qBACrC,WACE,IACE,GAAIC,GAAgB,GAAIb,IACtBG,KAAM5F,EAAW4F,KACjBC,OAAQ7F,EAAW6F,QAGrBL,GACGe,UAAUD,GACVpF,KAAK,WACJiF,MAHJX,SAKS,WACLY,MAEJ,MAAOI,GACPJ,IACAb,EAAKkB,MAAMD,EAAEE,eArCzBpB,EAAoB/D,SAAW,OAAQ,gBAAiB,gBAAiB,wBAoEzEtB,QACGC,OAAO,cACPyG,UAAU,aAAcrB,MAK7B,WACE,YASA,SAASE,GAAcnF,GACrB,UAYA,SAASkG,GAAUK,GACjB,MAAOC,GAAuBD,GAYhC,QAASC,GAAuB5C,GAC9B,GAAIxD,GAAWJ,EAAGK,OAIlB,OAFAoG,GAA0BrG,EAAUwD,GAE7BxD,EAASM,QAalB,QAAS+F,GAA0BrG,EAAUwD,GAC3C,GAAI8C,GAAiB9C,EAAI+C,wBAAwB/C,EAAI4B,OAErDxF,GAAGE,IAAIwG,GACJ7F,KAAK,SAAU+F,GACdxG,EAASa,OAAO2F,KAFpB5G,SAIS,WACL6G,EAAyBzG,EAAUwD,KAYzC,QAASiD,GAAyBzG,EAAUwD,GAC1C,IAAKA,EAAI2B,KAAKuB,OAEZ,WADA1G,GAASW,SAIX,IAAIgG,GAAenD,EAAI+C,wBAAwB/C,EAAI2B,KACnDvF,GAAGE,IAAI6G,GACJlG,KAAK,SAAUmG,GACd5G,EAASW,QAAQiG,KAFrBhH,SAIS,SAAUiH,GACf7G,EAASa,OAAOgG,KAzEtBhF,KAAKiE,UAAYA,EAJnBf,EAAcjE,SAAW,MAkFzBtB,QACGC,OAAO,cACPyC,QAAQ,gBAAiB6C,MAK7B,WACC,YAcA,SAAS+B,GAAqBlH,EAAI+B,EAAsByC,EAAWhB,GACjE,UAcA,SAAS4B,GAAca,GAErBA,EAAgBA,MAEhBhE,KAAKsD,KAAO4B,EAAqBlB,EAAcV,MAC/CtD,KAAKuD,OAAS2B,EAAqBlB,EAAcT,QACjDvD,KAAKmF,WAAanB,EAAcmB,WAkElC,QAASC,GAAwBC,EAAkBC,GACjD,MAAOvH,GACJY,KAAK0G,EAAiBjE,KAAK,KAAMkE,EAAwBxF,IACzDlB,KAAK,SAAU2G,GACd,MAAI5H,SAAQmD,SAASyE,IAEjBC,MAAOD,GAIP5H,QAAQiF,SAAS2C,GACZA,EAGFxH,EAAGiB,WAehB,QAASyG,GAAsBC,EAAgBhI,GAC7C,IAAKC,QAAQyE,UAAUsD,EAAe,YACpC,KAAM,IAAIC,gBAAe,uEAG3B,IAAIJ,GAAgBG,EAAehI,EAMnC,OAJKC,SAAQyE,UAAUmD,KACrBA,EAAgBG,EAAe,YAG7B/H,QAAQqD,WAAWuE,GACdH,EAAwBG,EAAe7H,GAG5CC,QAAQiF,SAAS2C,GACZxH,EAAGe,QAAQyG,GAGhB5H,QAAQmD,SAASyE,GACZxH,EAAGe,SACR0G,MAAOD,IAFX,OAgBF,QAASL,GAAqBU,GAC5B,MAAIjI,SAAQmD,SAAS8E,IACXA,GAGNjI,QAAQY,QAAQqH,GACXA,EAGLjI,QAAQqD,WAAW4E,GACdA,EAASxE,KAAK,KAAMtB,MAM/B,MAvIAqD,GAAclC,UAAU4E,qBAAuB,SAAUP,GACvD,MAAI3H,SAAQqD,WAAWhB,KAAKmF,YACnBC,EAAwBpF,KAAKmF,WAAYG,GAG9C3H,QAAQiF,SAAS5C,KAAKmF,YACjBM,EAAsBzF,KAAKmF,WAAYG,GAG5C3H,QAAQmD,SAASd,KAAKmF,YACjBpH,EAAGe,SACR0G,MAAOxF,KAAKmF,aAKTpH,EAAGiB,UAWZmE,EAAclC,UAAUyD,wBAA0B,SAAUkB,GAE1D,MAAOA,GAASjE,IAAI,SAAUmE,GAC5B,GAAIvD,EAAUO,kBAAkBgD,GAAgB,CAC9C,GAAIC,GAAOxD,EAAUQ,kBAAkB+C,EACvC,OAAOC,GAAKrE,eAGd,GAAIH,EAAgBK,wBAAwBkE,GAAgB,CAC1D,GAAIpI,GAAa6D,EAAgBM,wBAAwBiE,EACzD,OAAOpI,GAAWwD,qBAGpB,MAAOnD,GAAGiB,OAAO8G,MA+Fd3C,EAxKT8B,EAAqBhG,SAAW,KAAM,uBAAwB,YAAa,mBA2K3EtB,QACGC,OAAO,cACPyD,QAAQ,gBAAiB4D","file":"angular-permission.min.js"}