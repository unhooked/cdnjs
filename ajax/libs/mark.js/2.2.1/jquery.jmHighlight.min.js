/*!***************************************************
 * jmHighlight
 * Version 2.2.1
 * Copyright (c) 2014-2015, Julian Motz
 * For the full copyright and license information, 
 * please view the LICENSE file that was distributed 
 * with this source code.
 *****************************************************/
(function(e,h){"function"===typeof define&&define.amd?define(["jquery"],function(k){return h(k,e)}):"object"===typeof exports?h(require("jquery"),e):h(e.jQuery,e)})(this,function(e,h){function k(c,d,a){if(0==d instanceof f||0==d.length||"string"!==typeof c||""==c)return!1;if("boolean"===typeof a.separateWordSearch&&a.separateWordSearch){var b=c.split(" ");if(1<b.length){for(var g=0,e=b.length;g<e;g++)if(0==k(b[g],d.filter("*:not([data-jmHighlight])"),a))return!1;return!0}}n(d,function(b){if("object"===
	typeof b&&"string"===typeof b.nodeValue){if(-1==b.nodeValue.toLowerCase().indexOf(c.toLowerCase()))return!0;var d="<"+a.element+" class='"+a.className+"' data-jmHighlight='true'>",f="</"+a.element+">";if(null!=b.parentNode){var g=new RegExp("(?![^<]*>)"+c,"gim"),e=g.exec(b.parentNode.innerHTML)[0];b.parentNode.innerHTML=b.parentNode.innerHTML.replace(g,d+e+f)}}});return!0}function p(c,d,a){if(0==c instanceof f||0==c.length)return!1;c.each(function(){f(this).find(d.element+"."+d.className).each(function(){var b=
	f(this);"string"===typeof a&&""!=a&&-1==b.text().toLowerCase().indexOf(a.toLowerCase())||b.replaceWith(b.text())})});return!0}function l(c,d){if("object"!==typeof d||0==c instanceof f||"[object Array]"!=Object.prototype.toString.call(d))return!1;var a;return a=c.filter(function(){var b=f(this),a=!1;d.forEach(function(c){b.is(c)&&(a=!0)});return a?!1:!0})}function n(c,d){if("undefined"===typeof c||0==c instanceof f||"function"!==typeof d)return!1;c.each(function(){f(this).contents().filter(function(){return 3==
this.nodeType?!0:!1}).each(function(){d(this)})});return!0}var f=e,m={element:"span",className:"highlight",filter:[],separateWordSearch:!1};e.fn.jmHighlight=function(c,d){var a;var b=f(this);if(0==b instanceof f||"string"!==typeof c||""==c)a=!1;else{a=f.extend({},m,d);b=b.find("*:not([data-jmHighlight])");if("object"===typeof a&&"object"===typeof a.filter){var e=l(b,a.filter);0!=e&&(b=e)}a=k(c,b,a)}return a};e.fn.jmRemoveHighlight=function(c,d){var a;var b=f(this);if("undefined"===typeof b||0==b instanceof
	f)a=!1;else{a=f.extend({},m,c);b=b.find("*:not([data-jmHighlight])");if("object"===typeof a&&"object"===typeof a.filter){var e=l(b,a.filter);0!=e&&(b=e)}a=p(b,a,d)}return a}});
