!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.frzr=e.frzr||{})}(this,function(e){"use strict";function t(e){return document.createTextNode(e)}function n(e){if(m){var t=m[e];if(t)return t.apply(this,arguments)}for(var n=document.createElement(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i&&!s(n,i)&&"object"==typeof i)for(var u in i){if(v){var o=v[u];if(o){o(n,i[u]);continue}}var f=i[u];"style"===u||null==n[u]&&"function"!=typeof f?n.setAttribute(u,f):n[u]=f}}return n}function r(e,t){m||(m={}),m[e]=t}function i(e,t){v||(v={}),v[e]=t}function u(e){m&&m[e]&&delete m[e]}function o(e){v&&v[e]&&delete v[e]}function f(e){for(var t=document.createElementNS("http://www.w3.org/2000/svg",e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r&&!s(t,r)&&"object"==typeof r)for(var i in r)t.setAttribute(i,r[i])}return t}function l(e,t,n,r){return new a(e,t,n,r)}function a(e,t,n,r){this.View=e,this.views=[],this.initData=n,this.skipRender=r,t&&(this.key=t,this.lookup={})}function s(e,t,n){var r=e.el||e,i=t.el||t,u=null!=i.parentNode;if(u?t.remounting&&t.remounting():t.mounting&&t.mounting(),i instanceof Node){if(n){var o=n;r.insertBefore(i,o)}else r.appendChild(i);u?t.remounted&&t.remounted():t.mounted&&t.mounted(),i!==t&&(i.view=t,t.parent=e)}else if("string"==typeof i||"number"==typeof i)s(r,document.createTextNode(i),n);else if(i instanceof Array)for(var f=0;f<i.length;f++)s(r,i[f],n);else{if(!(t instanceof a))return!1;t.parent=e,h(r,t.views)}return!0}function p(e,t,n){var r=e.el||e,i=t.el||t,u=n.el||n,o=null!=i.parentNode;n.unmounting&&n.unmounting(),o?t.remounting&&t.remounting():t.mounting&&t.mounting(),r.replaceChild(i,u),n.unmounted&&n.unmounted(),u!==n&&(n.parent=null),o?t.remounted&&t.remounted():t.mounted&&t.mounted(),i!==t&&(i.view=t,t.parent=e)}function d(e,t){var n=e.el||e,r=t.el||t;t.unmounting&&t.unmounting(),n.removeChild(r),t.unmounted&&t.unmounted(),r!==t&&(t.parent=null)}function h(e,t){for(var n=e.el||e,r=n.firstChild,i=0;i<t.length;i++){var u=t[i],o=u.el||u;r!==o?s(e,u,r):r=r.nextSibling}for(;r;){var f=r.nextSibling;d(e,r.view||r),r=f}}var m,v;a.prototype.update=function(e,t){var n=this.View,r=this.views,i=this.parent,u=this.key,o=this.initData,f=this.skipRender;if(t)var l=[],a=[],s=[];if(u){var p=this.lookup,m={};r.length=e.length;for(var v=0;v<e.length;v++){var c=e[v],g=c[u],w=p[g];w?t&&a.push(w):(w=new n(o,c,v),t&&l.push(w)),r[v]=m[g]=w,w.update&&w.update(c,v)}if(t)for(var g in p)m[g]||(s.push(p[g]),!f&&i&&d(i,p[g]));this.lookup=m}else{if(t)for(var v=e.length;v<r.length;v++){var w=r[v];!f&&i&&d(i,w),s.push(w)}r.length=e.length;for(var v=0;v<e.length;v++){var c=e[v],w=r[v];w?t&&a.push(w):(w=new n(o,c,v),t&&l.push(w)),w.update&&w.update(c,v),r[v]=w}}!f&&i&&h(i,r),t&&t(l,a,s)};var c=s;e.text=t,e.el=n,e.registerElement=r,e.registerAttribute=i,e.unregisterElement=u,e.unregisterAttribute=o,e.svg=f,e.list=l,e.List=a,e.mount=s,e.mountBefore=c,e.replace=p,e.unmount=d,e.setChildren=h});