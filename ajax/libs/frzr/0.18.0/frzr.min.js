!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.frzr=e.frzr||{})}(this,function(e){"use strict";function t(e){return document.createTextNode(e)}function n(e){var t=arguments;if(h){var n=h[e];if(n)return n.apply(this,arguments)}for(var r=document.createElement(e),i=1;i<t.length;i++){var u=t[i];if(null!=u&&!a(r,u)&&"object"==typeof u)for(var o in u){if(m){var l=m[o];if(l){l(r,u[o]);continue}}null==r[o]||"style"===o?r.setAttribute(o,u[o]):r[o]=u[o]}}return r}function r(e,t){h||(h={}),h[e]=t}function i(e,t){m||(m={}),m[e]=t}function u(e){h&&h[e]&&delete h[e]}function o(e){m&&m[e]&&delete m[e]}function l(e){for(var t=arguments,n=document.createElementNS("http://www.w3.org/2000/svg",e),r=1;r<t.length;r++){var i=t[r];if(null!=i&&!a(n,i)&&"object"==typeof i)for(var u in i)n.setAttribute(u,i[u])}return n}function f(e,t,n,r){return new v(e,t,n,r)}function a(e,t,n){var r=e.el||e,i=t.el||t,u=null!=i.parentNode;if(u?t.remounting&&t.remounting():t.mounting&&t.mounting(),i instanceof Node){if(n){var o=n;r.insertBefore(i,o)}else r.appendChild(i);u?t.remounted&&t.remounted():t.mounted&&t.mounted(),i!==t&&(i.view=t,t.parent=e)}else if("string"==typeof i||"number"==typeof i)a(r,document.createTextNode(i),n);else if(i instanceof Array)for(var l=0;l<i.length;l++)a(r,i[l],n);else{if(!(t instanceof v))return!1;t.parent=e,p(r,t.views)}return!0}function s(e,t,n){var r=e.el||e,i=t.el||t,u=n.el||n,o=null!=i.parentNode;n.unmounting&&n.unmounting(),o?t.remounting&&t.remounting():t.mounting&&t.mounting(),r.replaceChild(i,u),n.unmounted&&n.unmounted(),u!==n&&(n.parent=null),o?t.remounted&&t.remounted():t.mounted&&t.mounted(),i!==t&&(i.view=t,t.parent=e)}function d(e,t){var n=e.el||e,r=t.el||t;t.unmounting&&t.unmounting(),n.removeChild(r),t.unmounted&&t.unmounted(),r!==t&&(t.parent=null)}function p(e,t){for(var n=e.el||e,r=n.firstChild,i=0;i<t.length;i++){var u=t[i],o=u.el||u;r!==o?a(e,u,r):r=r.nextSibling}for(;r;){var l=r.nextSibling;d(e,r.view||r),r=l}}var h,m,v=function(e,t,n,r){this.View=e,this.views=[],this.initData=n,this.skipRender=r,t&&(this.key=t,this.lookup={})};v.prototype.update=function(e,t){var n=this.View,r=this.views,i=this.parent,u=this.key,o=this.initData,l=this.skipRender;if(t)var f=[],a=[],s=[];if(u){var h=this.lookup,m={};r.length=e.length;for(var v=0;v<e.length;v++){var c=e[v],g=c[u],w=h[g];w?t&&a.push(w):(w=new n(o,c,v),t&&f.push(w)),r[v]=m[g]=w,w.update&&w.update(c,v)}if(t)for(var g in h)m[g]||(s.push(h[g]),!l&&i&&d(i,h[g]));this.lookup=m}else{if(t)for(var v=e.length;v<r.length;v++){var w=r[v];!l&&i&&d(i,w),s.push(w)}r.length=e.length;for(var v=0;v<e.length;v++){var c=e[v],w=r[v];w?t&&a.push(w):(w=new n(o,c,v),t&&f.push(w)),w.update&&w.update(c,v),r[v]=w}}!l&&i&&p(i,r),t&&t(f,a,s)};var c=a;e.text=t,e.el=n,e.registerElement=r,e.registerAttribute=i,e.unregisterElement=u,e.unregisterAttribute=o,e.svg=l,e.list=f,e.List=v,e.mount=a,e.mountBefore=c,e.replace=s,e.unmount=d,e.setChildren=p});