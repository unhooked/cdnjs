!function(o){"use strict";function i(i){Gumby.debug("Initializing Navbar",i),this.$el=i,this.$dropDowns=this.$el.find("li:has(.dropdown)");var n=this;this.$dropDowns.on(Gumby.click,this.toggleDropdown).on("swiperight",this.openLink),"#"!==this.$dropDowns.children("a").attr("href")&&this.$dropDowns.children("a").append('<i class="icon-popup"></i>').children("i").on(Gumby.click,this.openLink),this.$dropDowns.find(".dropdown li:not(:has(.dropdown)) a[href]").on(Gumby.click,this.openLink),o(window).on("mousemove touchstart",function(o){o.stopImmediatePropagation(),"mousemove"===o.type&&n.$dropDowns.on("mouseover mouseout",n.toggleDropdown)})}Gumby.gumbyTouch&&(i.prototype.toggleDropdown=function(i){i.preventDefault();var n=o(this);n.hasClass("active")?n.removeClass("active"):n.addClass("active")},i.prototype.openLink=function(i){i.preventDefault();var n,t=o(this),a=t;t.is("i")?a=t.parent("a"):t.is("li")&&(a=t.children("a")),n=a.attr("href"),"blank"==a.attr("target")?window.open(n):window.location=n},Gumby.addInitalisation("navbar",function(){o(".navbar").each(function(){var n=o(this);return n.data("isNavbar")?!0:(n.data("isNavbar",!0),void new i(n))})}),Gumby.UIModule({module:"navbar",events:[],init:function(){Gumby.initialize("navbar")}}))}(jQuery);