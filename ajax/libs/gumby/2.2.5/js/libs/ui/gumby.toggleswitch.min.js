!function(){"use strict";function t(t){this.$el=$(t),this.targets=[],this.on="",this.$el.length&&this.init()}function i(t){this.$el=$(t),this.targets=[],this.on="",this.$el.length&&this.init()}t.prototype.init=function(){this.targets=this.parseTargets(),this.on=Gumby.selectAttr.apply(this.$el,["on"])||Gumby.click;var t=this;this.$el.on(this.on,function(i){"A"===$(this).prop("tagName")&&i.preventDefault(),i.stopPropagation(),t.trigger(t.triggered)}).on("gumby.trigger",function(){t.trigger(t.triggered)})},t.prototype.parseTargets=function(){var t=Gumby.selectAttr.apply(this.$el,["trigger"]),i=0,e=[];if(!t)return!1;if(i=t.indexOf("|"),-1===i)return[$(t)];var e=t.split("|");return e.length>1?[$(e[0]),$(e[1])]:[$(e[0])]},t.prototype.triggered=function(){var t,i=this.targets.length,e=i?[]:[this.$el.hasClass("active")];for(t=0;i>t;t++)e.push(this.targets[t].hasClass("active"));this.$el.trigger("gumby.onTrigger",e)},i.prototype=new t,i.constructor=i,t.prototype.trigger=function(t){this.targets?1==this.targets.length?this.$el.add(this.targets[0]).toggleClass("active"):this.targets.length>1&&(this.targets[0].hasClass("active")?(this.$el.add(this.targets[0]).removeClass("active"),this.targets[1].addClass("active")):(this.targets[1].removeClass("active"),this.$el.add(this.targets[0]).addClass("active"))):this.$el.toggleClass("active"),t&&"function"==typeof t&&t.apply(this)},i.prototype.trigger=function(t){this.targets?1==this.targets.length?this.$el.add(this.targets[0]).addClass("active"):this.targets.length>1&&(this.$el.add(this.targets[0]).addClass("active"),this.targets[1].removeClass("active")):this.$el.addClass("active"),t&&"function"==typeof t&&t.apply(this)},Gumby.addInitalisation("toggles",function(){$(".toggle").each(function(){var i=$(this);return i.data("isToggle")?!0:(i.data("isToggle",!0),void new t(i))})}),Gumby.addInitalisation("switches",function(){$(".switch").each(function(){var t=$(this);return t.data("isSwitch")?!0:(t.data("isSwitch",!0),void new i(t))})}),Gumby.UIModule({module:"toggleswitch",events:["trigger","onTrigger"],init:function(){Gumby.initialize("switches"),Gumby.initialize("toggles")}})}();