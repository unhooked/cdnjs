!function(o){"use strict";function n(n){Gumby.debug("Initializing Navbar",n),this.$el=n,this.$dropDowns=this.$el.find("li:has(.dropdown)");var i=this;this.$dropDowns.on(Gumby.click,this.toggleDropdown).on("swiperight",this.openLink),"#"!==this.$dropDowns.children("a").attr("href")&&this.$dropDowns.children("a").append('<i class="icon-popup"></i>').children("i").on(Gumby.click,this.openLink),this.$dropDowns.find(".dropdown li:not(:has(.dropdown)) a[href]").on(Gumby.click,this.openLink),o(window).on("mousemove touchstart",function(o){o.preventDefault(),"mousemove"===o.type?i.$dropDowns.on("mouseover mouseout",i.toggleDropdown):i.$dropDowns.off("mouseover mouseout")})}Gumby.gumbyTouch&&(n.prototype.toggleDropdown=function(n){n.preventDefault();var i=o(this);i.hasClass("active")?i.removeClass("active"):i.addClass("active")},n.prototype.openLink=function(n){n.preventDefault();var i,t=o(this),e=t;t.is("i")?e=t.parent("a"):t.is("li")&&(e=t.children("a")),i=e.attr("href"),"blank"==e.attr("target")?window.open(i):window.location=i},Gumby.addInitalisation("navbar",function(){o(".navbar").each(function(){var i=o(this);return i.data("isNavbar")?!0:(i.data("isNavbar",!0),void new n(i))})}),Gumby.UIModule({module:"navbar",events:[],init:function(){Gumby.initialize("navbar")}}))}(jQuery);