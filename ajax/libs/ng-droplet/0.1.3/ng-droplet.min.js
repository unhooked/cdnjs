!function(e){"use strict";e.module("ngDroplet",[]).directive("droplet",["$rootScope","$window","$timeout",function(n,t,r){return{restrict:"EA",require:"?ngModel",scope:{directiveInterface:"=ngModel"},controller:["$scope",function(i){i.FILE_TYPES={VALID:1,INVALID:2,DELETED:4},i.files=[],i.extensions=[],i.registerFile=function(e){return function(n){n=n||i.FILE_TYPES.VALID;var r={file:e,type:n,added:new t.Date};i.files.push(r)}},i.traverseFiles=function(e){i.$apply(function(){for(var n=0,t=e.length;t>n;n++){var r=e[n],o=r.name.split(".").pop().trim().toLowerCase(),s=i.FILE_TYPES.VALID;-1===i.extensions.indexOf(o)&&(s=i.FILE_TYPES.INVALID),i.registerFile(r)(s)}})},i.throwException=function(e){throw"ngDroplet: "+e+"."},function(){i.directiveInterface={FILE_TYPES:i.FILE_TYPES,addFile:function(e,n){i.registerFile(e)(n||i.FILE_TYPES.VALID)},getFiles:function(e){return e?i.files.filter(function(n){return e&n.type}):i.files},allowedExtensions:function(n){e.isArray(n)||i.throwException("Extensions must be an array"),i.extensions=n}},r(function(){n.$broadcast("$dropletReady")})}()}],link:function(e,n){var t=function(e){e.preventDefault(),e.stopPropagation()};n.bind("dragover dragenter dragleave",t),n.bind("drop",function(n){t(n),e.traverseFiles(n.dataTransfer.files)})}}}])}(window.angular);