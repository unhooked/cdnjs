var HeatCanvas=function(t){return"string"==typeof t?this.canvas=document.getElementById(t):this.canvas=t,null==this.canvas?null:(this.worker=new Worker("heatcanvas-worker.js"),this.width=this.canvas.width,this.height=this.canvas.height,this.onRenderingStart=null,this.onRenderingEnd=null,void(this.data={}))};HeatCanvas.prototype.push=function(t,a,e){if(!(0>t||t>this.width||0>a||a>this.height)){var i=t+a*this.width;this.data[i]?this.data[i]=this.data[i]+e:this.data[i]=e}},HeatCanvas.prototype.render=function(t,a,e){t=t||1,a=a||HeatCanvas.LINEAR;var i=this;this.worker.onmessage=function(t){i.value=t.data.value,i.data={},i._render(e),i.onRenderingEnd&&i.onRenderingEnd()};var h={data:i.data,width:i.width,height:i.height,step:t,degree:a,value:i.value};this.worker.postMessage(h),this.onRenderingStart&&this.onRenderingStart()},HeatCanvas.prototype._render=function(t){t=t||HeatCanvas.defaultValue2Color;var a=this.canvas.getContext("2d");a.clearRect(0,0,this.width,this.height),a.fillStyle=this.bgcolor||"rgb(0,0,0)",a.fillRect(0,0,this.width,this.height);var e=0;for(var i in this.value)e=Math.max(this.value[i],e);for(var h in this.value){var n=Math.floor(h%this.width),s=Math.floor(h/this.width),r=t(this.value[h]/e);a.fillStyle=r,a.fillRect(n,s,1,1)}},HeatCanvas.prototype.clear=function(){this.data={},this.value={},this.canvas.getContext("2d").clearRect(0,0,this.width,this.height)},HeatCanvas.defaultValue2Color=function(t){var a=240*(1-t),e=60*t;return"hsl("+a+", 80%, "+e+"%)"},HeatCanvas.LINEAR=1,HeatCanvas.QUAD=2,HeatCanvas.CUBIC=3;
//# sourceMappingURL=heatcanvas.min.js.map