/*!
 * tipso - A Lightweight Responsive jQuery Tooltip Plugin v1.0.2
 * Copyright (c) 2014-2015 Bojan Petkovski
 * http://tipso.object505.com
 * Licensed under the MIT license
 * http://object505.mit-license.org/
 */
(function(e,l,n,p){function q(){var b=navigator.userAgent.toLowerCase();return-1!=b.indexOf("msie")?parseInt(b.split("msie")[1]):!1}function m(b,a){this.element=e(b);this.a=e.extend({},r,a);this.n=this.element.s("title");this.mode="hide";this.k=!1;q()&&9>=q()&&(this.k=!0);this.w()}function u(){var b="ontouchstart"in n.createElement("div");return l.navigator.I||b?!0:!1}function k(b){b=b.clone();b.b("visibility","hidden");e("body").append(b);var a=b.outerHeight();b.remove();return a}function t(b){var a=b.m(),c=b.element,f=e(l),g,d,h;c.parent().outerWidth()>f.outerWidth()&&(f=c.parent());switch(b.a.position){case "top":d=c.offset().left+c.outerWidth()/2-a.outerWidth()/2;g=c.offset().top-k(a)-10;a.find(".tipso_arrow").b({marginLeft:-8});g<f.scrollTop()?(g=c.offset().top+c.outerHeight()+10,a.find(".tipso_arrow").b({"border-bottom-color":b.a.background,"border-top-color":"transparent"}),a.c("top bottom left right"),a.d("bottom")):(a.find(".tipso_arrow").b({"border-top-color":b.a.background,"border-bottom-color":"transparent"}),a.c("top bottom left right"),a.d("top"));break;case "bottom":d=c.offset().left+c.outerWidth()/2-a.outerWidth()/2;g=c.offset().top+c.outerHeight()+10;a.find(".tipso_arrow").b({marginLeft:-8});g+k(a)>f.scrollTop()+f.outerHeight()?(g=c.offset().top-k(a)-10,a.find(".tipso_arrow").b({"border-top-color":b.a.background,"border-bottom-color":"transparent"}),a.c("top bottom left right"),a.d("top")):(a.find(".tipso_arrow").b({"border-bottom-color":b.a.background,"border-top-color":"transparent"}),a.c("top bottom left right"),a.d(b.a.position));break;case "left":d=c.offset().left-a.outerWidth()-10;g=c.offset().top+c.outerHeight()/2-k(a)/2;a.find(".tipso_arrow").b({marginTop:-8,marginLeft:""});d<f.scrollLeft()?(d=c.offset().left+c.outerWidth()+10,a.find(".tipso_arrow").b({"border-right-color":b.a.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),a.c("top bottom left right"),a.d("right")):(a.find(".tipso_arrow").b({"border-left-color":b.a.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),a.c("top bottom left right"),a.d(b.a.position));break;case "right":d=c.offset().left+c.outerWidth()+10,g=c.offset().top+c.outerHeight()/2-k(a)/2,a.find(".tipso_arrow").b({marginTop:-8,marginLeft:""}),d+10+b.a.width>f.scrollLeft()+f.outerWidth()?(d=c.offset().left-a.outerWidth()-10,a.find(".tipso_arrow").b({"border-left-color":b.a.background,"border-right-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),a.c("top bottom left right"),a.d("left")):(a.find(".tipso_arrow").b({"border-right-color":b.a.background,"border-left-color":"transparent","border-top-color":"transparent","border-bottom-color":"transparent"}),a.c("top bottom left right"),a.d(b.a.position))}d<f.scrollLeft()&&("bottom"==b.a.position||"top"==b.a.position)&&(a.find(".tipso_arrow").b({marginLeft:d-8}),d=0);d+b.a.width>f.outerWidth()&&("bottom"==b.a.position||"top"==b.a.position)&&(h=f.outerWidth()-(d+b.a.width),a.find(".tipso_arrow").b({marginLeft:-h-8,marginTop:""}),d+=h);d<f.scrollLeft()&&("left"==b.a.position||"right"==b.a.position)&&(d=c.offset().left+c.outerWidth()/2-a.outerWidth()/2,a.find(".tipso_arrow").b({marginLeft:-8,marginTop:""}),g=c.offset().top-k(a)-10,g<f.scrollTop()?(g=c.offset().top+c.outerHeight()+10,a.find(".tipso_arrow").b({"border-bottom-color":b.a.background,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),a.c("top bottom left right"),a.d("bottom")):(a.find(".tipso_arrow").b({"border-top-color":b.a.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),a.c("top bottom left right"),a.d("top")),d+b.a.width>f.outerWidth()&&(h=f.outerWidth()-(d+b.a.width),a.find(".tipso_arrow").b({marginLeft:-h-8,marginTop:""}),d+=h),d<f.scrollLeft()&&(a.find(".tipso_arrow").b({marginLeft:d-8}),d=0));d+b.a.width>f.outerWidth()&&("left"==b.a.position||"right"==b.a.position)&&(d=c.offset().left+c.outerWidth()/2-a.outerWidth()/2,a.find(".tipso_arrow").b({marginLeft:-8,marginTop:""}),g=c.offset().top-k(a)-10,g<f.scrollTop()?(g=c.offset().top+c.outerHeight()+10,a.find(".tipso_arrow").b({"border-bottom-color":b.a.background,"border-top-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),a.c("top bottom left right"),a.d("bottom")):(a.find(".tipso_arrow").b({"border-top-color":b.a.background,"border-bottom-color":"transparent","border-left-color":"transparent","border-right-color":"transparent"}),a.c("top bottom left right"),a.d("top")),d+b.a.width>f.outerWidth()&&(h=f.outerWidth()-(d+b.a.width),a.find(".tipso_arrow").b({marginLeft:-h-8,marginTop:""}),d+=h),d<f.scrollLeft()&&(a.find(".tipso_arrow").b({marginLeft:d-8}),d=0));a.b({left:d+b.a.offsetX,top:g+b.a.offsetY})}var r={speed:400,background:"#55b555",color:"#ffffff",position:"top",width:200,t:200,e:"",f:"",offsetX:0,offsetY:0,content:null,o:null,B:!0,p:null,j:null,i:null};e.extend(m.prototype,{w:function(){var b=this,a=this.element;a.d("tipso_style").K("title");u()?(a.l("click.tipso",function(a){"hide"==b.mode?b.show():b.g();a.stopPropagation()}),e(n).l("click",function(){"show"==b.mode&&b.g()})):(a.l("mouseover.tipso",function(){b.show()}),a.l("mouseout.tipso",function(){b.g()}))},m:function(){this.q||(this.q=e('<div class="tipso_bubble"><div class="tipso_content"></div><div class="tipso_arrow"></div></div>'));return this.q},show:function(){var b=this.m(),a=this,c=e(l);e.h(a.a.p)&&a.a.p(e(this));b.b({background:a.a.background,color:a.a.color,width:a.a.width}).g();b.find(".tipso_content").H(a.content());t(a);c.resize(function(){t(a)});a.timeout=l.setTimeout(function(){a.k||""===a.a.e||""===a.a.f?b.r("body").stop(!0,!0).v(a.a.speed,function(){a.mode="show";e.h(a.a.j)&&a.a.j(e(this))}):b.remove().r("body").stop(!0,!0).c("animated "+a.a.f).d("noAnimation").c("noAnimation").d("animated "+a.a.e).v(a.a.speed,function(){e(this).A("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e(this).c("animated "+a.a.e)});a.mode="show";e.h(a.a.j)&&a.a.j(e(this))})},a.a.t)},g:function(){var b=this,a=this.m();l.clearTimeout(b.timeout);b.timeout=null;b.k||""===b.a.e||""===b.a.f?a.stop(!0,!0).F(b.a.speed,function(){e(this).remove();e.h(b.a.i)&&"show"==b.mode&&b.a.i(e(this));b.mode="hide"}):a.stop(!0,!0).c("animated "+b.a.e).d("noAnimation").c("noAnimation").d("animated "+b.a.f).A("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){e(this).c("animated "+b.a.f).remove();e.h(b.a.i)&&"show"==b.mode&&b.a.i(e(this));b.mode="hide"})},D:function(){var b=this.element;b.J(".tipso");b.L("tipso");b.c("tipso_style").s("title",this.n)},content:function(){var b=this.element,a=this.n;return this.a.o?e.C({type:"GET",url:this.a.o,async:!1}).responseText:this.a.content?this.a.content:!0===this.a.B?a:b.data("tipso")},update:function(b,a){if(a)this.a[b]=a;else return this.a[b]}});e.tipso=e.G.tipso=function(b){var a=arguments;if(b===p||"object"===typeof b)return this instanceof e||e.extend(r,b),this.u(function(){e.data(this,"plugin_tipso")||e.data(this,"plugin_tipso",new m(this,b))});if("string"===typeof b&&"_"!==b[0]&&"init"!==b){var c;this.u(function(){var f=e.data(this,"plugin_tipso");f||(f=e.data(this,"plugin_tipso",new m(this,b)));f instanceof m&&"function"===typeof f[b]&&(c=f[b].apply(f,Array.prototype.slice.call(a,1)));"destroy"===b&&e.data(this,"plugin_tipso",null)});return c!==p?c:this}}})(jQuery,window,document);