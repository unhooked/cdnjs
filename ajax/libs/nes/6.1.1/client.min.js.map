{"version":3,"sources":["client.js"],"names":["_typeof","Symbol","iterator","obj","constructor","root","factory","exports","module","define","amd","nes","window","global","version","ignore","parse","message","next","error","JSON","err","NesError","stringify","string","nextTick","callback","setTimeout","type","Error","errorCodes",1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1015,"Client","url","options","this","_url","_settings","_heartbeatTimeout","_ws","_reconnection","_ids","_requests","_subscriptions","_heartbeat","_packets","_disconnectListeners","_disconnectRequested","onError","console","onConnect","onDisconnect","onUpdate","id","WebSocket","prototype","connect","arguments","reconnect","wait","delay","maxDelay","retries","Infinity","settings","auth","timeout","_connect","initial","_this","ws","finalize","cb","timeoutHandler","_cleanup","_reconnect","onopen","clearTimeout","_hello","path","_disconnect","onerror","event","onclose","wasRequested","log","code","explanation","reason","wasClean","willReconnect","onmessage","_onMessage","overrideReconnectionAuth","disconnect","isInternal","push","readyState","OPEN","CONNECTING","close","ids","Object","keys","i","length","request","listeners","forEach","listener","_this2","Math","min","method","headers","payload","_send","track","_this3","encoded","send","record","subs","subscriptions","subscribe","handler","_this4","indexOf","unsubscribe","sync","pos","splice","errIgnore","_this5","_beat","data","prefix","slice","join","update","statusCode","socket","heartbeat","interval","handlers","undefined","flags","revoked","_this6"],"mappings":"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","file":"client.min.js"}