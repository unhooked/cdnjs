{"version":3,"sources":["client.js"],"names":["_typeof","Symbol","iterator","obj","constructor","root","factory","exports","module","define","amd","nes","window","global","version","ignore","parse","message","next","error","JSON","err","NesError","stringify","string","nextTick","callback","setTimeout","type","Error","errorCodes",1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1015,"Client","url","options","this","_url","_settings","_heartbeatTimeout","_ws","_reconnection","_ids","_requests","_subscriptions","_heartbeat","_packets","_disconnectListeners","onError","console","onConnect","onDisconnect","onUpdate","id","WebSocket","prototype","connect","arguments","reconnect","wait","delay","maxDelay","retries","Infinity","settings","auth","timeout","_connect","initial","_this","finalize","cb","timeoutHandler","_cleanup","_reconnect","ws","onopen","clearTimeout","_hello","path","disconnect","onerror","event","onclose","log","code","explanation","reason","wasClean","onmessage","_onMessage","overrideReconnectionAuth","push","readyState","OPEN","CONNECTING","close","ids","Object","keys","i","length","request","listeners","forEach","listener","_this2","Math","min","method","headers","payload","_send","track","_this3","encoded","send","record","subs","subscriptions","subscribe","handler","_this4","indexOf","unsubscribe","sync","pos","splice","errIgnore","_this5","_beat","data","prefix","slice","join","update","statusCode","socket","heartbeat","interval","handlers","undefined","flags","revoked","_this6"],"mappings":"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","file":"client.min.js"}