{"version":3,"sources":["client.js"],"names":["_typeof","Symbol","iterator","obj","constructor","root","factory","exports","module","define","amd","nes","window","global","version","ignore","parse","message","next","error","JSON","err","NesError","stringify","string","nextTick","callback","setTimeout","type","Error","errorCodes",1000,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1015,"Client","url","options","this","_url","_settings","_heartbeatTimeout","_ws","_reconnection","_ids","_requests","_subscriptions","_heartbeat","_packets","_disconnectListeners","_disconnectRequested","onError","console","onConnect","onDisconnect","onUpdate","id","WebSocket","prototype","connect","arguments","reconnect","wait","delay","maxDelay","retries","Infinity","settings","auth","timeout","_connect","initial","_this","ws","finalize","cb","timeoutHandler","_cleanup","_reconnect","onopen","clearTimeout","_hello","path","_disconnect","onerror","event","onclose","wasRequested","log","code","explanation","reason","wasClean","willReconnect","onmessage","_onMessage","overrideReconnectionAuth","disconnect","isInternal","requested","push","readyState","OPEN","CONNECTING","close","ids","Object","keys","i","length","request","listeners","forEach","listener","_this2","Math","min","method","headers","payload","_send","track","_this3","encoded","send","record","subs","subscriptions","subscribe","handler","_this4","indexOf","unsubscribe","sync","pos","splice","errIgnore","_this5","_beat","data","prefix","slice","join","update","statusCode","socket","heartbeat","interval","handlers","undefined","flags","revoked","_this6"],"mappings":"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","file":"client.min.js"}