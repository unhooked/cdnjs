!function(o){function t(o,t){var n=new google.maps.Map(o,t),e=new google.maps.Marker({position:new google.maps.LatLng(54.19335,-3.92695),map:n,title:"Drag Me",draggable:!0});return{map:n,marker:e,circle:null,location:e.position,radius:t.radius,locationName:t.locationName,settings:t.settings,domContainer:o,geodecoder:new google.maps.Geocoder}}function n(o){return void 0!=e(o)}function e(t){return o(t).data("locationpicker")}function i(o,t){if(o){var n=l.locationFromLatLng(t.location);o.latitudeInput&&o.latitudeInput.val(n.latitude),o.longitudeInput&&o.longitudeInput.val(n.longitude),o.radiusInput&&o.radiusInput.val(t.radius),o.locationNameInput&&o.locationNameInput.val(t.locationName)}}function a(t,n){t&&(t.radiusInput&&t.radiusInput.on("change",function(){n.radius=o(this).val(),l.setPosition(n,n.location)}),t.locationNameInput&&n.settings.enableAutocomplete&&(n.autocomplete=new google.maps.places.Autocomplete(t.locationNameInput.get(0)),google.maps.event.addListener(n.autocomplete,"place_changed",function(){var o=n.autocomplete.getPlace();return o.geometry?void l.setPosition(n,o.geometry.location,function(){i(t,n)}):void n.onlocationnotfound()})))}var l={drawCircle:function(t,n,e,i){return null!=t.circle&&t.circle.setMap(null),e>0?(e*=1,i=o.extend({strokeColor:"#0000FF",strokeOpacity:.35,strokeWeight:2,fillColor:"#0000FF",fillOpacity:.2},i),i.map=t.map,i.radius=e,i.center=n,t.circle=new google.maps.Circle(i),t.circle):null},setPosition:function(o,t,n){o.location=t,o.marker.setPosition(t),o.map.panTo(t),this.drawCircle(o,t,o.radius,{}),o.settings.enableReverseGeocode?o.geodecoder.geocode({latLng:o.location},function(t,e){e==google.maps.GeocoderStatus.OK&&t.length>0&&(o.locationName=t[0].formatted_address),n&&n.call(this,o)}):n&&n.call(this,gmapContext)},locationFromLatLng:function(o){return{latitude:o.lat(),longitude:o.lng()}}};o.fn.locationpicker=function(r,u){if("string"==typeof r){var c=this.get(0);if(!n(c))return;var s=e(c);switch(r){case"location":if(void 0==u){var d=l.locationFromLatLng(s.location);return d.radius=s.radius,d.name=s.locationName,d}u.radius&&(s.radius=u.radius),l.setPosition(s,new google.maps.LatLng(u.latitude,u.longitude),function(o){i(o.settings.inputBinding,o)});break;case"subscribe":if(void 0==r)return null;var g=u.event,p=u.callback;if(!g||!p)return console.error('LocationPicker: Invalid arguments for method "subscribe"'),null;google.maps.event.addListener(s.map,g,p)}return null}return this.each(function(){var e=o(this);if(!n(this)){var u=o.extend({},o.fn.locationpicker.defaults,r),c=new t(this,{zoom:u.zoom,center:new google.maps.LatLng(u.location.latitude,u.location.longitude),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!1,disableDoubleClickZoom:!1,scrollwheel:u.scrollwheel,streetViewControl:!1,radius:u.radius,locationName:u.locationName,settings:u});e.data("locationpicker",c),google.maps.event.addListener(c.marker,"dragend",function(o){l.setPosition(c,c.marker.position,function(o){var t=l.locationFromLatLng(c.location);o.settings.onchanged(t,o.radius,!0),i(c.settings.inputBinding,c)})}),l.setPosition(c,new google.maps.LatLng(u.location.latitude,u.location.longitude),function(o){i(u.inputBinding,c),o.settings.oninitialized(e)}),a(u.inputBinding,c)}})},o.fn.locationpicker.defaults={location:{latitude:40.7324319,longitude:-73.82480799999996},locationName:"",radius:500,zoom:15,scrollwheel:!0,inputBinding:{latitudeInput:null,longitudeInput:null,radiusInput:null,locationNameInput:null},enableAutocomplete:!1,enableReverseGeocode:!0,onchanged:function(o,t,n){},onlocationnotfound:function(o){},oninitialized:function(o){}}}(jQuery);
//# sourceMappingURL=locationpicker.jquery.min.js.map