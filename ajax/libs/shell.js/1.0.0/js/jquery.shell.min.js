/**
 * Shell.js
 * @author Davide Caruso  <davide.caruso93@gmail.com>
 * @description A JavaScript and CSS library to create terminals
 */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.$context=a(b).data("api",this),a.extend(this,m,c),this.initialize()}function f(a,b,c){return c=c||"0",a+="",a.length>=b?a:new Array(b-a.length+1).join(c)+a}var g,h,i,j,k,l="shell",m={user:"user",host:"host",path:"~",style:"custom",theme:"dark",responsive:!1,shadow:!0,typed:!1,commands:[]},n=new Date,o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.prototype.buildPrefix=function(){var a="",b=this.root?"root":this.user,c=this.root?"#":"$";switch(this.style){case"osx":a='<span class="host">'+this.host+'</span>:<span class="path">'+this.path+'</span> <span class="user">'+b+c+"</span> ";break;case"windows":this.path=this.path!==m.path?this.path:"C:\\Windows\\system32\\",a='<span class="path">'+this.path+"&gt;</span> ";break;case"ubuntu":default:a='<span class="user">'+b+'@</span><span class="host">'+this.host+'</span>:<span class="path">'+this.path+"</span>"+c+" "}return a},e.prototype.buildStatusBar=function(){var a,b,c='<div class="status-bar">',d=this.root?"root":this.user;switch(this.style){case"osx":a='<div class="buttons"><a href="javascript:;" class="close" title="Close"><i class="fa fa-times"></i></a><a href="javascript:;" class="minimize" title="Minimize"><i class="fa fa-minus"></i></a><a href="javascript:;" class="enlarge" title="Enlarge"><i class="fa fa-plus"></i></a></div>',b='<div class="title">'+d+" &horbar; sh</div>",c+=a+b;break;case"windows":a='<div class="buttons"><a href="javascript:;" class="minimize" title="Minimize"><i class="fa fa-minus"></i></a><a href="javascript:;" class="enlarge" title="Enlarge"><i class="fa fa-square-o"></i></a><a href="javascript:;" class="close" title="Close"><i class="fa fa-times"></i></a></div>',b='<div class="title"><span class="icon"><i class="fa fa-terminal"></i></span> Command Prompt</div>',c+=b+a;break;case"ubuntu":default:a='<div class="buttons"><a href="javascript:;" class="close" title="Close"><i class="fa fa-times"></i></a><a href="javascript:;" class="minimize" title="Minimize"><i class="fa fa-minus"></i></a><a href="javascript:;" class="enlarge" title="Enlarge"><i class="fa fa-plus"></i></a></div>',b='<div class="title">'+d+"@"+this.host+": "+this.path+"</div>",c+=a+b}return c+="</div>"},e.prototype.initialize=function(){var b=this;if(a(b.element).length){if(g=b.commands,h=("shell "+b.style+" "+b.theme+" "+(b.responsive?"responsive ":"").toString()+" "+(b.shadow?"shadow ":"")+(b.typed?"typed ":"")).toString(),i=b.buildStatusBar(),j='<div class="content">',"osx"===b.style&&(j+='<div class="line"><span class="command">Last login: '+o[n.getDay()]+" "+p[n.getMonth()]+" "+f(n.getHours(),2)+":"+f(n.getMinutes(),2)+":"+f(n.getSeconds(),2)+" on ttys000</span></div>"),"object"==typeof g&&g[0]){var c=0;b.root=!1,k=b.buildPrefix(),a.each(g,function(a,d){j+='<div class="line line-'+c+(b.root?" root":"")+'">'+k+'<span class="command">'+d+"</span></div>","windows"!==b.style&&(/sudo/.test(d)&&(c+=1,b.root=!0,k=b.buildPrefix(),i=b.buildStatusBar(),j+='<div class="line line-'+c+' sudo">[sudo] password for '+b.user+':<span class="command"></span></div>'),/exit/.test(d)&&(c+=1,b.root=!1,k=b.buildPrefix(),i=b.buildStatusBar(),j+='<div class="line line-'+c+' logout">logout</div>')),c+=1})}if(j+="</div>",a(b.element).addClass(h),a(b.element).html(i+j),b.typed&&"undefined"!=typeof a.fn.typed){var d,e,l,m,q=a(b.element).find(".line").length,r=function(c){d=a(b.element).find(".line-"+c),e=d.find(".command"),l=d.find(".command").html(),m=d.hasClass("sudo")?"2500":"800",e.html(null),d.addClass("active"),e.typed({strings:["^"+m+l],typeSpeed:50,cursorChar:"&nbsp;",callback:function(){d.find(".typed-cursor").remove(),q>c&&r(c+1)}})};r(0)}}},a.fn[l]=function(b){return this.each(function(){var c=a(this),d=c.data(l);d||(d=new e(this,b),c.data(l,d))})}}(window.jQuery,window,document);