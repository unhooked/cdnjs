"use strict";try{elFinder.prototype.commands.quicklook.plugins||(elFinder.prototype.commands.quicklook.plugins=[]),elFinder.prototype.commands.quicklook.plugins.push(function(e){var n=e.fm,o=e.preview;o.bind("update",function(i){var l,a,r=(e.window,i.file);0===r.mime.indexOf("application/vnd.google-apps.")&&("1"==r.url&&$('<div class="elfinder-quicklook-info-data"><button class="elfinder-info-button">'+n.i18n("getLink")+"</button></div>").appendTo(e.info.find(".elfinder-quicklook-info")).on("click",function(){$(this).html('<span class="elfinder-info-spinner">'),n.request({data:{cmd:"url",target:r.hash},preventDefault:!0}).always(function(){$(this).html("")}).done(function(i){var l=n.file(r.hash);e.value.url=l.url=i.url||"",e.value.url&&o.trigger($.Event("update",{file:e.value}))})}),""!==r.url&&"1"!=r.url&&(i.stopImmediatePropagation(),o.one("change",function(){a.remove(),l.off("load").remove()}),a=$('<div class="elfinder-quicklook-info-data"> Now loading...<span class="elfinder-info-spinner"></div>').appendTo(e.info.find(".elfinder-quicklook-info")),l=$('<iframe class="elfinder-quicklook-preview-iframe"/>').css("background-color","transparent").appendTo(o).on("load",function(){e.hideinfo(),a.remove(),$(this).css("background-color","#fff").show()}).attr("src",n.url(r.hash).replace("/edit","/embed"))))})})}catch(e){}
//# sourceMappingURL=quicklook.googledocs.min.js.map