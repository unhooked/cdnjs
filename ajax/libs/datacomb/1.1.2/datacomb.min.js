!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Datacomb=t()}}(function(){var t;return function n(t,e,r){function i(a,u){if(!e[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[a]={exports:{}};t[a][0].call(l.exports,function(n){var e=t[a][1][n];return i(e?e:n)},l,l.exports,n,t,e,r)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,n,e){var r=function(t,n,e,r){if(!t||!n)throw new Error("Must pass in `canvas` and `context`.");var i=e||t.width||t.clientWidth,o=r||t.height||t.clientHeight,a=window.devicePixelRatio||1,u=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,s=a/u;return a!==u&&(t.width=Math.round(i*s),t.height=Math.round(o*s),t.style.width=i+"px",t.style.height=o+"px",n.scale(s,s)),s};"undefined"!=typeof window&&(window.canvasDpiScaler=r),n.exports=r},{}],2:[function(n,e,r){!function(){function n(t){return t&&(t.ownerDocument||t.document||t).documentElement}function r(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function i(t,n){return n>t?-1:t>n?1:t>=n?0:NaN}function o(t){return null===t?NaN:+t}function a(t){return!isNaN(t)}function u(t){return{left:function(n,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=n.length);i>r;){var o=r+i>>>1;t(n[o],e)<0?r=o+1:i=o}return r},right:function(n,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=n.length);i>r;){var o=r+i>>>1;t(n[o],e)>0?i=o:r=o+1}return r}}}function s(t){return t.length}function c(t){for(var n=1;t*n%1;)n*=10;return n}function l(t,n){for(var e in n)Object.defineProperty(t.prototype,e,{value:n[e],enumerable:!1})}function f(){this._=Object.create(null)}function h(t){return(t+="")===ma||t[0]===ya?ya+t:t}function p(t){return(t+="")[0]===ya?t.slice(1):t}function d(t){return h(t)in this._}function g(t){return(t=h(t))in this._&&delete this._[t]}function v(){var t=[];for(var n in this._)t.push(p(n));return t}function m(){var t=0;for(var n in this._)++t;return t}function y(){for(var t in this._)return!1;return!0}function b(){this._=Object.create(null)}function w(t){return t}function x(t,n,e){return function(){var r=e.apply(n,arguments);return r===n?t:r}}function _(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var e=0,r=ba.length;r>e;++e){var i=ba[e]+n;if(i in t)return i}}function k(){}function M(){}function E(t){function n(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}var e=[],r=new f;return n.on=function(n,i){var o,a=r.get(n);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),r.remove(n)),i&&e.push(r.set(n,{on:i})),t)},n}function A(){ia.event.preventDefault()}function S(){for(var t,n=ia.event;t=n.sourceEvent;)n=t;return n}function N(t){for(var n=new M,e=0,r=arguments.length;++e<r;)n[arguments[e]]=E(n);return n.of=function(e,r){return function(i){try{var o=i.sourceEvent=ia.event;i.target=t,ia.event=i,n[i.type].apply(e,r)}finally{ia.event=o}}},n}function C(t){return xa(t,Ea),t}function R(t){return"function"==typeof t?t:function(){return _a(t,this)}}function O(t){return"function"==typeof t?t:function(){return ka(t,this)}}function j(t,n){function e(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,n)}function o(){this.setAttributeNS(t.space,t.local,n)}function a(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}function u(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}return t=ia.ns.qualify(t),null==n?t.local?r:e:"function"==typeof n?t.local?u:a:t.local?o:i}function T(t){return t.trim().replace(/\s+/g," ")}function P(t){return new RegExp("(?:^|\\s+)"+ia.requote(t)+"(?:\\s+|$)","g")}function F(t){return(t+"").trim().split(/^|\s+/)}function D(t,n){function e(){for(var e=-1;++e<i;)t[e](this,n)}function r(){for(var e=-1,r=n.apply(this,arguments);++e<i;)t[e](this,r)}t=F(t).map(q);var i=t.length;return"function"==typeof n?r:e}function q(t){var n=P(t);return function(e,r){if(i=e.classList)return r?i.add(t):i.remove(t);var i=e.getAttribute("class")||"";r?(n.lastIndex=0,n.test(i)||e.setAttribute("class",T(i+" "+t))):e.setAttribute("class",T(i.replace(n," ")))}}function L(t,n,e){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,n,e)}function o(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}return null==n?r:"function"==typeof n?o:i}function z(t,n){function e(){delete this[t]}function r(){this[t]=n}function i(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}return null==n?e:"function"==typeof n?i:r}function I(t){function n(){var n=this.ownerDocument,e=this.namespaceURI;return e?n.createElementNS(e,t):n.createElement(t)}function e(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ia.ns.qualify(t)).local?e:n}function U(){var t=this.parentNode;t&&t.removeChild(this)}function V(t){return{__data__:t}}function B(t){return function(){return Ma(this,t)}}function W(t){return arguments.length||(t=i),function(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}}function H(t,n){for(var e=0,r=t.length;r>e;e++)for(var i,o=t[e],a=0,u=o.length;u>a;a++)(i=o[a])&&n(i,a,e);return t}function $(t){return xa(t,Sa),t}function Z(t){var n,e;return function(r,i,o){var a,u=t[o].update,s=u.length;for(o!=e&&(e=o,n=0),i>=n&&(n=i+1);!(a=u[n])&&++n<s;);return a}}function Y(t,n,e){function r(){var n=this[a];n&&(this.removeEventListener(t,n,n.$),delete this[a])}function i(){var i=s(n,aa(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=e),i._=n}function o(){var n,e=new RegExp("^__on([^.]+)"+ia.requote(t)+"$");for(var r in this)if(n=r.match(e)){var i=this[r];this.removeEventListener(n[1],i,i.$),delete this[r]}}var a="__on"+t,u=t.indexOf("."),s=G;u>0&&(t=t.slice(0,u));var c=Na.get(t);return c&&(t=c,s=Q),u?n?i:r:n?k:o}function G(t,n){return function(e){var r=ia.event;ia.event=e,n[0]=this.__data__;try{t.apply(this,n)}finally{ia.event=r}}}function Q(t,n){var e=G(t,n);return function(t){var n=this,r=t.relatedTarget;r&&(r===n||8&r.compareDocumentPosition(n))||e.call(n,t)}}function K(t){var e=".dragsuppress-"+ ++Ra,i="click"+e,o=ia.select(r(t)).on("touchmove"+e,A).on("dragstart"+e,A).on("selectstart"+e,A);if(null==Ca&&(Ca="onselectstart"in t?!1:_(t.style,"userSelect")),Ca){var a=n(t).style,u=a[Ca];a[Ca]="none"}return function(t){if(o.on(e,null),Ca&&(a[Ca]=u),t){var n=function(){o.on(i,null)};o.on(i,function(){A(),n()},!0),setTimeout(n,0)}}}function X(t,n){n.changedTouches&&(n=n.changedTouches[0]);var e=t.ownerSVGElement||t;if(e.createSVGPoint){var i=e.createSVGPoint();if(0>Oa){var o=r(t);if(o.scrollX||o.scrollY){e=ia.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=e[0][0].getScreenCTM();Oa=!(a.f||a.e),e.remove()}}return Oa?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var u=t.getBoundingClientRect();return[n.clientX-u.left-t.clientLeft,n.clientY-u.top-t.clientTop]}function J(){return ia.event.changedTouches[0].identifier}function tt(t){return t>0?1:0>t?-1:0}function nt(t,n,e){return(n[0]-t[0])*(e[1]-t[1])-(n[1]-t[1])*(e[0]-t[0])}function et(t){return t>1?0:-1>t?Pa:Math.acos(t)}function rt(t){return t>1?qa:-1>t?-qa:Math.asin(t)}function it(t){return((t=Math.exp(t))-1/t)/2}function ot(t){return((t=Math.exp(t))+1/t)/2}function at(t){return((t=Math.exp(2*t))-1)/(t+1)}function ut(t){return(t=Math.sin(t/2))*t}function st(){}function ct(t,n,e){return this instanceof ct?(this.h=+t,this.s=+n,void(this.l=+e)):arguments.length<2?t instanceof ct?new ct(t.h,t.s,t.l):kt(""+t,Mt,ct):new ct(t,n,e)}function lt(t,n,e){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)?0:0>n?0:n>1?1:n,e=0>e?0:e>1?1:e,a=.5>=e?e*(1+n):e+n-e*n,o=2*e-a,new bt(i(t+120),i(t),i(t-120))}function ft(t,n,e){return this instanceof ft?(this.h=+t,this.c=+n,void(this.l=+e)):arguments.length<2?t instanceof ft?new ft(t.h,t.c,t.l):t instanceof pt?gt(t.l,t.a,t.b):gt((t=Et((t=ia.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ft(t,n,e)}function ht(t,n,e){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),new pt(e,Math.cos(t*=La)*n,Math.sin(t)*n)}function pt(t,n,e){return this instanceof pt?(this.l=+t,this.a=+n,void(this.b=+e)):arguments.length<2?t instanceof pt?new pt(t.l,t.a,t.b):t instanceof ft?ht(t.h,t.c,t.l):Et((t=bt(t)).r,t.g,t.b):new pt(t,n,e)}function dt(t,n,e){var r=(t+16)/116,i=r+n/500,o=r-e/200;return i=vt(i)*Ga,r=vt(r)*Qa,o=vt(o)*Ka,new bt(yt(3.2404542*i-1.5371385*r-.4985314*o),yt(-.969266*i+1.8760108*r+.041556*o),yt(.0556434*i-.2040259*r+1.0572252*o))}function gt(t,n,e){return t>0?new ft(Math.atan2(e,n)*za,Math.sqrt(n*n+e*e),t):new ft(NaN,NaN,t)}function vt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function mt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function yt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function bt(t,n,e){return this instanceof bt?(this.r=~~t,this.g=~~n,void(this.b=~~e)):arguments.length<2?t instanceof bt?new bt(t.r,t.g,t.b):kt(""+t,bt,lt):new bt(t,n,e)}function wt(t){return new bt(t>>16,t>>8&255,255&t)}function xt(t){return wt(t)+""}function _t(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function kt(t,n,e){t=t.toLowerCase();var r,i,o,a=0,u=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return n(St(i[0]),St(i[1]),St(i[2]))}return(o=tu.get(t))?n(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,u=240&o,u=u>>4|u,s=15&o,s=s<<4|s):7===t.length&&(a=(16711680&o)>>16,u=(65280&o)>>8,s=255&o)),n(a,u,s))}function Mt(t,n,e){var r,i,o=Math.min(t/=255,n/=255,e/=255),a=Math.max(t,n,e),u=a-o,s=(a+o)/2;return u?(i=.5>s?u/(a+o):u/(2-a-o),r=t==a?(n-e)/u+(e>n?6:0):n==a?(e-t)/u+2:(t-n)/u+4,r*=60):(r=NaN,i=s>0&&1>s?0:r),new ct(r,i,s)}function Et(t,n,e){t=At(t),n=At(n),e=At(e);var r=mt((.4124564*t+.3575761*n+.1804375*e)/Ga),i=mt((.2126729*t+.7151522*n+.072175*e)/Qa),o=mt((.0193339*t+.119192*n+.9503041*e)/Ka);return pt(116*i-16,500*(r-i),200*(i-o))}function At(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function St(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}function Nt(t){return"function"==typeof t?t:function(){return t}}function Ct(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=null),Rt(n,e,t,r)}}function Rt(t,n,e,r){function i(){var t,n=s.status;if(!n&&jt(s)||n>=200&&300>n||304===n){try{t=e.call(o,s)}catch(r){return void a.error.call(o,r)}a.load.call(o,t)}else a.error.call(o,s)}var o={},a=ia.dispatch("beforesend","progress","load","error"),u={},s=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in s||!/^(http(s)?:)?\/\//.test(t)||(s=new XDomainRequest),"onload"in s?s.onload=s.onerror=i:s.onreadystatechange=function(){s.readyState>3&&i()},s.onprogress=function(t){var n=ia.event;ia.event=t;try{a.progress.call(o,s)}finally{ia.event=n}},o.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==n?delete u[t]:u[t]=n+"",o)},o.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",o):n},o.responseType=function(t){return arguments.length?(c=t,o):c},o.response=function(t){return e=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(aa(arguments)))}}),o.send=function(e,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),s.open(e,t,!0),null==n||"accept"in u||(u.accept=n+",*/*"),s.setRequestHeader)for(var l in u)s.setRequestHeader(l,u[l]);return null!=n&&s.overrideMimeType&&s.overrideMimeType(n),null!=c&&(s.responseType=c),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,s),s.send(null==r?null:r),o},o.abort=function(){return s.abort(),o},ia.rebind(o,a,"on"),null==r?o:o.get(Ot(r))}function Ot(t){return 1===t.length?function(n,e){t(null==n?e:null)}:t}function jt(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function Tt(){var t=Pt(),n=Ft()-t;n>24?(isFinite(n)&&(clearTimeout(iu),iu=setTimeout(Tt,n)),ru=0):(ru=1,au(Tt))}function Pt(){var t=Date.now();for(ou=nu;ou;)t>=ou.t&&(ou.f=ou.c(t-ou.t)),ou=ou.n;return t}function Ft(){for(var t,n=nu,e=1/0;n;)n.f?n=t?t.n=n.n:nu=n.n:(n.t<e&&(e=n.t),n=(t=n).n);return eu=t,e}function Dt(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function qt(t,n){var e=Math.pow(10,3*va(8-n));return{scale:n>8?function(t){return t/e}:function(t){return t*e},symbol:t}}function Lt(t){var n=t.decimal,e=t.thousands,r=t.grouping,i=t.currency,o=r&&e?function(t,n){for(var i=t.length,o=[],a=0,u=r[0],s=0;i>0&&u>0&&(s+u+1>n&&(u=Math.max(1,n-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>n));)u=r[a=(a+1)%r.length];return o.reverse().join(e)}:w;return function(t){var e=su.exec(t),r=e[1]||" ",a=e[2]||">",u=e[3]||"-",s=e[4]||"",c=e[5],l=+e[6],f=e[7],h=e[8],p=e[9],d=1,g="",v="",m=!1,y=!0;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===a)&&(c=r="0",a="="),p){case"n":f=!0,p="g";break;case"%":d=100,v="%",p="f";break;case"p":d=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===s&&(g="0"+p.toLowerCase());case"c":y=!1;case"d":m=!0,h=0;break;case"s":d=-1,p="r"}"$"===s&&(g=i[0],v=i[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):"e"!=p&&"f"!=p||(h=Math.max(0,Math.min(20,h)))),p=cu.get(p)||zt;var b=c&&f;return function(t){var e=v;if(m&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===u?"":u;if(0>d){var s=ia.formatPrefix(t,h);t=s.scale(t),e=s.symbol+v}else t*=d;t=p(t,h);var w,x,_=t.lastIndexOf(".");if(0>_){var k=y?t.lastIndexOf("e"):-1;0>k?(w=t,x=""):(w=t.substring(0,k),x=t.substring(k))}else w=t.substring(0,_),x=n+t.substring(_+1);!c&&f&&(w=o(w,1/0));var M=g.length+w.length+x.length+(b?0:i.length),E=l>M?new Array(M=l-M+1).join(r):"";return b&&(w=o(E+w,E.length?l-x.length:1/0)),i+=g,t=w+x,("<"===a?i+t+E:">"===a?E+i+t:"^"===a?E.substring(0,M>>=1)+i+t+E.substring(M):i+(b?t:E+t))+e}}}function zt(t){return t+""}function It(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ut(t,n,e){function r(n){var e=t(n),r=o(e,1);return r-n>n-e?e:r}function i(e){return n(e=t(new fu(e-1)),1),e}function o(t,e){return n(t=new fu(+t),e),t}function a(t,r,o){var a=i(t),u=[];if(o>1)for(;r>a;)e(a)%o||u.push(new Date(+a)),n(a,1);else for(;r>a;)u.push(new Date(+a)),n(a,1);return u}function u(t,n,e){try{fu=It;var r=new It;return r._=t,a(r,n,e)}finally{fu=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var s=t.utc=Vt(t);return s.floor=s,s.round=Vt(r),s.ceil=Vt(i),s.offset=Vt(o),s.range=u,t}function Vt(t){return function(n,e){try{fu=It;var r=new It;return r._=n,t(r,e)._}finally{fu=Date}}}function Bt(t){function n(t){function n(n){for(var e,i,o,a=[],u=-1,s=0;++u<r;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=pu[e=t.charAt(++u)])&&(e=t.charAt(++u)),(o=N[e])&&(e=o(n,null==i?"e"===e?" ":"0":i)),a.push(e),s=u+1);return a.push(t.slice(s,u)),a.join("")}var r=t.length;return n.parse=function(n){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=e(r,t,n,0);if(i!=n.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&fu!==It,a=new(o?It:fu);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},n.toString=function(){return t},n}function e(t,n,e,r){for(var i,o,a,u=0,s=n.length,c=e.length;s>u;){if(r>=c)return-1;if(i=n.charCodeAt(u++),37===i){if(a=n.charAt(u++),o=C[a in pu?n.charAt(u++):a],!o||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}function r(t,n,e){_.lastIndex=0;var r=_.exec(n.slice(e));return r?(t.w=k.get(r[0].toLowerCase()),e+r[0].length):-1}function i(t,n,e){w.lastIndex=0;var r=w.exec(n.slice(e));return r?(t.w=x.get(r[0].toLowerCase()),e+r[0].length):-1}function o(t,n,e){A.lastIndex=0;var r=A.exec(n.slice(e));return r?(t.m=S.get(r[0].toLowerCase()),e+r[0].length):-1}function a(t,n,e){M.lastIndex=0;var r=M.exec(n.slice(e));return r?(t.m=E.get(r[0].toLowerCase()),e+r[0].length):-1}function u(t,n,r){return e(t,N.c.toString(),n,r)}function s(t,n,r){return e(t,N.x.toString(),n,r)}function c(t,n,r){return e(t,N.X.toString(),n,r)}function l(t,n,e){var r=b.get(n.slice(e,e+=2).toLowerCase());return null==r?-1:(t.p=r,e)}var f=t.dateTime,h=t.date,p=t.time,d=t.periods,g=t.days,v=t.shortDays,m=t.months,y=t.shortMonths;n.utc=function(t){function e(t){try{fu=It;var n=new fu;return n._=t,r(n)}finally{fu=Date}}var r=n(t);return e.parse=function(t){try{fu=It;var n=r.parse(t);return n&&n._}finally{fu=Date}},e.toString=r.toString,e},n.multi=n.utc.multi=ln;var b=ia.map(),w=Ht(g),x=$t(g),_=Ht(v),k=$t(v),M=Ht(m),E=$t(m),A=Ht(y),S=$t(y);d.forEach(function(t,n){b.set(t.toLowerCase(),n)});var N={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return m[t.getMonth()]},c:n(f),d:function(t,n){return Wt(t.getDate(),n,2)},e:function(t,n){return Wt(t.getDate(),n,2)},H:function(t,n){return Wt(t.getHours(),n,2)},I:function(t,n){return Wt(t.getHours()%12||12,n,2)},j:function(t,n){return Wt(1+lu.dayOfYear(t),n,3)},L:function(t,n){return Wt(t.getMilliseconds(),n,3)},m:function(t,n){return Wt(t.getMonth()+1,n,2)},M:function(t,n){return Wt(t.getMinutes(),n,2)},p:function(t){return d[+(t.getHours()>=12)]},S:function(t,n){return Wt(t.getSeconds(),n,2)},U:function(t,n){return Wt(lu.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return Wt(lu.mondayOfYear(t),n,2)},x:n(h),X:n(p),y:function(t,n){return Wt(t.getFullYear()%100,n,2)},Y:function(t,n){return Wt(t.getFullYear()%1e4,n,4)},Z:sn,"%":function(){return"%"}},C={a:r,A:i,b:o,B:a,c:u,d:nn,e:nn,H:rn,I:rn,j:en,L:un,m:tn,M:on,p:l,S:an,U:Yt,w:Zt,W:Gt,x:s,X:c,y:Kt,Y:Qt,Z:Xt,"%":cn};return n}function Wt(t,n,e){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(e>o?new Array(e-o+1).join(n)+i:i)}function Ht(t){return new RegExp("^(?:"+t.map(ia.requote).join("|")+")","i")}function $t(t){for(var n=new f,e=-1,r=t.length;++e<r;)n.set(t[e].toLowerCase(),e);return n}function Zt(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Yt(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e));return r?(t.U=+r[0],e+r[0].length):-1}function Gt(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e));return r?(t.W=+r[0],e+r[0].length):-1}function Qt(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Kt(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e,e+2));return r?(t.y=Jt(+r[0]),e+r[0].length):-1}function Xt(t,n,e){return/^[+-]\d{4}$/.test(n=n.slice(e,e+5))?(t.Z=-n,e+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function tn(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function nn(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function en(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e,e+3));return r?(t.j=+r[0],e+r[0].length):-1}function rn(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function on(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function an(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function un(t,n,e){du.lastIndex=0;var r=du.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function sn(t){var n=t.getTimezoneOffset(),e=n>0?"-":"+",r=va(n)/60|0,i=va(n)%60;return e+Wt(r,"0",2)+Wt(i,"0",2)}function cn(t,n,e){gu.lastIndex=0;var r=gu.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function ln(t){for(var n=t.length,e=-1;++e<n;)t[e][0]=this(t[e][0]);return function(n){for(var e=0,r=t[e];!r[1](n);)r=t[++e];return r[0](n)}}function fn(){}function hn(t,n,e){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}function pn(t,n){t&&bu.hasOwnProperty(t.type)&&bu[t.type](t,n)}function dn(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function gn(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)dn(t[e],n,1);n.polygonEnd()}function vn(){function t(t,n){t*=La,n=n*La/2+Pa/4;var e=t-r,a=e>=0?1:-1,u=a*e,s=Math.cos(n),c=Math.sin(n),l=o*c,f=i*s+l*Math.cos(u),h=l*a*Math.sin(u);xu.add(Math.atan2(h,f)),r=t,i=s,o=c}var n,e,r,i,o;_u.point=function(a,u){_u.point=t,r=(n=a)*La,i=Math.cos(u=(e=u)*La/2+Pa/4),o=Math.sin(u)},_u.lineEnd=function(){t(n,e)}}function mn(t){var n=t[0],e=t[1],r=Math.cos(e);return[r*Math.cos(n),r*Math.sin(n),Math.sin(e)]}function yn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function bn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function wn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function xn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function _n(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function kn(t){return[Math.atan2(t[1],t[0]),rt(t[2])]}function Mn(t,n){return va(t[0]-n[0])<ja&&va(t[1]-n[1])<ja}function En(t,n){t*=La;var e=Math.cos(n*=La);An(e*Math.cos(t),e*Math.sin(t),Math.sin(n))}function An(t,n,e){++ku,Eu+=(t-Eu)/ku,Au+=(n-Au)/ku,Su+=(e-Su)/ku}function Sn(){function t(t,i){t*=La;var o=Math.cos(i*=La),a=o*Math.cos(t),u=o*Math.sin(t),s=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*s-r*u)*c+(c=r*a-n*s)*c+(c=n*u-e*a)*c),n*a+e*u+r*s);Mu+=c,Nu+=c*(n+(n=a)),Cu+=c*(e+(e=u)),Ru+=c*(r+(r=s)),An(n,e,r)}var n,e,r;Pu.point=function(i,o){i*=La;var a=Math.cos(o*=La);n=a*Math.cos(i),e=a*Math.sin(i),r=Math.sin(o),Pu.point=t,An(n,e,r)}}function Nn(){Pu.point=En}function Cn(){function t(t,n){t*=La;var e=Math.cos(n*=La),a=e*Math.cos(t),u=e*Math.sin(t),s=Math.sin(n),c=i*s-o*u,l=o*a-r*s,f=r*u-i*a,h=Math.sqrt(c*c+l*l+f*f),p=r*a+i*u+o*s,d=h&&-et(p)/h,g=Math.atan2(h,p);Ou+=d*c,ju+=d*l,Tu+=d*f,Mu+=g,Nu+=g*(r+(r=a)),Cu+=g*(i+(i=u)),Ru+=g*(o+(o=s)),An(r,i,o)}var n,e,r,i,o;Pu.point=function(a,u){n=a,e=u,Pu.point=t,a*=La;var s=Math.cos(u*=La);r=s*Math.cos(a),i=s*Math.sin(a),o=Math.sin(u),An(r,i,o)},Pu.lineEnd=function(){t(n,e),Pu.lineEnd=Nn,Pu.point=En}}function Rn(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return e=n.invert(e,r),e&&t.invert(e[0],e[1])}),e}function On(){return!0}function jn(t,n,e,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e=t[0],r=t[n];if(Mn(e,r)){i.lineStart();for(var u=0;n>u;++u)i.point((e=t[u])[0],e[1]);return void i.lineEnd()}var s=new Pn(e,t,null,!0),c=new Pn(e,null,s,!1);s.o=c,o.push(s),a.push(c),s=new Pn(r,t,null,!1),c=new Pn(r,null,s,!0),s.o=c,o.push(s),a.push(c)}}),a.sort(n),Tn(o),Tn(a),o.length){for(var u=0,s=e,c=a.length;c>u;++u)a[u].e=s=!s;for(var l,f,h=o[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;l=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(var u=0,c=l.length;c>u;++u)i.point((f=l[u])[0],f[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d){l=p.p.z;for(var u=l.length-1;u>=0;--u)i.point((f=l[u])[0],f[1])}else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,l=p.z,d=!d}while(!p.v);i.lineEnd()}}}function Tn(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Pn(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Fn(t,n,e,r){return function(i,o){function a(n,e){var r=i(n,e);t(n=r[0],e=r[1])&&o.point(n,e)}function u(t,n){var e=i(t,n);v.point(e[0],e[1])}function s(){y.point=u,v.lineStart()}function c(){y.point=a,v.lineEnd()}function l(t,n){g.push([t,n]);var e=i(t,n);w.point(e[0],e[1])}function f(){w.lineStart(),g=[]}function h(){l(g[0][0],g[0][1]),w.lineEnd();var t,n=w.clean(),e=b.buffer(),r=e.length;if(g.pop(),d.push(g),g=null,r)if(1&n){t=e[0];var i,r=t.length-1,a=-1;if(r>0){for(x||(o.polygonStart(),x=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&n&&e.push(e.pop().concat(e.shift())),p.push(e.filter(Dn))}var p,d,g,v=n(o),m=i.invert(r[0],r[1]),y={point:a,lineStart:s,lineEnd:c,polygonStart:function(){y.point=l,y.lineStart=f,y.lineEnd=h,p=[],d=[]},polygonEnd:function(){y.point=a,y.lineStart=s,y.lineEnd=c,p=ia.merge(p);var t=Vn(m,d);p.length?(x||(o.polygonStart(),x=!0),jn(p,Ln,t,e,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),p=d=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=qn(),w=n(b),x=!1;return y}}function Dn(t){return t.length>1}function qn(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,e){t.push([n,e])},lineEnd:k,buffer:function(){var e=n;return n=[],t=null,e},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function Ln(t,n){return((t=t.x)[0]<0?t[1]-qa-ja:qa-t[1])-((n=n.x)[0]<0?n[1]-qa-ja:qa-n[1])}function zn(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?Pa:-Pa,s=va(o-e);va(s-Pa)<ja?(t.point(e,r=(r+a)/2>0?qa:-qa),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=Pa&&(va(e-i)<ja&&(e-=i*ja),va(o-u)<ja&&(o-=u*ja),r=In(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}function In(t,n,e,r){var i,o,a=Math.sin(t-e);return va(a)>ja?Math.atan((Math.sin(n)*(o=Math.cos(r))*Math.sin(e)-Math.sin(r)*(i=Math.cos(n))*Math.sin(t))/(i*o*a)):(n+r)/2}function Un(t,n,e,r){var i;if(null==t)i=e*qa,r.point(-Pa,i),r.point(0,i),r.point(Pa,i),r.point(Pa,0),r.point(Pa,-i),r.point(0,-i),r.point(-Pa,-i),r.point(-Pa,0),r.point(-Pa,i);else if(va(t[0]-n[0])>ja){var o=t[0]<n[0]?Pa:-Pa;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function Vn(t,n){var e=t[0],r=t[1],i=[Math.sin(e),-Math.cos(e),0],o=0,a=0;xu.reset();for(var u=0,s=n.length;s>u;++u){var c=n[u],l=c.length;if(l)for(var f=c[0],h=f[0],p=f[1]/2+Pa/4,d=Math.sin(p),g=Math.cos(p),v=1;;){v===l&&(v=0),t=c[v];var m=t[0],y=t[1]/2+Pa/4,b=Math.sin(y),w=Math.cos(y),x=m-h,_=x>=0?1:-1,k=_*x,M=k>Pa,E=d*b;if(xu.add(Math.atan2(E*_*Math.sin(k),g*w+E*Math.cos(k))),o+=M?x+_*Fa:x,M^h>=e^m>=e){var A=bn(mn(f),mn(t));_n(A);var S=bn(i,A);_n(S);var N=(M^x>=0?-1:1)*rt(S[2]);(r>N||r===N&&(A[0]||A[1]))&&(a+=M^x>=0?1:-1)}if(!v++)break;h=m,d=b,g=w,f=t}}return(-ja>o||ja>o&&0>xu)^1&a}function Bn(t){function n(t,n){return Math.cos(t)*Math.cos(n)>o}function e(t){var e,o,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,h){var p,d=[f,h],g=n(f,h),v=a?g?0:i(f,h):g?i(f+(0>f?Pa:-Pa),h):0;if(!e&&(c=s=g)&&t.lineStart(),g!==s&&(p=r(e,d),(Mn(e,p)||Mn(d,p))&&(d[0]+=ja,d[1]+=ja,g=n(d[0],d[1]))),g!==s)l=0,g?(t.lineStart(),p=r(d,e),t.point(p[0],p[1])):(p=r(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(u&&e&&a^g){var m;v&o||!(m=r(d,e,!0))||(l=0,a?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||e&&Mn(e,d)||t.point(d[0],d[1]),e=d,s=g,o=v},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return l|(c&&s)<<1}}}function r(t,n,e){var r=mn(t),i=mn(n),a=[1,0,0],u=bn(r,i),s=yn(u,u),c=u[0],l=s-c*c;if(!l)return!e&&t;var f=o*s/l,h=-o*c/l,p=bn(a,u),d=xn(a,f),g=xn(u,h);wn(d,g);var v=p,m=yn(d,v),y=yn(v,v),b=m*m-y*(yn(d,d)-1);if(!(0>b)){var w=Math.sqrt(b),x=xn(v,(-m-w)/y);if(wn(x,d),x=kn(x),!e)return x;var _,k=t[0],M=n[0],E=t[1],A=n[1];k>M&&(_=k,k=M,M=_);var S=M-k,N=va(S-Pa)<ja,C=N||ja>S;if(!N&&E>A&&(_=E,E=A,A=_),C?N?E+A>0^x[1]<(va(x[0]-k)<ja?E:A):E<=x[1]&&x[1]<=A:S>Pa^(k<=x[0]&&x[0]<=M)){var R=xn(v,(-m+w)/y);return wn(R,d),[x,kn(R)]}}}function i(n,e){var r=a?t:Pa-t,i=0;return-r>n?i|=1:n>r&&(i|=2),-r>e?i|=4:e>r&&(i|=8),i}var o=Math.cos(t),a=o>0,u=va(o)>ja,s=ve(t,6*La);return Fn(n,e,s,a?[0,-t]:[-Pa,t-Pa])}function Wn(t,n,e,r){return function(i){var o,a=i.a,u=i.b,s=a.x,c=a.y,l=u.x,f=u.y,h=0,p=1,d=l-s,g=f-c;if(o=t-s,d||!(o>0)){if(o/=d,0>d){if(h>o)return;p>o&&(p=o)}else if(d>0){if(o>p)return;o>h&&(h=o)}if(o=e-s,d||!(0>o)){if(o/=d,0>d){if(o>p)return;o>h&&(h=o)}else if(d>0){if(h>o)return;p>o&&(p=o)}if(o=n-c,g||!(o>0)){if(o/=g,0>g){if(h>o)return;p>o&&(p=o)}else if(g>0){if(o>p)return;o>h&&(h=o)}if(o=r-c,g||!(0>o)){if(o/=g,0>g){if(o>p)return;o>h&&(h=o)}else if(g>0){if(h>o)return;p>o&&(p=o)}return h>0&&(i.a={x:s+h*d,y:c+h*g}),1>p&&(i.b={x:s+p*d,y:c+p*g}),i}}}}}}function Hn(t,n,e,r){function i(r,i){return va(r[0]-t)<ja?i>0?0:3:va(r[0]-e)<ja?i>0?2:1:va(r[1]-n)<ja?i>0?1:0:i>0?3:2}function o(t,n){return a(t.x,n.x)}function a(t,n){var e=i(t,1),r=i(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){function s(t){for(var n=0,e=v.length,r=t[1],i=0;e>i;++i)for(var o,a=1,u=v[i],s=u.length,c=u[0];s>a;++a)o=u[a],c[1]<=r?o[1]>r&&nt(c,o,t)>0&&++n:o[1]<=r&&nt(c,o,t)<0&&--n,c=o;return 0!==n}function c(o,u,s,c){var l=0,f=0;if(null==o||(l=i(o,s))!==(f=i(u,s))||a(o,u)<0^s>0){do c.point(0===l||3===l?t:e,l>1?r:n);while((l=(l+s+4)%4)!==f)}else c.point(u[0],u[1])}function l(i,o){return i>=t&&e>=i&&o>=n&&r>=o}function f(t,n){l(t,n)&&u.point(t,n)}function h(){C.point=d,v&&v.push(m=[]),M=!0,k=!1,x=_=NaN}function p(){g&&(d(y,b),w&&k&&S.rejoin(),g.push(S.buffer())),C.point=f,k&&u.lineEnd()}function d(t,n){t=Math.max(-Du,Math.min(Du,t)),n=Math.max(-Du,Math.min(Du,n));var e=l(t,n);if(v&&m.push([t,n]),M)y=t,b=n,w=e,M=!1,e&&(u.lineStart(),u.point(t,n));else if(e&&k)u.point(t,n);else{var r={a:{x:x,y:_},b:{x:t,y:n}};N(r)?(k||(u.lineStart(),u.point(r.a.x,r.a.y)),u.point(r.b.x,r.b.y),e||u.lineEnd(),E=!1):e&&(u.lineStart(),u.point(t,n),E=!1)}x=t,_=n,k=e}var g,v,m,y,b,w,x,_,k,M,E,A=u,S=qn(),N=Wn(t,n,e,r),C={point:f,lineStart:h,lineEnd:p,polygonStart:function(){u=S,g=[],v=[],E=!0},polygonEnd:function(){u=A,g=ia.merge(g);var n=s([t,r]),e=E&&n,i=g.length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),c(null,null,1,u),u.lineEnd()),i&&jn(g,o,n,c,u),u.polygonEnd()),g=v=m=null}};return C}}function $n(t){var n=0,e=Pa/3,r=se(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*Pa/180,e=t[1]*Pa/180):[n/Pa*180,e/Pa*180]},i}function Zn(t,n){function e(t,n){var e=Math.sqrt(o-2*i*Math.sin(n))/i;return[e*Math.sin(t*=i),a-e*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(n))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return e.invert=function(t,n){var e=a-n;return[Math.atan2(t,e)/i,rt((o-(t*t+e*e)*i*i)/(2*i))]},e}function Yn(){function t(t,n){Lu+=i*t-r*n,r=t,i=n}var n,e,r,i;Bu.point=function(o,a){Bu.point=t,n=r=o,e=i=a},Bu.lineEnd=function(){t(n,e)}}function Gn(t,n){zu>t&&(zu=t),t>Uu&&(Uu=t),Iu>n&&(Iu=n),n>Vu&&(Vu=n)}function Qn(){function t(t,n){a.push("M",t,",",n,o)}function n(t,n){a.push("M",t,",",n),u.point=e}function e(t,n){a.push("L",t,",",n)}function r(){u.point=t}function i(){a.push("Z")}var o=Kn(4.5),a=[],u={point:t,lineStart:function(){u.point=n},lineEnd:r,polygonStart:function(){u.lineEnd=i},polygonEnd:function(){u.lineEnd=r,u.point=t},pointRadius:function(t){return o=Kn(t),u},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return u}function Kn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Xn(t,n){Eu+=t,Au+=n,++Su}function Jn(){function t(t,r){var i=t-n,o=r-e,a=Math.sqrt(i*i+o*o);Nu+=a*(n+t)/2,Cu+=a*(e+r)/2,Ru+=a,Xn(n=t,e=r);
}var n,e;Hu.point=function(r,i){Hu.point=t,Xn(n=r,e=i)}}function te(){Hu.point=Xn}function ne(){function t(t,n){var e=t-r,o=n-i,a=Math.sqrt(e*e+o*o);Nu+=a*(r+t)/2,Cu+=a*(i+n)/2,Ru+=a,a=i*t-r*n,Ou+=a*(r+t),ju+=a*(i+n),Tu+=3*a,Xn(r=t,i=n)}var n,e,r,i;Hu.point=function(o,a){Hu.point=t,Xn(n=r=o,e=i=a)},Hu.lineEnd=function(){t(n,e)}}function ee(t){function n(n,e){t.moveTo(n+a,e),t.arc(n,e,a,0,Fa)}function e(n,e){t.moveTo(n,e),u.point=r}function r(n,e){t.lineTo(n,e)}function i(){u.point=n}function o(){t.closePath()}var a=4.5,u={point:n,lineStart:function(){u.point=e},lineEnd:i,polygonStart:function(){u.lineEnd=o},polygonEnd:function(){u.lineEnd=i,u.point=n},pointRadius:function(t){return a=t,u},result:k};return u}function re(t){function n(t){return(u?r:e)(t)}function e(n){return ae(n,function(e,r){e=t(e,r),n.point(e[0],e[1])})}function r(n){function e(e,r){e=t(e,r),n.point(e[0],e[1])}function r(){b=NaN,M.point=o,n.lineStart()}function o(e,r){var o=mn([e,r]),a=t(e,r);i(b,w,y,x,_,k,b=a[0],w=a[1],y=e,x=o[0],_=o[1],k=o[2],u,n),n.point(b,w)}function a(){M.point=e,n.lineEnd()}function s(){r(),M.point=c,M.lineEnd=l}function c(t,n){o(f=t,h=n),p=b,d=w,g=x,v=_,m=k,M.point=o}function l(){i(b,w,y,x,_,k,p,d,f,g,v,m,u,n),M.lineEnd=a,a()}var f,h,p,d,g,v,m,y,b,w,x,_,k,M={point:e,lineStart:r,lineEnd:a,polygonStart:function(){n.polygonStart(),M.lineStart=s},polygonEnd:function(){n.polygonEnd(),M.lineStart=r}};return M}function i(n,e,r,u,s,c,l,f,h,p,d,g,v,m){var y=l-n,b=f-e,w=y*y+b*b;if(w>4*o&&v--){var x=u+p,_=s+d,k=c+g,M=Math.sqrt(x*x+_*_+k*k),E=Math.asin(k/=M),A=va(va(k)-1)<ja||va(r-h)<ja?(r+h)/2:Math.atan2(_,x),S=t(A,E),N=S[0],C=S[1],R=N-n,O=C-e,j=b*R-y*O;(j*j/w>o||va((y*R+b*O)/w-.5)>.3||a>u*p+s*d+c*g)&&(i(n,e,r,u,s,c,N,C,A,x/=M,_/=M,k,v,m),m.point(N,C),i(N,C,A,x,_,k,l,f,h,p,d,g,v,m))}}var o=.5,a=Math.cos(30*La),u=16;return n.precision=function(t){return arguments.length?(u=(o=t*t)>0&&16,n):Math.sqrt(o)},n}function ie(t){var n=re(function(n,e){return t([n*za,e*za])});return function(t){return ce(n(t))}}function oe(t){this.stream=t}function ae(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ue(t){return se(function(){return t})()}function se(t){function n(t){return t=u(t[0]*La,t[1]*La),[t[0]*h+s,c-t[1]*h]}function e(t){return t=u.invert((t[0]-s)/h,(c-t[1])/h),t&&[t[0]*za,t[1]*za]}function r(){u=Rn(a=he(m,y,b),o);var t=o(g,v);return s=p-t[0]*h,c=d+t[1]*h,i()}function i(){return l&&(l.valid=!1,l=null),n}var o,a,u,s,c,l,f=re(function(t,n){return t=o(t,n),[t[0]*h+s,c-t[1]*h]}),h=150,p=480,d=250,g=0,v=0,m=0,y=0,b=0,x=Fu,_=w,k=null,M=null;return n.stream=function(t){return l&&(l.valid=!1),l=ce(x(a,f(_(t)))),l.valid=!0,l},n.clipAngle=function(t){return arguments.length?(x=null==t?(k=t,Fu):Bn((k=+t)*La),i()):k},n.clipExtent=function(t){return arguments.length?(M=t,_=t?Hn(t[0][0],t[0][1],t[1][0],t[1][1]):w,i()):M},n.scale=function(t){return arguments.length?(h=+t,r()):h},n.translate=function(t){return arguments.length?(p=+t[0],d=+t[1],r()):[p,d]},n.center=function(t){return arguments.length?(g=t[0]%360*La,v=t[1]%360*La,r()):[g*za,v*za]},n.rotate=function(t){return arguments.length?(m=t[0]%360*La,y=t[1]%360*La,b=t.length>2?t[2]%360*La:0,r()):[m*za,y*za,b*za]},ia.rebind(n,f,"precision"),function(){return o=t.apply(this,arguments),n.invert=o.invert&&e,r()}}function ce(t){return ae(t,function(n,e){t.point(n*La,e*La)})}function le(t,n){return[t,n]}function fe(t,n){return[t>Pa?t-Fa:-Pa>t?t+Fa:t,n]}function he(t,n,e){return t?n||e?Rn(de(t),ge(n,e)):de(t):n||e?ge(n,e):fe}function pe(t){return function(n,e){return n+=t,[n>Pa?n-Fa:-Pa>n?n+Fa:n,e]}}function de(t){var n=pe(t);return n.invert=pe(-t),n}function ge(t,n){function e(t,n){var e=Math.cos(n),u=Math.cos(t)*e,s=Math.sin(t)*e,c=Math.sin(n),l=c*r+u*i;return[Math.atan2(s*o-l*a,u*r-c*i),rt(l*o+s*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(n),a=Math.sin(n);return e.invert=function(t,n){var e=Math.cos(n),u=Math.cos(t)*e,s=Math.sin(t)*e,c=Math.sin(n),l=c*o-s*a;return[Math.atan2(s*o+c*a,u*r+l*i),rt(l*r-u*i)]},e}function ve(t,n){var e=Math.cos(t),r=Math.sin(t);return function(i,o,a,u){var s=a*n;null!=i?(i=me(e,i),o=me(e,o),(a>0?o>i:i>o)&&(i+=a*Fa)):(i=t+a*Fa,o=t-.5*s);for(var c,l=i;a>0?l>o:o>l;l-=s)u.point((c=kn([e,-r*Math.cos(l),-r*Math.sin(l)]))[0],c[1])}}function me(t,n){var e=mn(n);e[0]-=t,_n(e);var r=et(-e[1]);return((-e[2]<0?-r:r)+2*Math.PI-ja)%(2*Math.PI)}function ye(t,n,e){var r=ia.range(t,n-ja,e).concat(n);return function(t){return r.map(function(n){return[t,n]})}}function be(t,n,e){var r=ia.range(t,n-ja,e).concat(n);return function(t){return r.map(function(n){return[n,t]})}}function we(t){return t.source}function xe(t){return t.target}function _e(t,n,e,r){var i=Math.cos(n),o=Math.sin(n),a=Math.cos(r),u=Math.sin(r),s=i*Math.cos(t),c=i*Math.sin(t),l=a*Math.cos(e),f=a*Math.sin(e),h=2*Math.asin(Math.sqrt(ut(r-n)+i*a*ut(e-t))),p=1/Math.sin(h),d=h?function(t){var n=Math.sin(t*=h)*p,e=Math.sin(h-t)*p,r=e*s+n*l,i=e*c+n*f,a=e*o+n*u;return[Math.atan2(i,r)*za,Math.atan2(a,Math.sqrt(r*r+i*i))*za]}:function(){return[t*za,n*za]};return d.distance=h,d}function ke(){function t(t,i){var o=Math.sin(i*=La),a=Math.cos(i),u=va((t*=La)-n),s=Math.cos(u);$u+=Math.atan2(Math.sqrt((u=a*Math.sin(u))*u+(u=r*o-e*a*s)*u),e*o+r*a*s),n=t,e=o,r=a}var n,e,r;Zu.point=function(i,o){n=i*La,e=Math.sin(o*=La),r=Math.cos(o),Zu.point=t},Zu.lineEnd=function(){Zu.point=Zu.lineEnd=k}}function Me(t,n){function e(n,e){var r=Math.cos(n),i=Math.cos(e),o=t(r*i);return[o*i*Math.sin(n),o*Math.sin(e)]}return e.invert=function(t,e){var r=Math.sqrt(t*t+e*e),i=n(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&e*o/r)]},e}function Ee(t,n){function e(t,n){a>0?-qa+ja>n&&(n=-qa+ja):n>qa-ja&&(n=qa-ja);var e=a/Math.pow(i(n),o);return[e*Math.sin(o*t),a-e*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Pa/4+t/2)},o=t===n?Math.sin(t):Math.log(r/Math.cos(n))/Math.log(i(n)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(e.invert=function(t,n){var e=a-n,r=tt(o)*Math.sqrt(t*t+e*e);return[Math.atan2(t,e)/o,2*Math.atan(Math.pow(a/r,1/o))-qa]},e):Se}function Ae(t,n){function e(t,n){var e=o-n;return[e*Math.sin(i*t),o-e*Math.cos(i*t)]}var r=Math.cos(t),i=t===n?Math.sin(t):(r-Math.cos(n))/(n-t),o=r/i+t;return va(i)<ja?le:(e.invert=function(t,n){var e=o-n;return[Math.atan2(t,e)/i,o-tt(i)*Math.sqrt(t*t+e*e)]},e)}function Se(t,n){return[t,Math.log(Math.tan(Pa/4+n/2))]}function Ne(t){var n,e=ue(t),r=e.scale,i=e.translate,o=e.clipExtent;return e.scale=function(){var t=r.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.translate=function(){var t=i.apply(e,arguments);return t===e?n?e.clipExtent(null):e:t},e.clipExtent=function(t){var a=o.apply(e,arguments);if(a===e){if(n=null==t){var u=Pa*r(),s=i();o([[s[0]-u,s[1]-u],[s[0]+u,s[1]+u]])}}else n&&(a=null);return a},e.clipExtent(null)}function Ce(t,n){return[Math.log(Math.tan(Pa/4+n/2)),-t]}function Re(t){return t[0]}function Oe(t){return t[1]}function je(t){for(var n=t.length,e=[0,1],r=2,i=2;n>i;i++){for(;r>1&&nt(t[e[r-2]],t[e[r-1]],t[i])<=0;)--r;e[r++]=i}return e.slice(0,r)}function Te(t,n){return t[0]-n[0]||t[1]-n[1]}function Pe(t,n,e){return(e[0]-n[0])*(t[1]-n[1])<(e[1]-n[1])*(t[0]-n[0])}function Fe(t,n,e,r){var i=t[0],o=e[0],a=n[0]-i,u=r[0]-o,s=t[1],c=e[1],l=n[1]-s,f=r[1]-c,h=(u*(s-c)-f*(i-o))/(f*a-u*l);return[i+h*a,s+h*l]}function De(t){var n=t[0],e=t[t.length-1];return!(n[0]-e[0]||n[1]-e[1])}function qe(){ir(this),this.edge=this.site=this.circle=null}function Le(t){var n=os.pop()||new qe;return n.site=t,n}function ze(t){Ge(t),es.remove(t),os.push(t),ir(t)}function Ie(t){var n=t.circle,e=n.x,r=n.cy,i={x:e,y:r},o=t.P,a=t.N,u=[t];ze(t);for(var s=o;s.circle&&va(e-s.circle.x)<ja&&va(r-s.circle.cy)<ja;)o=s.P,u.unshift(s),ze(s),s=o;u.unshift(s),Ge(s);for(var c=a;c.circle&&va(e-c.circle.x)<ja&&va(r-c.circle.cy)<ja;)a=c.N,u.push(c),ze(c),c=a;u.push(c),Ge(c);var l,f=u.length;for(l=1;f>l;++l)c=u[l],s=u[l-1],nr(c.edge,s.site,c.site,i);s=u[0],c=u[f-1],c.edge=Je(s.site,c.site,null,i),Ye(s),Ye(c)}function Ue(t){for(var n,e,r,i,o=t.x,a=t.y,u=es._;u;)if(r=Ve(u,a)-o,r>ja)u=u.L;else{if(i=o-Be(u,a),!(i>ja)){r>-ja?(n=u.P,e=u):i>-ja?(n=u,e=u.N):n=e=u;break}if(!u.R){n=u;break}u=u.R}var s=Le(t);if(es.insert(n,s),n||e){if(n===e)return Ge(n),e=Le(n.site),es.insert(s,e),s.edge=e.edge=Je(n.site,s.site),Ye(n),void Ye(e);if(!e)return void(s.edge=Je(n.site,s.site));Ge(n),Ge(e);var c=n.site,l=c.x,f=c.y,h=t.x-l,p=t.y-f,d=e.site,g=d.x-l,v=d.y-f,m=2*(h*v-p*g),y=h*h+p*p,b=g*g+v*v,w={x:(v*y-p*b)/m+l,y:(h*b-g*y)/m+f};nr(e.edge,c,d,w),s.edge=Je(c,t,null,w),e.edge=Je(t,d,null,w),Ye(n),Ye(e)}}function Ve(t,n){var e=t.site,r=e.x,i=e.y,o=i-n;if(!o)return r;var a=t.P;if(!a)return-(1/0);e=a.site;var u=e.x,s=e.y,c=s-n;if(!c)return u;var l=u-r,f=1/o-1/c,h=l/c;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*c)-s+c/2+i-o/2)))/f+r:(r+u)/2}function Be(t,n){var e=t.N;if(e)return Ve(e,n);var r=t.site;return r.y===n?r.x:1/0}function We(t){this.site=t,this.edges=[]}function He(t){for(var n,e,r,i,o,a,u,s,c,l,f=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],g=ns,v=g.length;v--;)if(o=g[v],o&&o.prepare())for(u=o.edges,s=u.length,a=0;s>a;)l=u[a].end(),r=l.x,i=l.y,c=u[++a%s].start(),n=c.x,e=c.y,(va(r-n)>ja||va(i-e)>ja)&&(u.splice(a,0,new er(tr(o.site,l,va(r-f)<ja&&d-i>ja?{x:f,y:va(n-f)<ja?e:d}:va(i-d)<ja&&h-r>ja?{x:va(e-d)<ja?n:h,y:d}:va(r-h)<ja&&i-p>ja?{x:h,y:va(n-h)<ja?e:p}:va(i-p)<ja&&r-f>ja?{x:va(e-p)<ja?n:f,y:p}:null),o.site,null)),++s)}function $e(t,n){return n.angle-t.angle}function Ze(){ir(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ye(t){var n=t.P,e=t.N;if(n&&e){var r=n.site,i=t.site,o=e.site;if(r!==o){var a=i.x,u=i.y,s=r.x-a,c=r.y-u,l=o.x-a,f=o.y-u,h=2*(s*f-c*l);if(!(h>=-Ta)){var p=s*s+c*c,d=l*l+f*f,g=(f*p-c*d)/h,v=(s*d-l*p)/h,f=v+u,m=as.pop()||new Ze;m.arc=t,m.site=i,m.x=g+a,m.y=f+Math.sqrt(g*g+v*v),m.cy=f,t.circle=m;for(var y=null,b=is._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}is.insert(y,m),y||(rs=m)}}}}function Ge(t){var n=t.circle;n&&(n.P||(rs=n.N),is.remove(n),as.push(n),ir(n),t.circle=null)}function Qe(t){for(var n,e=ts,r=Wn(t[0][0],t[0][1],t[1][0],t[1][1]),i=e.length;i--;)n=e[i],(!Ke(n,t)||!r(n)||va(n.a.x-n.b.x)<ja&&va(n.a.y-n.b.y)<ja)&&(n.a=n.b=null,e.splice(i,1))}function Ke(t,n){var e=t.b;if(e)return!0;var r,i,o=t.a,a=n[0][0],u=n[1][0],s=n[0][1],c=n[1][1],l=t.l,f=t.r,h=l.x,p=l.y,d=f.x,g=f.y,v=(h+d)/2,m=(p+g)/2;if(g===p){if(a>v||v>=u)return;if(h>d){if(o){if(o.y>=c)return}else o={x:v,y:s};e={x:v,y:c}}else{if(o){if(o.y<s)return}else o={x:v,y:c};e={x:v,y:s}}}else if(r=(h-d)/(g-p),i=m-r*v,-1>r||r>1)if(h>d){if(o){if(o.y>=c)return}else o={x:(s-i)/r,y:s};e={x:(c-i)/r,y:c}}else{if(o){if(o.y<s)return}else o={x:(c-i)/r,y:c};e={x:(s-i)/r,y:s}}else if(g>p){if(o){if(o.x>=u)return}else o={x:a,y:r*a+i};e={x:u,y:r*u+i}}else{if(o){if(o.x<a)return}else o={x:u,y:r*u+i};e={x:a,y:r*a+i}}return t.a=o,t.b=e,!0}function Xe(t,n){this.l=t,this.r=n,this.a=this.b=null}function Je(t,n,e,r){var i=new Xe(t,n);return ts.push(i),e&&nr(i,t,n,e),r&&nr(i,n,t,r),ns[t.i].edges.push(new er(i,t,n)),ns[n.i].edges.push(new er(i,n,t)),i}function tr(t,n,e){var r=new Xe(t,null);return r.a=n,r.b=e,ts.push(r),r}function nr(t,n,e,r){t.a||t.b?t.l===e?t.b=r:t.a=r:(t.a=r,t.l=n,t.r=e)}function er(t,n,e){var r=t.a,i=t.b;this.edge=t,this.site=n,this.angle=e?Math.atan2(e.y-n.y,e.x-n.x):t.l===n?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function rr(){this._=null}function ir(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function or(t,n){var e=n,r=n.R,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.R=r.L,e.R&&(e.R.U=e),r.L=e}function ar(t,n){var e=n,r=n.L,i=e.U;i?i.L===e?i.L=r:i.R=r:t._=r,r.U=i,e.U=r,e.L=r.R,e.L&&(e.L.U=e),r.R=e}function ur(t){for(;t.L;)t=t.L;return t}function sr(t,n){var e,r,i,o=t.sort(cr).pop();for(ts=[],ns=new Array(t.length),es=new rr,is=new rr;;)if(i=rs,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))o.x===e&&o.y===r||(ns[o.i]=new We(o),Ue(o),e=o.x,r=o.y),o=t.pop();else{if(!i)break;Ie(i.arc)}n&&(Qe(n),He(n));var a={cells:ns,edges:ts};return es=is=ts=ns=null,a}function cr(t,n){return n.y-t.y||n.x-t.x}function lr(t,n,e){return(t.x-e.x)*(n.y-t.y)-(t.x-n.x)*(e.y-t.y)}function fr(t){return t.x}function hr(t){return t.y}function pr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(t,n,e,r,i,o){if(!t(n,e,r,i,o)){var a=.5*(e+i),u=.5*(r+o),s=n.nodes;s[0]&&dr(t,s[0],e,r,a,u),s[1]&&dr(t,s[1],a,r,i,u),s[2]&&dr(t,s[2],e,u,a,o),s[3]&&dr(t,s[3],a,u,i,o)}}function gr(t,n,e,r,i,o,a){var u,s=1/0;return function c(t,l,f,h,p){if(!(l>o||f>a||r>h||i>p)){if(d=t.point){var d,g=n-t.x,v=e-t.y,m=g*g+v*v;if(s>m){var y=Math.sqrt(s=m);r=n-y,i=e-y,o=n+y,a=e+y,u=d}}for(var b=t.nodes,w=.5*(l+h),x=.5*(f+p),_=n>=w,k=e>=x,M=k<<1|_,E=M+4;E>M;++M)if(t=b[3&M])switch(3&M){case 0:c(t,l,f,w,x);break;case 1:c(t,w,f,h,x);break;case 2:c(t,l,x,w,p);break;case 3:c(t,w,x,h,p)}}}(t,r,i,o,a),u}function vr(t,n){t=ia.rgb(t),n=ia.rgb(n);var e=t.r,r=t.g,i=t.b,o=n.r-e,a=n.g-r,u=n.b-i;return function(t){return"#"+_t(Math.round(e+o*t))+_t(Math.round(r+a*t))+_t(Math.round(i+u*t))}}function mr(t,n){var e,r={},i={};for(e in t)e in n?r[e]=wr(t[e],n[e]):i[e]=t[e];for(e in n)e in t||(i[e]=n[e]);return function(t){for(e in r)i[e]=r[e](t);return i}}function yr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function br(t,n){var e,r,i,o=ss.lastIndex=cs.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=ss.exec(t))&&(r=cs.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:yr(e,r)})),o=cs.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?(n=s[0].x,function(t){return n(t)+""}):function(){return n}:(n=s.length,function(t){for(var e,r=0;n>r;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function wr(t,n){for(var e,r=ia.interpolators.length;--r>=0&&!(e=ia.interpolators[r](t,n)););return e}function xr(t,n){var e,r=[],i=[],o=t.length,a=n.length,u=Math.min(t.length,n.length);for(e=0;u>e;++e)r.push(wr(t[e],n[e]));for(;o>e;++e)i[e]=t[e];for(;a>e;++e)i[e]=n[e];return function(t){for(e=0;u>e;++e)i[e]=r[e](t);return i}}function _r(t){return function(n){return 0>=n?0:n>=1?1:t(n)}}function kr(t){return function(n){return 1-t(1-n)}}function Mr(t){return function(n){return.5*(.5>n?t(2*n):2-t(2-2*n))}}function Er(t){return t*t}function Ar(t){return t*t*t}function Sr(t){if(0>=t)return 0;if(t>=1)return 1;var n=t*t,e=n*t;return 4*(.5>t?e:3*(t-n)+e-.75)}function Nr(t){return function(n){return Math.pow(n,t)}}function Cr(t){return 1-Math.cos(t*qa)}function Rr(t){return Math.pow(2,10*(t-1))}function Or(t){return 1-Math.sqrt(1-t*t)}function jr(t,n){var e;return arguments.length<2&&(n=.45),arguments.length?e=n/Fa*Math.asin(1/t):(t=1,e=n/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-e)*Fa/n)}}function Tr(t){return t||(t=1.70158),function(n){return n*n*((t+1)*n-t)}}function Pr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Fr(t,n){t=ia.hcl(t),n=ia.hcl(n);var e=t.h,r=t.c,i=t.l,o=n.h-e,a=n.c-r,u=n.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?n.c:r),isNaN(o)?(o=0,e=isNaN(e)?n.h:e):o>180?o-=360:-180>o&&(o+=360),function(t){return ht(e+o*t,r+a*t,i+u*t)+""}}function Dr(t,n){t=ia.hsl(t),n=ia.hsl(n);var e=t.h,r=t.s,i=t.l,o=n.h-e,a=n.s-r,u=n.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?n.s:r),isNaN(o)?(o=0,e=isNaN(e)?n.h:e):o>180?o-=360:-180>o&&(o+=360),function(t){return lt(e+o*t,r+a*t,i+u*t)+""}}function qr(t,n){t=ia.lab(t),n=ia.lab(n);var e=t.l,r=t.a,i=t.b,o=n.l-e,a=n.a-r,u=n.b-i;return function(t){return dt(e+o*t,r+a*t,i+u*t)+""}}function Lr(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function zr(t){var n=[t.a,t.b],e=[t.c,t.d],r=Ur(n),i=Ir(n,e),o=Ur(Vr(e,n,-i))||0;n[0]*e[1]<e[0]*n[1]&&(n[0]*=-1,n[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(n[1],n[0]):Math.atan2(-e[0],e[1]))*za,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*za:0}function Ir(t,n){return t[0]*n[0]+t[1]*n[1]}function Ur(t){var n=Math.sqrt(Ir(t,t));return n&&(t[0]/=n,t[1]/=n),n}function Vr(t,n,e){return t[0]+=e*n[0],t[1]+=e*n[1],t}function Br(t,n){var e,r=[],i=[],o=ia.transform(t),a=ia.transform(n),u=o.translate,s=a.translate,c=o.rotate,l=a.rotate,f=o.skew,h=a.skew,p=o.scale,d=a.scale;return u[0]!=s[0]||u[1]!=s[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:yr(u[0],s[0])},{i:3,x:yr(u[1],s[1])})):s[0]||s[1]?r.push("translate("+s+")"):r.push(""),c!=l?(c-l>180?l+=360:l-c>180&&(c+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:yr(c,l)})):l&&r.push(r.pop()+"rotate("+l+")"),f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:yr(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),p[0]!=d[0]||p[1]!=d[1]?(e=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:e-4,x:yr(p[0],d[0])},{i:e-2,x:yr(p[1],d[1])})):1==d[0]&&1==d[1]||r.push(r.pop()+"scale("+d+")"),e=i.length,function(t){for(var n,o=-1;++o<e;)r[(n=i[o]).i]=n.x(t);return r.join("")}}function Wr(t,n){return n=(n-=t=+t)||1/n,function(e){return(e-t)/n}}function Hr(t,n){return n=(n-=t=+t)||1/n,function(e){return Math.max(0,Math.min(1,(e-t)/n))}}function $r(t){for(var n=t.source,e=t.target,r=Yr(n,e),i=[n];n!==r;)n=n.parent,i.push(n);for(var o=i.length;e!==r;)i.splice(o,0,e),e=e.parent;return i}function Zr(t){for(var n=[],e=t.parent;null!=e;)n.push(t),t=e,e=e.parent;return n.push(t),n}function Yr(t,n){if(t===n)return t;for(var e=Zr(t),r=Zr(n),i=e.pop(),o=r.pop(),a=null;i===o;)a=i,i=e.pop(),o=r.pop();return a}function Gr(t){t.fixed|=2}function Qr(t){t.fixed&=-7}function Kr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Xr(t){t.fixed&=-5}function Jr(t,n,e){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,u=a.length,s=-1;++s<u;)o=a[s],null!=o&&(Jr(o,n,e),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=n*e[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,i+=c*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function ti(t,n){return ia.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=ai,t}function ni(t,n){for(var e=[t];null!=(t=e.pop());)if(n(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)e.push(i[r])}function ei(t,n){for(var e=[t],r=[];null!=(t=e.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)e.push(o[a]);for(;null!=(t=r.pop());)n(t)}function ri(t){return t.children}function ii(t){return t.value}function oi(t,n){return n.value-t.value}function ai(t){return ia.merge(t.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}function ui(t){return t.x}function si(t){return t.y}function ci(t,n,e){t.y0=n,t.y=e}function li(t){return ia.range(t.length)}function fi(t){for(var n=-1,e=t[0].length,r=[];++n<e;)r[n]=0;return r}function hi(t){for(var n,e=1,r=0,i=t[0][1],o=t.length;o>e;++e)(n=t[e][1])>i&&(r=e,i=n);return r}function pi(t){return t.reduce(di,0)}function di(t,n){return t+n[1]}function gi(t,n){return vi(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function vi(t,n){for(var e=-1,r=+t[0],i=(t[1]-r)/n,o=[];++e<=n;)o[e]=i*e+r;return o}function mi(t){return[ia.min(t),ia.max(t)]}function yi(t,n){return t.value-n.value}function bi(t,n){var e=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=e,e._pack_prev=n}function wi(t,n){t._pack_next=n,n._pack_prev=t}function xi(t,n){var e=n.x-t.x,r=n.y-t.y,i=t.r+n.r;return.999*i*i>e*e+r*r}function _i(t){function n(t){l=Math.min(t.x-t.r,l),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),p=Math.max(t.y+t.r,p)}if((e=t.children)&&(c=e.length)){var e,r,i,o,a,u,s,c,l=1/0,f=-(1/0),h=1/0,p=-(1/0);if(e.forEach(ki),r=e[0],r.x=-r.r,r.y=0,n(r),c>1&&(i=e[1],i.x=i.r,i.y=0,n(i),c>2))for(o=e[2],Ai(r,i,o),n(o),bi(r,o),r._pack_prev=o,bi(o,i),i=r._pack_next,a=3;c>a;a++){Ai(r,i,o=e[a]);var d=0,g=1,v=1;for(u=i._pack_next;u!==i;u=u._pack_next,g++)if(xi(u,o)){d=1;break}if(1==d)for(s=r._pack_prev;s!==u._pack_prev&&!xi(s,o);s=s._pack_prev,v++);d?(v>g||g==v&&i.r<r.r?wi(r,i=u):wi(r=s,i),a--):(bi(r,o),i=o,n(o))}var m=(l+f)/2,y=(h+p)/2,b=0;for(a=0;c>a;a++)o=e[a],o.x-=m,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,e.forEach(Mi)}}function ki(t){t._pack_next=t._pack_prev=t}function Mi(t){delete t._pack_next,delete t._pack_prev}function Ei(t,n,e,r){var i=t.children;if(t.x=n+=r*t.x,t.y=e+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ei(i[o],n,e,r)}function Ai(t,n,e){var r=t.r+e.r,i=n.x-t.x,o=n.y-t.y;if(r&&(i||o)){var a=n.r+e.r,u=i*i+o*o;a*=a,r*=r;var s=.5+(r-a)/(2*u),c=Math.sqrt(Math.max(0,2*a*(r+u)-(r-=u)*r-a*a))/(2*u);e.x=t.x+s*i+c*o,e.y=t.y+s*o-c*i}else e.x=t.x+r,e.y=t.y}function Si(t,n){return t.parent==n.parent?1:2}function Ni(t){var n=t.children;return n.length?n[0]:t.t}function Ci(t){var n,e=t.children;return(n=e.length)?e[n-1]:t.t}function Ri(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Oi(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)n=i[o],n.z+=e,n.m+=e,e+=n.s+(r+=n.c)}function ji(t,n,e){return t.a.parent===n.parent?t.a:e}function Ti(t){return 1+ia.max(t,function(t){return t.y})}function Pi(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}function Fi(t){var n=t.children;return n&&n.length?Fi(n[0]):t}function Di(t){var n,e=t.children;return e&&(n=e.length)?Di(e[n-1]):t}function qi(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Li(t,n){var e=t.x+n[3],r=t.y+n[0],i=t.dx-n[1]-n[3],o=t.dy-n[0]-n[2];return 0>i&&(e+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:e,y:r,dx:i,dy:o}}function zi(t){var n=t[0],e=t[t.length-1];return e>n?[n,e]:[e,n]}function Ii(t){return t.rangeExtent?t.rangeExtent():zi(t.range())}function Ui(t,n,e,r){var i=e(t[0],t[1]),o=r(n[0],n[1]);return function(t){return o(i(t))}}function Vi(t,n){var e,r=0,i=t.length-1,o=t[r],a=t[i];return o>a&&(e=r,r=i,i=e,e=o,o=a,a=e),t[r]=n.floor(o),t[i]=n.ceil(a),t}function Bi(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:ws}function Wi(t,n,e,r){var i=[],o=[],a=0,u=Math.min(t.length,n.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<=u;)i.push(e(t[a-1],t[a])),o.push(r(n[a-1],n[a]));return function(n){var e=ia.bisect(t,n,1,u)-1;return o[e](i[e](n))}}function Hi(t,n,e,r){function i(){var i=Math.min(t.length,n.length)>2?Wi:Ui,s=r?Hr:Wr;return a=i(t,n,s,e),u=i(n,t,s,wr),o}function o(t){return a(t)}var a,u;return o.invert=function(t){return u(t)},o.domain=function(n){return arguments.length?(t=n.map(Number),i()):t},o.range=function(t){return arguments.length?(n=t,i()):n},o.rangeRound=function(t){return o.range(t).interpolate(Lr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(e=t,i()):e},o.ticks=function(n){return Gi(t,n)},o.tickFormat=function(n,e){return Qi(t,n,e)},o.nice=function(n){return Zi(t,n),i()},o.copy=function(){return Hi(t,n,e,r)},i()}function $i(t,n){return ia.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Zi(t,n){return Vi(t,Bi(Yi(t,n)[2]))}function Yi(t,n){null==n&&(n=10);var e=zi(t),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/n)/Math.LN10)),o=n/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function Gi(t,n){return ia.range.apply(ia,Yi(t,n))}function Qi(t,n,e){var r=Yi(t,n);if(e){var i=su.exec(e);if(i.shift(),"s"===i[8]){var o=ia.formatPrefix(Math.max(va(r[0]),va(r[1])));return i[7]||(i[7]="."+Ki(o.scale(r[2]))),i[8]="f",e=ia.format(i.join("")),function(t){return e(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Xi(i[8],r)),e=i.join("")}else e=",."+Ki(r[2])+"f";return ia.format(e)}function Ki(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Xi(t,n){var e=Ki(n[2]);return t in xs?Math.abs(e-Ki(Math.max(va(n[0]),va(n[1]))))+ +("e"!==t):e-2*("%"===t)}function Ji(t,n,e,r){function i(t){return(e?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function o(t){return e?Math.pow(n,t):-Math.pow(n,-t)}function a(n){return t(i(n))}return a.invert=function(n){return o(t.invert(n))},a.domain=function(n){return arguments.length?(e=n[0]>=0,t.domain((r=n.map(Number)).map(i)),a):r},a.base=function(e){return arguments.length?(n=+e,t.domain(r.map(i)),a):n},a.nice=function(){var n=Vi(r.map(i),e?Math:ks);return t.domain(n),r=n.map(o),a},a.ticks=function(){var t=zi(r),a=[],u=t[0],s=t[1],c=Math.floor(i(u)),l=Math.ceil(i(s)),f=n%1?2:n;if(isFinite(l-c)){if(e){for(;l>c;c++)for(var h=1;f>h;h++)a.push(o(c)*h);a.push(o(c))}else for(a.push(o(c));c++<l;)for(var h=f-1;h>0;h--)a.push(o(c)*h);for(c=0;a[c]<u;c++);for(l=a.length;a[l-1]>s;l--);a=a.slice(c,l)}return a},a.tickFormat=function(t,n){if(!arguments.length)return _s;arguments.length<2?n=_s:"function"!=typeof n&&(n=ia.format(n));var r,u=Math.max(.1,t/a.ticks().length),s=e?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(s(i(t)+r))<=u?n(t):""}},a.copy=function(){return Ji(t.copy(),n,e,r)},$i(a,t)}function to(t,n,e){function r(n){return t(i(n))}var i=no(n),o=no(1/n);return r.invert=function(n){return o(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain((e=n.map(Number)).map(i)),r):e},r.ticks=function(t){return Gi(e,t)},r.tickFormat=function(t,n){return Qi(e,t,n)},r.nice=function(t){return r.domain(Zi(e,t))},r.exponent=function(a){return arguments.length?(i=no(n=a),o=no(1/n),t.domain(e.map(i)),r):n},r.copy=function(){return to(t.copy(),n,e)},$i(r,t)}function no(t){return function(n){return 0>n?-Math.pow(-n,t):Math.pow(n,t)}}function eo(t,n){function e(e){return o[((i.get(e)||("range"===n.t?i.set(e,t.push(e)):NaN))-1)%o.length]}function r(n,e){return ia.range(t.length).map(function(t){return n+e*t})}var i,o,a;return e.domain=function(r){if(!arguments.length)return t;t=[],i=new f;for(var o,a=-1,u=r.length;++a<u;)i.has(o=r[a])||i.set(o,t.push(o));return e[n.t].apply(e,n.a)},e.range=function(t){return arguments.length?(o=t,a=0,n={t:"range",a:arguments},e):o},e.rangePoints=function(i,u){arguments.length<2&&(u=0);var s=i[0],c=i[1],l=t.length<2?(s=(s+c)/2,0):(c-s)/(t.length-1+u);return o=r(s+l*u/2,l),a=0,n={t:"rangePoints",a:arguments},e},e.rangeRoundPoints=function(i,u){arguments.length<2&&(u=0);var s=i[0],c=i[1],l=t.length<2?(s=c=Math.round((s+c)/2),0):(c-s)/(t.length-1+u)|0;return o=r(s+Math.round(l*u/2+(c-s-(t.length-1+u)*l)/2),l),a=0,n={t:"rangeRoundPoints",a:arguments},e},e.rangeBands=function(i,u,s){arguments.length<2&&(u=0),arguments.length<3&&(s=u);var c=i[1]<i[0],l=i[c-0],f=i[1-c],h=(f-l)/(t.length-u+2*s);return o=r(l+h*s,h),c&&o.reverse(),a=h*(1-u),n={t:"rangeBands",a:arguments},e},e.rangeRoundBands=function(i,u,s){arguments.length<2&&(u=0),arguments.length<3&&(s=u);var c=i[1]<i[0],l=i[c-0],f=i[1-c],h=Math.floor((f-l)/(t.length-u+2*s));return o=r(l+Math.round((f-l-(t.length-u)*h)/2),h),c&&o.reverse(),a=Math.round(h*(1-u)),n={t:"rangeRoundBands",a:arguments},e},e.rangeBand=function(){return a},e.rangeExtent=function(){return zi(n.a[0])},e.copy=function(){return eo(t,n)},e.domain(t)}function ro(t,n){function e(){var e=0,i=n.length;for(u=[];++e<i;)u[e-1]=ia.quantile(t,e/i);return r}function r(t){return isNaN(t=+t)?void 0:n[ia.bisect(u,t)]}var u;return r.domain=function(n){return arguments.length?(t=n.map(o).filter(a).sort(i),e()):t},r.range=function(t){return arguments.length?(n=t,e()):n},r.quantiles=function(){return u},r.invertExtent=function(e){return e=n.indexOf(e),0>e?[NaN,NaN]:[e>0?u[e-1]:t[0],e<u.length?u[e]:t[t.length-1]]},r.copy=function(){return ro(t,n)},e()}function io(t,n,e){function r(n){return e[Math.max(0,Math.min(a,Math.floor(o*(n-t))))]}function i(){return o=e.length/(n-t),a=e.length-1,r}var o,a;return r.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],i()):[t,n]},r.range=function(t){return arguments.length?(e=t,i()):e},r.invertExtent=function(n){return n=e.indexOf(n),n=0>n?NaN:n/o+t,[n,n+1/o]},r.copy=function(){return io(t,n,e)},i()}function oo(t,n){function e(e){return e>=e?n[ia.bisect(t,e)]:void 0}return e.domain=function(n){return arguments.length?(t=n,e):t},e.range=function(t){return arguments.length?(n=t,e):n},e.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]},e.copy=function(){return oo(t,n)},e}function ao(t){function n(t){return+t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t},n.ticks=function(n){return Gi(t,n)},n.tickFormat=function(n,e){return Qi(t,n,e)},n.copy=function(){return ao(t)},n}function uo(){return 0}function so(t){return t.innerRadius}function co(t){return t.outerRadius}function lo(t){return t.startAngle}function fo(t){return t.endAngle}function ho(t){return t&&t.padAngle}function po(t,n,e,r){return(t-e)*n-(n-r)*t>0?0:1}function go(t,n,e,r,i){var o=t[0]-n[0],a=t[1]-n[1],u=(i?r:-r)/Math.sqrt(o*o+a*a),s=u*a,c=-u*o,l=t[0]+s,f=t[1]+c,h=n[0]+s,p=n[1]+c,d=(l+h)/2,g=(f+p)/2,v=h-l,m=p-f,y=v*v+m*m,b=e-r,w=l*p-h*f,x=(0>m?-1:1)*Math.sqrt(b*b*y-w*w),_=(w*m-v*x)/y,k=(-w*v-m*x)/y,M=(w*m+v*x)/y,E=(-w*v+m*x)/y,A=_-d,S=k-g,N=M-d,C=E-g;return A*A+S*S>N*N+C*C&&(_=M,k=E),[[_-s,k-c],[_*e/b,k*e/b]]}function vo(t){function n(n){function a(){c.push("M",o(t(l),u))}for(var s,c=[],l=[],f=-1,h=n.length,p=Nt(e),d=Nt(r);++f<h;)i.call(this,s=n[f],f)?l.push([+p.call(this,s,f),+d.call(this,s,f)]):l.length&&(a(),l=[]);return l.length&&a(),c.length?c.join(""):null}var e=Re,r=Oe,i=On,o=mo,a=o.key,u=.7;return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n.defined=function(t){return arguments.length?(i=t,n):i},n.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Cs.get(t)||mo).key,n):a},n.tension=function(t){return arguments.length?(u=t,n):u},n}function mo(t){return t.join("L")}function yo(t){return mo(t)+"Z"}function bo(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r[0]+(r=t[n])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")}function wo(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("V",(r=t[n])[1],"H",r[0]);return i.join("")}function xo(t){for(var n=0,e=t.length,r=t[0],i=[r[0],",",r[1]];++n<e;)i.push("H",(r=t[n])[0],"V",r[1]);return i.join("")}function _o(t,n){return t.length<4?mo(t):t[1]+Eo(t.slice(1,-1),Ao(t,n))}function ko(t,n){return t.length<3?mo(t):t[0]+Eo((t.push(t[0]),t),Ao([t[t.length-2]].concat(t,[t[1]]),n))}function Mo(t,n){return t.length<3?mo(t):t[0]+Eo(t,Ao(t,n))}function Eo(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return mo(t);var e=t.length!=n.length,r="",i=t[0],o=t[1],a=n[0],u=a,s=1;if(e&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],s=2),n.length>1){u=n[1],o=t[s],s++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1];for(var c=2;c<n.length;c++,s++)o=t[s],u=n[c],r+="S"+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1]}if(e){var l=t[s];r+="Q"+(o[0]+2*u[0]/3)+","+(o[1]+2*u[1]/3)+","+l[0]+","+l[1]}return r}function Ao(t,n){for(var e,r=[],i=(1-n)/2,o=t[0],a=t[1],u=1,s=t.length;++u<s;)e=o,o=a,a=t[u],r.push([i*(a[0]-e[0]),i*(a[1]-e[1])]);return r}function So(t){if(t.length<3)return mo(t);var n=1,e=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],u=[o,o,o,r[1]],s=[i,",",o,"L",Oo(js,a),",",Oo(js,u)];for(t.push(t[e-1]);++n<=e;)r=t[n],a.shift(),a.push(r[0]),u.shift(),u.push(r[1]),jo(s,a,u);return t.pop(),s.push("L",r),s.join("")}function No(t){if(t.length<4)return mo(t);for(var n,e=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)n=t[r],o.push(n[0]),a.push(n[1]);for(e.push(Oo(js,o)+","+Oo(js,a)),--r;++r<i;)n=t[r],o.shift(),o.push(n[0]),a.shift(),a.push(n[1]),jo(e,o,a);return e.join("")}function Co(t){for(var n,e,r=-1,i=t.length,o=i+4,a=[],u=[];++r<4;)e=t[r%i],a.push(e[0]),u.push(e[1]);for(n=[Oo(js,a),",",Oo(js,u)],--r;++r<o;)e=t[r%i],a.shift(),a.push(e[0]),u.shift(),u.push(e[1]),jo(n,a,u);return n.join("")}function Ro(t,n){var e=t.length-1;if(e)for(var r,i,o=t[0][0],a=t[0][1],u=t[e][0]-o,s=t[e][1]-a,c=-1;++c<=e;)r=t[c],i=c/e,r[0]=n*r[0]+(1-n)*(o+i*u),r[1]=n*r[1]+(1-n)*(a+i*s);return So(t)}function Oo(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function jo(t,n,e){
t.push("C",Oo(Rs,n),",",Oo(Rs,e),",",Oo(Os,n),",",Oo(Os,e),",",Oo(js,n),",",Oo(js,e))}function To(t,n){return(n[1]-t[1])/(n[0]-t[0])}function Po(t){for(var n=0,e=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=To(i,o);++n<e;)r[n]=(a+(a=To(i=o,o=t[n+1])))/2;return r[n]=a,r}function Fo(t){for(var n,e,r,i,o=[],a=Po(t),u=-1,s=t.length-1;++u<s;)n=To(t[u],t[u+1]),va(n)<ja?a[u]=a[u+1]=0:(e=a[u]/n,r=a[u+1]/n,i=e*e+r*r,i>9&&(i=3*n/Math.sqrt(i),a[u]=i*e,a[u+1]=i*r));for(u=-1;++u<=s;)i=(t[Math.min(s,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+a[u]*a[u])),o.push([i||0,a[u]*i||0]);return o}function Do(t){return t.length<3?mo(t):t[0]+Eo(t,Fo(t))}function qo(t){for(var n,e,r,i=-1,o=t.length;++i<o;)n=t[i],e=n[0],r=n[1]-qa,n[0]=e*Math.cos(r),n[1]=e*Math.sin(r);return t}function Lo(t){function n(n){function s(){g.push("M",u(t(m),f),l,c(t(v.reverse()),f),"Z")}for(var h,p,d,g=[],v=[],m=[],y=-1,b=n.length,w=Nt(e),x=Nt(i),_=e===r?function(){return p}:Nt(r),k=i===o?function(){return d}:Nt(o);++y<b;)a.call(this,h=n[y],y)?(v.push([p=+w.call(this,h,y),d=+x.call(this,h,y)]),m.push([+_.call(this,h,y),+k.call(this,h,y)])):v.length&&(s(),v=[],m=[]);return v.length&&s(),g.length?g.join(""):null}var e=Re,r=Re,i=0,o=Oe,a=On,u=mo,s=u.key,c=u,l="L",f=.7;return n.x=function(t){return arguments.length?(e=r=t,n):r},n.x0=function(t){return arguments.length?(e=t,n):e},n.x1=function(t){return arguments.length?(r=t,n):r},n.y=function(t){return arguments.length?(i=o=t,n):o},n.y0=function(t){return arguments.length?(i=t,n):i},n.y1=function(t){return arguments.length?(o=t,n):o},n.defined=function(t){return arguments.length?(a=t,n):a},n.interpolate=function(t){return arguments.length?(s="function"==typeof t?u=t:(u=Cs.get(t)||mo).key,c=u.reverse||u,l=u.closed?"M":"L",n):s},n.tension=function(t){return arguments.length?(f=t,n):f},n}function zo(t){return t.radius}function Io(t){return[t.x,t.y]}function Uo(t){return function(){var n=t.apply(this,arguments),e=n[0],r=n[1]-qa;return[e*Math.cos(r),e*Math.sin(r)]}}function Vo(){return 64}function Bo(){return"circle"}function Wo(t){var n=Math.sqrt(t/Pa);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function Ho(t){return function(){var n,e;(n=this[t])&&(e=n[n.active])&&(--n.count?delete n[n.active]:delete this[t],n.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function $o(t,n,e){return xa(t,zs),t.namespace=n,t.id=e,t}function Zo(t,n,e,r){var i=t.id,o=t.namespace;return H(t,"function"==typeof e?function(t,a,u){t[o][i].tween.set(n,r(e.call(t,t.__data__,a,u)))}:(e=r(e),function(t){t[o][i].tween.set(n,e)}))}function Yo(t){return null==t&&(t=""),function(){this.textContent=t}}function Go(t){return null==t?"__transition__":"__transition_"+t+"__"}function Qo(t,n,e,r,i){var o=t[e]||(t[e]={active:0,count:0}),a=o[r];if(!a){var u=i.time;a=o[r]={tween:new f,time:u,delay:i.delay,duration:i.duration,ease:i.ease,index:n},i=null,++o.count,ia.timer(function(i){function s(e){if(o.active>r)return l();var i=o[o.active];i&&(--o.count,delete o[o.active],i.event&&i.event.interrupt.call(t,t.__data__,i.index)),o.active=r,a.event&&a.event.start.call(t,t.__data__,n),a.tween.forEach(function(e,r){(r=r.call(t,t.__data__,n))&&g.push(r)}),h=a.ease,f=a.duration,ia.timer(function(){return d.c=c(e||1)?On:c,1},0,u)}function c(e){if(o.active!==r)return 1;for(var i=e/f,u=h(i),s=g.length;s>0;)g[--s].call(t,u);return i>=1?(a.event&&a.event.end.call(t,t.__data__,n),l()):void 0}function l(){return--o.count?delete o[r]:delete t[e],1}var f,h,p=a.delay,d=ou,g=[];return d.t=p+u,i>=p?s(i-p):void(d.c=s)},0,u)}}function Ko(t,n,e){t.attr("transform",function(t){var r=n(t);return"translate("+(isFinite(r)?r:e(t))+",0)"})}function Xo(t,n,e){t.attr("transform",function(t){var r=n(t);return"translate(0,"+(isFinite(r)?r:e(t))+")"})}function Jo(t){return t.toISOString()}function ta(t,n,e){function r(n){return t(n)}function i(t,e){var r=t[1]-t[0],i=r/e,o=ia.bisect(Ys,i);return o==Ys.length?[n.year,Yi(t.map(function(t){return t/31536e6}),e)[2]]:o?n[i/Ys[o-1]<Ys[o]/i?o-1:o]:[Ks,Yi(t,e)[2]]}return r.invert=function(n){return na(t.invert(n))},r.domain=function(n){return arguments.length?(t.domain(n),r):t.domain().map(na)},r.nice=function(t,n){function e(e){return!isNaN(e)&&!t.range(e,na(+e+1),n).length}var o=r.domain(),a=zi(o),u=null==t?i(a,10):"number"==typeof t&&i(a,t);return u&&(t=u[0],n=u[1]),r.domain(Vi(o,n>1?{floor:function(n){for(;e(n=t.floor(n));)n=na(n-1);return n},ceil:function(n){for(;e(n=t.ceil(n));)n=na(+n+1);return n}}:t))},r.ticks=function(t,n){var e=zi(r.domain()),o=null==t?i(e,10):"number"==typeof t?i(e,t):!t.range&&[{range:t},n];return o&&(t=o[0],n=o[1]),t.range(e[0],na(+e[1]+1),1>n?1:n)},r.tickFormat=function(){return e},r.copy=function(){return ta(t.copy(),n,e)},$i(r,t)}function na(t){return new Date(t)}function ea(t){return JSON.parse(t.responseText)}function ra(t){var n=ua.createRange();return n.selectNode(ua.body),n.createContextualFragment(t.responseText)}var ia={version:"3.5.6"},oa=[].slice,aa=function(t){return oa.call(t)},ua=this.document;if(ua)try{aa(ua.documentElement.childNodes)[0].nodeType}catch(sa){aa=function(t){for(var n=t.length,e=new Array(n);n--;)e[n]=t[n];return e}}if(Date.now||(Date.now=function(){return+new Date}),ua)try{ua.createElement("DIV").style.setProperty("opacity",0,"")}catch(ca){var la=this.Element.prototype,fa=la.setAttribute,ha=la.setAttributeNS,pa=this.CSSStyleDeclaration.prototype,da=pa.setProperty;la.setAttribute=function(t,n){fa.call(this,t,n+"")},la.setAttributeNS=function(t,n,e){ha.call(this,t,n,e+"")},pa.setProperty=function(t,n,e){da.call(this,t,n+"",e)}}ia.ascending=i,ia.descending=function(t,n){return t>n?-1:n>t?1:n>=t?0:NaN},ia.min=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){e=r;break}for(;++i<o;)null!=(r=t[i])&&e>r&&(e=r)}else{for(;++i<o;)if(null!=(r=n.call(t,t[i],i))&&r>=r){e=r;break}for(;++i<o;)null!=(r=n.call(t,t[i],i))&&e>r&&(e=r)}return e},ia.max=function(t,n){var e,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){e=r;break}for(;++i<o;)null!=(r=t[i])&&r>e&&(e=r)}else{for(;++i<o;)if(null!=(r=n.call(t,t[i],i))&&r>=r){e=r;break}for(;++i<o;)null!=(r=n.call(t,t[i],i))&&r>e&&(e=r)}return e},ia.extent=function(t,n){var e,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){e=i=r;break}for(;++o<a;)null!=(r=t[o])&&(e>r&&(e=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=n.call(t,t[o],o))&&r>=r){e=i=r;break}for(;++o<a;)null!=(r=n.call(t,t[o],o))&&(e>r&&(e=r),r>i&&(i=r))}return[e,i]},ia.sum=function(t,n){var e,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)a(e=+t[o])&&(r+=e);else for(;++o<i;)a(e=+n.call(t,t[o],o))&&(r+=e);return r},ia.mean=function(t,n){var e,r=0,i=t.length,u=-1,s=i;if(1===arguments.length)for(;++u<i;)a(e=o(t[u]))?r+=e:--s;else for(;++u<i;)a(e=o(n.call(t,t[u],u)))?r+=e:--s;return s?r/s:void 0},ia.quantile=function(t,n){var e=(t.length-1)*n+1,r=Math.floor(e),i=+t[r-1],o=e-r;return o?i+o*(t[r]-i):i},ia.median=function(t,n){var e,r=[],u=t.length,s=-1;if(1===arguments.length)for(;++s<u;)a(e=o(t[s]))&&r.push(e);else for(;++s<u;)a(e=o(n.call(t,t[s],s)))&&r.push(e);return r.length?ia.quantile(r.sort(i),.5):void 0},ia.variance=function(t,n){var e,r,i=t.length,u=0,s=0,c=-1,l=0;if(1===arguments.length)for(;++c<i;)a(e=o(t[c]))&&(r=e-u,u+=r/++l,s+=r*(e-u));else for(;++c<i;)a(e=o(n.call(t,t[c],c)))&&(r=e-u,u+=r/++l,s+=r*(e-u));return l>1?s/(l-1):void 0},ia.deviation=function(){var t=ia.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ga=u(i);ia.bisectLeft=ga.left,ia.bisect=ia.bisectRight=ga.right,ia.bisector=function(t){return u(1===t.length?function(n,e){return i(t(n),e)}:t)},ia.shuffle=function(t,n,e){(o=arguments.length)<3&&(e=t.length,2>o&&(n=0));for(var r,i,o=e-n;o;)i=Math.random()*o--|0,r=t[o+n],t[o+n]=t[i+n],t[i+n]=r;return t},ia.permute=function(t,n){for(var e=n.length,r=new Array(e);e--;)r[e]=t[n[e]];return r},ia.pairs=function(t){for(var n,e=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>e;)o[e]=[n=i,i=t[++e]];return o},ia.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,n=ia.min(arguments,s),e=new Array(n);++t<n;)for(var r,i=-1,o=e[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return e},ia.transpose=function(t){return ia.zip.apply(ia,t)},ia.keys=function(t){var n=[];for(var e in t)n.push(e);return n},ia.values=function(t){var n=[];for(var e in t)n.push(t[e]);return n},ia.entries=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n},ia.merge=function(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=new Array(a);--i>=0;)for(r=t[i],n=r.length;--n>=0;)e[--a]=r[n];return e};var va=Math.abs;ia.range=function(t,n,e){if(arguments.length<3&&(e=1,arguments.length<2&&(n=t,t=0)),(n-t)/e===1/0)throw new Error("infinite range");var r,i=[],o=c(va(e)),a=-1;if(t*=o,n*=o,e*=o,0>e)for(;(r=t+e*++a)>n;)i.push(r/o);else for(;(r=t+e*++a)<n;)i.push(r/o);return i},ia.map=function(t,n){var e=new f;if(t instanceof f)t.forEach(function(t,n){e.set(t,n)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n.call(t,r=t[i],i),r)}else for(var a in t)e.set(a,t[a]);return e};var ma="__proto__",ya="\x00";l(f,{has:d,get:function(t){return this._[h(t)]},set:function(t,n){return this._[h(t)]=n},remove:g,keys:v,values:function(){var t=[];for(var n in this._)t.push(this._[n]);return t},entries:function(){var t=[];for(var n in this._)t.push({key:p(n),value:this._[n]});return t},size:m,empty:y,forEach:function(t){for(var n in this._)t.call(this,p(n),this._[n])}}),ia.nest=function(){function t(n,a,u){if(u>=o.length)return r?r.call(i,a):e?a.sort(e):a;for(var s,c,l,h,p=-1,d=a.length,g=o[u++],v=new f;++p<d;)(h=v.get(s=g(c=a[p])))?h.push(c):v.set(s,[c]);return n?(c=n(),l=function(e,r){c.set(e,t(n,r,u))}):(c={},l=function(e,r){c[e]=t(n,r,u)}),v.forEach(l),c}function n(t,e){if(e>=o.length)return t;var r=[],i=a[e++];return t.forEach(function(t,i){r.push({key:t,values:n(i,e)})}),i?r.sort(function(t,n){return i(t.key,n.key)}):r}var e,r,i={},o=[],a=[];return i.map=function(n,e){return t(e,n,0)},i.entries=function(e){return n(t(ia.map,e,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return e=t,i},i.rollup=function(t){return r=t,i},i},ia.set=function(t){var n=new b;if(t)for(var e=0,r=t.length;r>e;++e)n.add(t[e]);return n},l(b,{has:d,add:function(t){return this._[h(t+="")]=!0,t},remove:g,values:v,size:m,empty:y,forEach:function(t){for(var n in this._)t.call(this,p(n))}}),ia.behavior={},ia.rebind=function(t,n){for(var e,r=1,i=arguments.length;++r<i;)t[e=arguments[r]]=x(t,n,n[e]);return t};var ba=["webkit","ms","moz","Moz","o","O"];ia.dispatch=function(){for(var t=new M,n=-1,e=arguments.length;++n<e;)t[arguments[n]]=E(t);return t},M.prototype.on=function(t,n){var e=t.indexOf("."),r="";if(e>=0&&(r=t.slice(e+1),t=t.slice(0,e)),t)return arguments.length<2?this[t].on(r):this[t].on(r,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ia.event=null,ia.requote=function(t){return t.replace(wa,"\\$&")};var wa=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,xa={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var e in n)t[e]=n[e]},_a=function(t,n){return n.querySelector(t)},ka=function(t,n){return n.querySelectorAll(t)},Ma=function(t,n){var e=t.matches||t[_(t,"matchesSelector")];return(Ma=function(t,n){return e.call(t,n)})(t,n)};"function"==typeof Sizzle&&(_a=function(t,n){return Sizzle(t,n)[0]||null},ka=Sizzle,Ma=Sizzle.matchesSelector),ia.selection=function(){return ia.select(ua.documentElement)};var Ea=ia.selection.prototype=[];Ea.select=function(t){var n,e,r,i,o=[];t=R(t);for(var a=-1,u=this.length;++a<u;){o.push(n=[]),n.parentNode=(r=this[a]).parentNode;for(var s=-1,c=r.length;++s<c;)(i=r[s])?(n.push(e=t.call(i,i.__data__,s,a)),e&&"__data__"in i&&(e.__data__=i.__data__)):n.push(null)}return C(o)},Ea.selectAll=function(t){var n,e,r=[];t=O(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],u=-1,s=a.length;++u<s;)(e=a[u])&&(r.push(n=aa(t.call(e,e.__data__,u,i))),n.parentNode=e);return C(r)};var Aa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ia.ns={prefix:Aa,qualify:function(t){var n=t.indexOf(":"),e=t;return n>=0&&(e=t.slice(0,n),t=t.slice(n+1)),Aa.hasOwnProperty(e)?{space:Aa[e],local:t}:t}},Ea.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node();return t=ia.ns.qualify(t),t.local?e.getAttributeNS(t.space,t.local):e.getAttribute(t)}for(n in t)this.each(j(n,t[n]));return this}return this.each(j(t,n))},Ea.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var e=this.node(),r=(t=F(t)).length,i=-1;if(n=e.classList){for(;++i<r;)if(!n.contains(t[i]))return!1}else for(n=e.getAttribute("class");++i<r;)if(!P(t[i]).test(n))return!1;return!0}for(n in t)this.each(D(n,t[n]));return this}return this.each(D(t,n))},Ea.style=function(t,n,e){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(n="");for(e in t)this.each(L(e,t[e],n));return this}if(2>i){var o=this.node();return r(o).getComputedStyle(o,null).getPropertyValue(t)}e=""}return this.each(L(t,n,e))},Ea.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(z(n,t[n]));return this}return this.each(z(t,n))},Ea.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ea.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ea.append=function(t){return t=I(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ea.insert=function(t,n){return t=I(t),n=R(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},Ea.remove=function(){return this.each(U)},Ea.data=function(t,n){function e(t,e){var r,i,o,a=t.length,l=e.length,h=Math.min(a,l),p=new Array(l),d=new Array(l),g=new Array(a);if(n){var v,m=new f,y=new Array(a);for(r=-1;++r<a;)m.has(v=n.call(i=t[r],i.__data__,r))?g[r]=i:m.set(v,i),y[r]=v;for(r=-1;++r<l;)(i=m.get(v=n.call(e,o=e[r],r)))?i!==!0&&(p[r]=i,i.__data__=o):d[r]=V(o),m.set(v,!0);for(r=-1;++r<a;)m.get(y[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<h;)i=t[r],o=e[r],i?(i.__data__=o,p[r]=i):d[r]=V(o);for(;l>r;++r)d[r]=V(e[r]);for(;a>r;++r)g[r]=t[r]}d.update=p,d.parentNode=p.parentNode=g.parentNode=t.parentNode,u.push(d),s.push(p),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var u=$([]),s=C([]),c=C([]);if("function"==typeof t)for(;++o<a;)e(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)e(r=this[o],t);return s.enter=function(){return u},s.exit=function(){return c},s},Ea.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ea.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=B(t));for(var o=0,a=this.length;a>o;o++){i.push(n=[]),n.parentNode=(e=this[o]).parentNode;for(var u=0,s=e.length;s>u;u++)(r=e[u])&&t.call(r,r.__data__,u,o)&&n.push(r)}return C(i)},Ea.order=function(){for(var t=-1,n=this.length;++t<n;)for(var e,r=this[t],i=r.length-1,o=r[i];--i>=0;)(e=r[i])&&(o&&o!==e.nextSibling&&o.parentNode.insertBefore(e,o),o=e);return this},Ea.sort=function(t){t=W.apply(this,arguments);for(var n=-1,e=this.length;++n<e;)this[n].sort(t);return this.order()},Ea.each=function(t){return H(this,function(n,e,r){t.call(n,n.__data__,e,r)})},Ea.call=function(t){var n=aa(arguments);return t.apply(n[0]=this,n),this},Ea.empty=function(){return!this.node()},Ea.node=function(){for(var t=0,n=this.length;n>t;t++)for(var e=this[t],r=0,i=e.length;i>r;r++){var o=e[r];if(o)return o}return null},Ea.size=function(){var t=0;return H(this,function(){++t}),t};var Sa=[];ia.selection.enter=$,ia.selection.enter.prototype=Sa,Sa.append=Ea.append,Sa.empty=Ea.empty,Sa.node=Ea.node,Sa.call=Ea.call,Sa.size=Ea.size,Sa.select=function(t){for(var n,e,r,i,o,a=[],u=-1,s=this.length;++u<s;){r=(i=this[u]).update,a.push(n=[]),n.parentNode=i.parentNode;for(var c=-1,l=i.length;++c<l;)(o=i[c])?(n.push(r[c]=e=t.call(i.parentNode,o.__data__,c,u)),e.__data__=o.__data__):n.push(null)}return C(a)},Sa.insert=function(t,n){return arguments.length<2&&(n=Z(this)),Ea.insert.call(this,t,n)},ia.select=function(t){var e;return"string"==typeof t?(e=[_a(t,ua)],e.parentNode=ua.documentElement):(e=[t],e.parentNode=n(t)),C([e])},ia.selectAll=function(t){var n;return"string"==typeof t?(n=aa(ka(t,ua)),n.parentNode=ua.documentElement):(n=t,n.parentNode=null),C([n])},Ea.on=function(t,n,e){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(n=!1);for(e in t)this.each(Y(e,t[e],n));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;e=!1}return this.each(Y(t,n,e))};var Na=ia.map({mouseenter:"mouseover",mouseleave:"mouseout"});ua&&Na.forEach(function(t){"on"+t in ua&&Na.remove(t)});var Ca,Ra=0;ia.mouse=function(t){return X(t,S())};var Oa=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ia.touch=function(t,n,e){if(arguments.length<3&&(e=n,n=S().changedTouches),n)for(var r,i=0,o=n.length;o>i;++i)if((r=n[i]).identifier===e)return X(t,r)},ia.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(t,n,r,o,a){return function(){function u(){var t,e,r=n(h,g);r&&(t=r[0]-b[0],e=r[1]-b[1],d|=t|e,b=r,p({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:t,dy:e}))}function s(){n(h,g)&&(m.on(o+v,null).on(a+v,null),y(d&&ia.event.target===f),p({type:"dragend"}))}var c,l=this,f=ia.event.target,h=l.parentNode,p=e.of(l,arguments),d=0,g=t(),v=".drag"+(null==g?"":"-"+g),m=ia.select(r(f)).on(o+v,u).on(a+v,s),y=K(f),b=n(h,g);i?(c=i.apply(l,arguments),c=[c.x-b[0],c.y-b[1]]):c=[0,0],p({type:"dragstart"})}}var e=N(t,"drag","dragstart","dragend"),i=null,o=n(k,ia.mouse,r,"mousemove","mouseup"),a=n(J,ia.touch,w,"touchmove","touchend");return t.origin=function(n){return arguments.length?(i=n,t):i},ia.rebind(t,e,"on")},ia.touches=function(t,n){return arguments.length<2&&(n=S().touches),n?aa(n).map(function(n){var e=X(t,n);return e.identifier=n.identifier,e}):[]};var ja=1e-6,Ta=ja*ja,Pa=Math.PI,Fa=2*Pa,Da=Fa-ja,qa=Pa/2,La=Pa/180,za=180/Pa,Ia=Math.SQRT2,Ua=2,Va=4;ia.interpolateZoom=function(t,n){function e(t){var n=t*y;if(m){var e=ot(g),a=o/(Ua*h)*(e*at(Ia*n+g)-it(g));return[r+a*c,i+a*l,o*e/ot(Ia*n+g)]}return[r+t*c,i+t*l,o*Math.exp(Ia*n)]}var r=t[0],i=t[1],o=t[2],a=n[0],u=n[1],s=n[2],c=a-r,l=u-i,f=c*c+l*l,h=Math.sqrt(f),p=(s*s-o*o+Va*f)/(2*o*Ua*h),d=(s*s-o*o-Va*f)/(2*s*Ua*h),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(d*d+1)-d),m=v-g,y=(m||Math.log(s/o))/Ia;return e.duration=1e3*y,e},ia.behavior.zoom=function(){function t(t){t.on(O,f).on(Wa+".zoom",p).on("dblclick.zoom",d).on(P,h)}function n(t){return[(t[0]-M.x)/M.k,(t[1]-M.y)/M.k]}function e(t){return[t[0]*M.k+M.x,t[1]*M.k+M.y]}function i(t){M.k=Math.max(S[0],Math.min(S[1],t))}function o(t,n){n=e(n),M.x+=t[0]-n[0],M.y+=t[1]-n[1]}function a(n,e,r,a){n.__chart__={x:M.x,y:M.y,k:M.k},i(Math.pow(2,a)),o(v=e,r),n=ia.select(n),C>0&&(n=n.transition().duration(C)),n.call(t.event)}function u(){x&&x.domain(w.range().map(function(t){return(t-M.x)/M.k}).map(w.invert)),k&&k.domain(_.range().map(function(t){return(t-M.y)/M.k}).map(_.invert))}function s(t){R++||t({type:"zoomstart"})}function c(t){u(),t({type:"zoom",scale:M.k,translate:[M.x,M.y]})}function l(t){--R||(t({type:"zoomend"}),v=null)}function f(){function t(){f=1,o(ia.mouse(i),p),c(u)}function e(){h.on(j,null).on(T,null),d(f&&ia.event.target===a),l(u)}var i=this,a=ia.event.target,u=F.of(i,arguments),f=0,h=ia.select(r(i)).on(j,t).on(T,e),p=n(ia.mouse(i)),d=K(i);Ls.call(i),s(u)}function h(){function t(){var t=ia.touches(d);return p=M.k,t.forEach(function(t){t.identifier in v&&(v[t.identifier]=n(t))}),t}function e(){var n=ia.event.target;ia.select(n).on(w,r).on(x,u),_.push(n);for(var e=ia.event.changedTouches,i=0,o=e.length;o>i;++i)v[e[i].identifier]=null;var s=t(),c=Date.now();if(1===s.length){if(500>c-b){var l=s[0];a(d,l,v[l.identifier],Math.floor(Math.log(M.k)/Math.LN2)+1),A()}b=c}else if(s.length>1){var l=s[0],f=s[1],h=l[0]-f[0],p=l[1]-f[1];m=h*h+p*p}}function r(){var t,n,e,r,a=ia.touches(d);Ls.call(d);for(var u=0,s=a.length;s>u;++u,r=null)if(e=a[u],r=v[e.identifier]){if(n)break;t=e,n=r}if(r){var l=(l=e[0]-t[0])*l+(l=e[1]-t[1])*l,f=m&&Math.sqrt(l/m);t=[(t[0]+e[0])/2,(t[1]+e[1])/2],n=[(n[0]+r[0])/2,(n[1]+r[1])/2],i(f*p)}b=null,o(t,n),c(g)}function u(){if(ia.event.touches.length){for(var n=ia.event.changedTouches,e=0,r=n.length;r>e;++e)delete v[n[e].identifier];for(var i in v)return void t()}ia.selectAll(_).on(y,null),k.on(O,f).on(P,h),E(),l(g)}var p,d=this,g=F.of(d,arguments),v={},m=0,y=".zoom-"+ia.event.changedTouches[0].identifier,w="touchmove"+y,x="touchend"+y,_=[],k=ia.select(d),E=K(d);e(),s(g),k.on(O,null).on(P,e)}function p(){var t=F.of(this,arguments);y?clearTimeout(y):(Ls.call(this),g=n(v=m||ia.mouse(this)),s(t)),y=setTimeout(function(){y=null,l(t)},50),A(),i(Math.pow(2,.002*Ba())*M.k),o(v,g),c(t)}function d(){var t=ia.mouse(this),e=Math.log(M.k)/Math.LN2;a(this,t,n(t),ia.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,v,m,y,b,w,x,_,k,M={x:0,y:0,k:1},E=[960,500],S=Ha,C=250,R=0,O="mousedown.zoom",j="mousemove.zoom",T="mouseup.zoom",P="touchstart.zoom",F=N(t,"zoomstart","zoom","zoomend");return Wa||(Wa="onwheel"in ua?(Ba=function(){return-ia.event.deltaY*(ia.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ua?(Ba=function(){return ia.event.wheelDelta},"mousewheel"):(Ba=function(){return-ia.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=F.of(this,arguments),n=M;Ds?ia.select(this).transition().each("start.zoom",function(){M=this.__chart__||{x:0,y:0,k:1},s(t)}).tween("zoom:zoom",function(){var e=E[0],r=E[1],i=v?v[0]:e/2,o=v?v[1]:r/2,a=ia.interpolateZoom([(i-M.x)/M.k,(o-M.y)/M.k,e/M.k],[(i-n.x)/n.k,(o-n.y)/n.k,e/n.k]);return function(n){var r=a(n),u=e/r[2];this.__chart__=M={x:i-r[0]*u,y:o-r[1]*u,k:u},c(t)}}).each("interrupt.zoom",function(){l(t)}).each("end.zoom",function(){l(t)}):(this.__chart__=M,s(t),c(t),l(t))})},t.translate=function(n){return arguments.length?(M={x:+n[0],y:+n[1],k:M.k},u(),t):[M.x,M.y]},t.scale=function(n){return arguments.length?(M={x:M.x,y:M.y,k:+n},u(),t):M.k},t.scaleExtent=function(n){return arguments.length?(S=null==n?Ha:[+n[0],+n[1]],t):S},t.center=function(n){return arguments.length?(m=n&&[+n[0],+n[1]],t):m},t.size=function(n){return arguments.length?(E=n&&[+n[0],+n[1]],t):E},t.duration=function(n){return arguments.length?(C=+n,t):C},t.x=function(n){return arguments.length?(x=n,w=n.copy(),M={x:0,y:0,k:1},t):x},t.y=function(n){return arguments.length?(k=n,_=n.copy(),M={x:0,y:0,k:1},t):k},ia.rebind(t,F,"on")};var Ba,Wa,Ha=[0,1/0];ia.color=st,st.prototype.toString=function(){return this.rgb()+""},ia.hsl=ct;var $a=ct.prototype=new st;$a.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ct(this.h,this.s,this.l/t)},$a.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ct(this.h,this.s,t*this.l)},$a.rgb=function(){return lt(this.h,this.s,this.l)},ia.hcl=ft;var Za=ft.prototype=new st;Za.brighter=function(t){return new ft(this.h,this.c,Math.min(100,this.l+Ya*(arguments.length?t:1)))},Za.darker=function(t){return new ft(this.h,this.c,Math.max(0,this.l-Ya*(arguments.length?t:1)))},Za.rgb=function(){return ht(this.h,this.c,this.l).rgb()},ia.lab=pt;var Ya=18,Ga=.95047,Qa=1,Ka=1.08883,Xa=pt.prototype=new st;Xa.brighter=function(t){return new pt(Math.min(100,this.l+Ya*(arguments.length?t:1)),this.a,this.b)},Xa.darker=function(t){return new pt(Math.max(0,this.l-Ya*(arguments.length?t:1)),this.a,this.b)},Xa.rgb=function(){return dt(this.l,this.a,this.b)},ia.rgb=bt;var Ja=bt.prototype=new st;Ja.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,e=this.g,r=this.b,i=30;return n||e||r?(n&&i>n&&(n=i),e&&i>e&&(e=i),r&&i>r&&(r=i),new bt(Math.min(255,n/t),Math.min(255,e/t),Math.min(255,r/t))):new bt(i,i,i)},Ja.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new bt(t*this.r,t*this.g,t*this.b)},Ja.hsl=function(){return Mt(this.r,this.g,this.b)},Ja.toString=function(){return"#"+_t(this.r)+_t(this.g)+_t(this.b)};var tu=ia.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});tu.forEach(function(t,n){tu.set(t,wt(n))}),ia.functor=Nt,ia.xhr=Ct(w),ia.dsv=function(t,n){function e(t,e,o){arguments.length<3&&(o=e,e=null);var a=Rt(t,n,null==e?r:i(e),o);return a.row=function(t){return arguments.length?a.response(null==(e=t)?r:i(t)):e},a}function r(t){return e.parse(t.responseText)}function i(t){return function(n){return e.parse(n.responseText,t)}}function o(n){return n.map(a).join(t)}function a(t){return u.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var u=new RegExp('["'+t+"\n]"),s=t.charCodeAt(0);return e.parse=function(t,n){var r;return e.parseRows(t,function(t,e){if(r)return r(t,e-1);var i=new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}");r=n?function(t,e){return n(i(t),e)}:i})},e.parseRows=function(t,n){function e(){if(l>=c)return a;if(i)return i=!1,o;var n=l;if(34===t.charCodeAt(n)){for(var e=n;e++<c;)if(34===t.charCodeAt(e)){if(34!==t.charCodeAt(e+1))break;++e}l=e+2;var r=t.charCodeAt(e+1);return 13===r?(i=!0,10===t.charCodeAt(e+2)&&++l):10===r&&(i=!0),t.slice(n+1,e).replace(/""/g,'"')}for(;c>l;){var r=t.charCodeAt(l++),u=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(l)&&(++l,++u);else if(r!==s)continue;return t.slice(n,l-u)}return t.slice(n)}for(var r,i,o={},a={},u=[],c=t.length,l=0,f=0;(r=e())!==a;){for(var h=[];r!==o&&r!==a;)h.push(r),r=e();n&&null==(h=n(h,f++))||u.push(h)}return u},e.format=function(n){if(Array.isArray(n[0]))return e.formatRows(n);var r=new b,i=[];return n.forEach(function(t){for(var n in t)r.has(n)||i.push(r.add(n))}),[i.map(a).join(t)].concat(n.map(function(n){return i.map(function(t){return a(n[t])}).join(t)})).join("\n")},e.formatRows=function(t){return t.map(o).join("\n")},e},ia.csv=ia.dsv(",","text/csv"),ia.tsv=ia.dsv("	","text/tab-separated-values");var nu,eu,ru,iu,ou,au=this[_(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ia.timer=function(t,n,e){var r=arguments.length;2>r&&(n=0),3>r&&(e=Date.now());var i=e+n,o={c:t,t:i,f:!1,n:null};eu?eu.n=o:nu=o,eu=o,ru||(iu=clearTimeout(iu),ru=1,au(Tt))},ia.timer.flush=function(){Pt(),Ft()},ia.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var uu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(qt);ia.formatPrefix=function(t,n){var e=0;return t&&(0>t&&(t*=-1),n&&(t=ia.round(t,Dt(t,n))),e=1+Math.floor(1e-12+Math.log(t)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),uu[8+e/3]};var su=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,cu=ia.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return(t=ia.round(t,Dt(t,n))).toFixed(Math.max(0,Math.min(20,Dt(t*(1+1e-15),n))))}}),lu=ia.time={},fu=Date;It.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){hu.setUTCDate.apply(this._,arguments)},setDay:function(){hu.setUTCDay.apply(this._,arguments)},setFullYear:function(){hu.setUTCFullYear.apply(this._,arguments)},setHours:function(){hu.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){hu.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){hu.setUTCMinutes.apply(this._,arguments)},setMonth:function(){hu.setUTCMonth.apply(this._,arguments)},setSeconds:function(){hu.setUTCSeconds.apply(this._,arguments)},setTime:function(){hu.setTime.apply(this._,arguments)}};var hu=Date.prototype;lu.year=Ut(function(t){return t=lu.day(t),t.setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),lu.years=lu.year.range,lu.years.utc=lu.year.utc.range,lu.day=Ut(function(t){var n=new fu(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),lu.days=lu.day.range,lu.days.utc=lu.day.utc.range,lu.dayOfYear=function(t){var n=lu.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5);
},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var e=lu[t]=Ut(function(t){return(t=lu.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var e=lu.year(t).getDay();return Math.floor((lu.dayOfYear(t)+(e+n)%7)/7)-(e!==n)});lu[t+"s"]=e.range,lu[t+"s"].utc=e.utc.range,lu[t+"OfYear"]=function(t){var e=lu.year(t).getDay();return Math.floor((lu.dayOfYear(t)+(e+n)%7)/7)}}),lu.week=lu.sunday,lu.weeks=lu.sunday.range,lu.weeks.utc=lu.sunday.utc.range,lu.weekOfYear=lu.sundayOfYear;var pu={"-":"",_:" ",0:"0"},du=/^\s*\d+/,gu=/^%/;ia.locale=function(t){return{numberFormat:Lt(t),timeFormat:Bt(t)}};var vu=ia.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ia.format=vu.numberFormat,ia.geo={},fn.prototype={s:0,t:0,add:function(t){hn(t,this.t,mu),hn(mu.s,this.s,this),this.s?this.t+=mu.t:this.s=mu.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var mu=new fn;ia.geo.stream=function(t,n){t&&yu.hasOwnProperty(t.type)?yu[t.type](t,n):pn(t,n)};var yu={Feature:function(t,n){pn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)pn(e[r].geometry,n)}},bu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){dn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)dn(e[r],n,0)},Polygon:function(t,n){gn(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)gn(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)pn(e[r],n)}};ia.geo.area=function(t){return wu=0,ia.geo.stream(t,_u),wu};var wu,xu=new fn,_u={sphere:function(){wu+=4*Pa},point:k,lineStart:k,lineEnd:k,polygonStart:function(){xu.reset(),_u.lineStart=vn},polygonEnd:function(){var t=2*xu;wu+=0>t?4*Pa+t:t,_u.lineStart=_u.lineEnd=_u.point=k}};ia.geo.bounds=function(){function t(t,n){b.push(w=[l=t,h=t]),f>n&&(f=n),n>p&&(p=n)}function n(n,e){var r=mn([n*La,e*La]);if(m){var i=bn(m,r),o=[i[1],-i[0],0],a=bn(o,i);_n(a),a=kn(a);var s=n-d,c=s>0?1:-1,g=a[0]*za*c,v=va(s)>180;if(v^(g>c*d&&c*n>g)){var y=a[1]*za;y>p&&(p=y)}else if(g=(g+360)%360-180,v^(g>c*d&&c*n>g)){var y=-a[1]*za;f>y&&(f=y)}else f>e&&(f=e),e>p&&(p=e);v?d>n?u(l,n)>u(l,h)&&(h=n):u(n,h)>u(l,h)&&(l=n):h>=l?(l>n&&(l=n),n>h&&(h=n)):n>d?u(l,n)>u(l,h)&&(h=n):u(n,h)>u(l,h)&&(l=n)}else t(n,e);m=r,d=n}function e(){x.point=n}function r(){w[0]=l,w[1]=h,x.point=t,m=null}function i(t,e){if(m){var r=t-d;y+=va(r)>180?r+(r>0?360:-360):r}else g=t,v=e;_u.point(t,e),n(t,e)}function o(){_u.lineStart()}function a(){i(g,v),_u.lineEnd(),va(y)>ja&&(l=-(h=180)),w[0]=l,w[1]=h,m=null}function u(t,n){return(n-=t)<0?n+360:n}function s(t,n){return t[0]-n[0]}function c(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var l,f,h,p,d,g,v,m,y,b,w,x={point:t,lineStart:e,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=o,x.lineEnd=a,y=0,_u.polygonStart()},polygonEnd:function(){_u.polygonEnd(),x.point=t,x.lineStart=e,x.lineEnd=r,0>xu?(l=-(h=180),f=-(p=90)):y>ja?p=90:-ja>y&&(f=-90),w[0]=l,w[1]=h}};return function(t){p=h=-(l=f=1/0),b=[],ia.geo.stream(t,x);var n=b.length;if(n){b.sort(s);for(var e,r=1,i=b[0],o=[i];n>r;++r)e=b[r],c(e[0],i)||c(e[1],i)?(u(i[0],e[1])>u(i[0],i[1])&&(i[1]=e[1]),u(e[0],i[1])>u(i[0],i[1])&&(i[0]=e[0])):o.push(i=e);for(var a,e,d=-(1/0),n=o.length-1,r=0,i=o[n];n>=r;i=e,++r)e=o[r],(a=u(i[1],e[0]))>d&&(d=a,l=e[0],h=i[1])}return b=w=null,l===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[l,f],[h,p]]}}(),ia.geo.centroid=function(t){ku=Mu=Eu=Au=Su=Nu=Cu=Ru=Ou=ju=Tu=0,ia.geo.stream(t,Pu);var n=Ou,e=ju,r=Tu,i=n*n+e*e+r*r;return Ta>i&&(n=Nu,e=Cu,r=Ru,ja>Mu&&(n=Eu,e=Au,r=Su),i=n*n+e*e+r*r,Ta>i)?[NaN,NaN]:[Math.atan2(e,n)*za,rt(r/Math.sqrt(i))*za]};var ku,Mu,Eu,Au,Su,Nu,Cu,Ru,Ou,ju,Tu,Pu={sphere:k,point:En,lineStart:Sn,lineEnd:Nn,polygonStart:function(){Pu.lineStart=Cn},polygonEnd:function(){Pu.lineStart=Sn}},Fu=Fn(On,zn,Un,[-Pa,-Pa/2]),Du=1e9;ia.geo.clipExtent=function(){var t,n,e,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(u){return arguments.length?(o=Hn(t=+u[0][0],n=+u[0][1],e=+u[1][0],r=+u[1][1]),i&&(i.valid=!1,i=null),a):[[t,n],[e,r]]}};return a.extent([[0,0],[960,500]])},(ia.geo.conicEqualArea=function(){return $n(Zn)}).raw=Zn,ia.geo.albers=function(){return ia.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ia.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return n=null,e(o,a),n||(r(o,a),n)||i(o,a),n}var n,e,r,i,o=ia.geo.albers(),a=ia.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=ia.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(t,e){n=[t,e]}};return t.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?u:o).invert(t)},t.stream=function(t){var n=o.stream(t),e=a.stream(t),r=u.stream(t);return{point:function(t,i){n.point(t,i),e.point(t,i),r.point(t,i)},sphere:function(){n.sphere(),e.sphere(),r.sphere()},lineStart:function(){n.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},t.precision=function(n){return arguments.length?(o.precision(n),a.precision(n),u.precision(n),t):o.precision()},t.scale=function(n){return arguments.length?(o.scale(n),a.scale(.35*n),u.scale(n),t.translate(o.translate())):o.scale()},t.translate=function(n){if(!arguments.length)return o.translate();var c=o.scale(),l=+n[0],f=+n[1];return e=o.translate(n).clipExtent([[l-.455*c,f-.238*c],[l+.455*c,f+.238*c]]).stream(s).point,r=a.translate([l-.307*c,f+.201*c]).clipExtent([[l-.425*c+ja,f+.12*c+ja],[l-.214*c-ja,f+.234*c-ja]]).stream(s).point,i=u.translate([l-.205*c,f+.212*c]).clipExtent([[l-.214*c+ja,f+.166*c+ja],[l-.115*c-ja,f+.234*c-ja]]).stream(s).point,t},t.scale(1070)};var qu,Lu,zu,Iu,Uu,Vu,Bu={point:k,lineStart:k,lineEnd:k,polygonStart:function(){Lu=0,Bu.lineStart=Yn},polygonEnd:function(){Bu.lineStart=Bu.lineEnd=Bu.point=k,qu+=va(Lu/2)}},Wu={point:Gn,lineStart:k,lineEnd:k,polygonStart:k,polygonEnd:k},Hu={point:Xn,lineStart:Jn,lineEnd:te,polygonStart:function(){Hu.lineStart=ne},polygonEnd:function(){Hu.point=Xn,Hu.lineStart=Jn,Hu.lineEnd=te}};ia.geo.path=function(){function t(t){return t&&("function"==typeof u&&o.pointRadius(+u.apply(this,arguments)),a&&a.valid||(a=i(o)),ia.geo.stream(t,a)),o.result()}function n(){return a=null,t}var e,r,i,o,a,u=4.5;return t.area=function(t){return qu=0,ia.geo.stream(t,i(Bu)),qu},t.centroid=function(t){return Eu=Au=Su=Nu=Cu=Ru=Ou=ju=Tu=0,ia.geo.stream(t,i(Hu)),Tu?[Ou/Tu,ju/Tu]:Ru?[Nu/Ru,Cu/Ru]:Su?[Eu/Su,Au/Su]:[NaN,NaN]},t.bounds=function(t){return Uu=Vu=-(zu=Iu=1/0),ia.geo.stream(t,i(Wu)),[[zu,Iu],[Uu,Vu]]},t.projection=function(t){return arguments.length?(i=(e=t)?t.stream||ie(t):w,n()):e},t.context=function(t){return arguments.length?(o=null==(r=t)?new Qn:new ee(t),"function"!=typeof u&&o.pointRadius(u),n()):r},t.pointRadius=function(n){return arguments.length?(u="function"==typeof n?n:(o.pointRadius(+n),+n),t):u},t.projection(ia.geo.albersUsa()).context(null)},ia.geo.transform=function(t){return{stream:function(n){var e=new oe(n);for(var r in t)e[r]=t[r];return e}}},oe.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ia.geo.projection=ue,ia.geo.projectionMutator=se,(ia.geo.equirectangular=function(){return ue(le)}).raw=le.invert=le,ia.geo.rotation=function(t){function n(n){return n=t(n[0]*La,n[1]*La),n[0]*=za,n[1]*=za,n}return t=he(t[0]%360*La,t[1]*La,t.length>2?t[2]*La:0),n.invert=function(n){return n=t.invert(n[0]*La,n[1]*La),n[0]*=za,n[1]*=za,n},n},fe.invert=le,ia.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,n=he(-t[0]*La,-t[1]*La,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=za,t[1]*=za}}),{type:"Polygon",coordinates:[i]}}var n,e,r=[0,0],i=6;return t.origin=function(n){return arguments.length?(r=n,t):r},t.angle=function(r){return arguments.length?(e=ve((n=+r)*La,i*La),t):n},t.precision=function(r){return arguments.length?(e=ve(n*La,(i=+r)*La),t):i},t.angle(90)},ia.geo.distance=function(t,n){var e,r=(n[0]-t[0])*La,i=t[1]*La,o=n[1]*La,a=Math.sin(r),u=Math.cos(r),s=Math.sin(i),c=Math.cos(i),l=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((e=f*a)*e+(e=c*l-s*f*u)*e),s*l+c*f*u)},ia.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return ia.range(Math.ceil(o/v)*v,i,v).map(h).concat(ia.range(Math.ceil(c/m)*m,s,m).map(p)).concat(ia.range(Math.ceil(r/d)*d,e,d).filter(function(t){return va(t%v)>ja}).map(l)).concat(ia.range(Math.ceil(u/g)*g,a,g).filter(function(t){return va(t%m)>ja}).map(f))}var e,r,i,o,a,u,s,c,l,f,h,p,d=10,g=d,v=90,m=360,y=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(o).concat(p(s).slice(1),h(i).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.majorExtent(n).minorExtent(n):t.minorExtent()},t.majorExtent=function(n){return arguments.length?(o=+n[0][0],i=+n[1][0],c=+n[0][1],s=+n[1][1],o>i&&(n=o,o=i,i=n),c>s&&(n=c,c=s,s=n),t.precision(y)):[[o,c],[i,s]]},t.minorExtent=function(n){return arguments.length?(r=+n[0][0],e=+n[1][0],u=+n[0][1],a=+n[1][1],r>e&&(n=r,r=e,e=n),u>a&&(n=u,u=a,a=n),t.precision(y)):[[r,u],[e,a]]},t.step=function(n){return arguments.length?t.majorStep(n).minorStep(n):t.minorStep()},t.majorStep=function(n){return arguments.length?(v=+n[0],m=+n[1],t):[v,m]},t.minorStep=function(n){return arguments.length?(d=+n[0],g=+n[1],t):[d,g]},t.precision=function(n){return arguments.length?(y=+n,l=ye(u,a,90),f=be(r,e,y),h=ye(c,s,90),p=be(o,i,y),t):y},t.majorExtent([[-180,-90+ja],[180,90-ja]]).minorExtent([[-180,-80-ja],[180,80+ja]])},ia.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[n||r.apply(this,arguments),e||i.apply(this,arguments)]}}var n,e,r=we,i=xe;return t.distance=function(){return ia.geo.distance(n||r.apply(this,arguments),e||i.apply(this,arguments))},t.source=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.target=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.precision=function(){return arguments.length?t:0},t},ia.geo.interpolate=function(t,n){return _e(t[0]*La,t[1]*La,n[0]*La,n[1]*La)},ia.geo.length=function(t){return $u=0,ia.geo.stream(t,Zu),$u};var $u,Zu={sphere:k,point:k,lineStart:ke,lineEnd:k,polygonStart:k,polygonEnd:k},Yu=Me(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ia.geo.azimuthalEqualArea=function(){return ue(Yu)}).raw=Yu;var Gu=Me(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},w);(ia.geo.azimuthalEquidistant=function(){return ue(Gu)}).raw=Gu,(ia.geo.conicConformal=function(){return $n(Ee)}).raw=Ee,(ia.geo.conicEquidistant=function(){return $n(Ae)}).raw=Ae;var Qu=Me(function(t){return 1/t},Math.atan);(ia.geo.gnomonic=function(){return ue(Qu)}).raw=Qu,Se.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-qa]},(ia.geo.mercator=function(){return Ne(Se)}).raw=Se;var Ku=Me(function(){return 1},Math.asin);(ia.geo.orthographic=function(){return ue(Ku)}).raw=Ku;var Xu=Me(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ia.geo.stereographic=function(){return ue(Xu)}).raw=Xu,Ce.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-qa]},(ia.geo.transverseMercator=function(){var t=Ne(Ce),n=t.center,e=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return t?e([t[0],t[1],t.length>2?t[2]+90:90]):(t=e(),[t[0],t[1],t[2]-90])},e([0,0,90])}).raw=Ce,ia.geom={},ia.geom.hull=function(t){function n(t){if(t.length<3)return[];var n,i=Nt(e),o=Nt(r),a=t.length,u=[],s=[];for(n=0;a>n;n++)u.push([+i.call(this,t[n],n),+o.call(this,t[n],n),n]);for(u.sort(Te),n=0;a>n;n++)s.push([u[n][0],-u[n][1]]);var c=je(u),l=je(s),f=l[0]===c[0],h=l[l.length-1]===c[c.length-1],p=[];for(n=c.length-1;n>=0;--n)p.push(t[u[c[n]][2]]);for(n=+f;n<l.length-h;++n)p.push(t[u[l[n]][2]]);return p}var e=Re,r=Oe;return arguments.length?n(t):(n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n)},ia.geom.polygon=function(t){return xa(t,Ju),t};var Ju=ia.geom.polygon.prototype=[];Ju.area=function(){for(var t,n=-1,e=this.length,r=this[e-1],i=0;++n<e;)t=r,r=this[n],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Ju.centroid=function(t){var n,e,r=-1,i=this.length,o=0,a=0,u=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)n=u,u=this[r],e=n[0]*u[1]-u[0]*n[1],o+=(n[0]+u[0])*e,a+=(n[1]+u[1])*e;return[o*t,a*t]},Ju.clip=function(t){for(var n,e,r,i,o,a,u=De(t),s=-1,c=this.length-De(this),l=this[c-1];++s<c;){for(n=t.slice(),t.length=0,i=this[s],o=n[(r=n.length-u)-1],e=-1;++e<r;)a=n[e],Pe(a,l,i)?(Pe(o,l,i)||t.push(Fe(o,a,l,i)),t.push(a)):Pe(o,l,i)&&t.push(Fe(o,a,l,i)),o=a;u&&t.push(t[0]),l=i}return t};var ts,ns,es,rs,is,os=[],as=[];We.prototype.prepare=function(){for(var t,n=this.edges,e=n.length;e--;)t=n[e].edge,t.b&&t.a||n.splice(e,1);return n.sort($e),n.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},rr.prototype={insert:function(t,n){var e,r,i;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;e=t}else this._?(t=ur(this._),n.P=null,n.N=t,t.P=t.L=n,e=t):(n.P=n.N=null,this._=n,e=null);for(n.L=n.R=null,n.U=e,n.C=!0,t=n;e&&e.C;)r=e.U,e===r.L?(i=r.R,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.R&&(or(this,e),t=e,e=t.U),e.C=!1,r.C=!0,ar(this,r))):(i=r.L,i&&i.C?(e.C=i.C=!1,r.C=!0,t=r):(t===e.L&&(ar(this,e),t=e,e=t.U),e.C=!1,r.C=!0,or(this,r))),e=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,e,r,i=t.U,o=t.L,a=t.R;if(e=o?a?ur(a):o:a,i?i.L===t?i.L=e:i.R=e:this._=e,o&&a?(r=e.C,e.C=t.C,e.L=o,o.U=e,e!==a?(i=e.U,e.U=t.U,t=e.R,i.L=t,e.R=a,a.U=e):(e.U=i,i=e,t=e.R)):(r=t.C,t=e),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(n=i.R,n.C&&(n.C=!1,i.C=!0,or(this,i),n=i.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,ar(this,n),n=i.R),n.C=i.C,i.C=n.R.C=!1,or(this,i),t=this._;break}}else if(n=i.L,n.C&&(n.C=!1,i.C=!0,ar(this,i),n=i.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,or(this,n),n=i.L),n.C=i.C,i.C=n.L.C=!1,ar(this,i),t=this._;break}n.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},ia.geom.voronoi=function(t){function n(t){var n=new Array(t.length),r=u[0][0],i=u[0][1],o=u[1][0],a=u[1][1];return sr(e(t),u).cells.forEach(function(e,u){var s=e.edges,c=e.site,l=n[u]=s.length?s.map(function(t){var n=t.start();return[n.x,n.y]}):c.x>=r&&c.x<=o&&c.y>=i&&c.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];l.point=t[u]}),n}function e(t){return t.map(function(t,n){return{x:Math.round(o(t,n)/ja)*ja,y:Math.round(a(t,n)/ja)*ja,i:n}})}var r=Re,i=Oe,o=r,a=i,u=us;return t?n(t):(n.links=function(t){return sr(e(t)).edges.filter(function(t){return t.l&&t.r}).map(function(n){return{source:t[n.l.i],target:t[n.r.i]}})},n.triangles=function(t){var n=[];return sr(e(t)).cells.forEach(function(e,r){for(var i,o,a=e.site,u=e.edges.sort($e),s=-1,c=u.length,l=u[c-1].edge,f=l.l===a?l.r:l.l;++s<c;)i=l,o=f,l=u[s].edge,f=l.l===a?l.r:l.l,r<o.i&&r<f.i&&lr(a,o,f)<0&&n.push([t[r],t[o.i],t[f.i]])}),n},n.x=function(t){return arguments.length?(o=Nt(r=t),n):r},n.y=function(t){return arguments.length?(a=Nt(i=t),n):i},n.clipExtent=function(t){return arguments.length?(u=null==t?us:t,n):u===us?null:u},n.size=function(t){return arguments.length?n.clipExtent(t&&[[0,0],t]):u===us?null:u&&u[1]},n)};var us=[[-1e6,-1e6],[1e6,1e6]];ia.geom.delaunay=function(t){return ia.geom.voronoi().triangles(t)},ia.geom.quadtree=function(t,n,e,r,i){function o(t){function o(t,n,e,r,i,o,a,u){if(!isNaN(e)&&!isNaN(r))if(t.leaf){var s=t.x,l=t.y;if(null!=s)if(va(s-e)+va(l-r)<.01)c(t,n,e,r,i,o,a,u);else{var f=t.point;t.x=t.y=t.point=null,c(t,f,s,l,i,o,a,u),c(t,n,e,r,i,o,a,u)}else t.x=e,t.y=r,t.point=n}else c(t,n,e,r,i,o,a,u)}function c(t,n,e,r,i,a,u,s){var c=.5*(i+u),l=.5*(a+s),f=e>=c,h=r>=l,p=h<<1|f;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=pr()),f?i=c:u=c,h?a=l:s=l,o(t,n,e,r,i,a,u,s)}var l,f,h,p,d,g,v,m,y,b=Nt(u),w=Nt(s);if(null!=n)g=n,v=e,m=r,y=i;else if(m=y=-(g=v=1/0),f=[],h=[],d=t.length,a)for(p=0;d>p;++p)l=t[p],l.x<g&&(g=l.x),l.y<v&&(v=l.y),l.x>m&&(m=l.x),l.y>y&&(y=l.y),f.push(l.x),h.push(l.y);else for(p=0;d>p;++p){var x=+b(l=t[p],p),_=+w(l,p);g>x&&(g=x),v>_&&(v=_),x>m&&(m=x),_>y&&(y=_),f.push(x),h.push(_)}var k=m-g,M=y-v;k>M?y=v+k:m=g+M;var E=pr();if(E.add=function(t){o(E,t,+b(t,++p),+w(t,p),g,v,m,y)},E.visit=function(t){dr(t,E,g,v,m,y)},E.find=function(t){return gr(E,t[0],t[1],g,v,m,y)},p=-1,null==n){for(;++p<d;)o(E,t[p],f[p],h[p],g,v,m,y);--p}else t.forEach(E.add);return f=h=t=l=null,E}var a,u=Re,s=Oe;return(a=arguments.length)?(u=fr,s=hr,3===a&&(i=e,r=n,e=n=0),o(t)):(o.x=function(t){return arguments.length?(u=t,o):u},o.y=function(t){return arguments.length?(s=t,o):s},o.extent=function(t){return arguments.length?(null==t?n=e=r=i=null:(n=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==n?null:[[n,e],[r,i]]},o.size=function(t){return arguments.length?(null==t?n=e=r=i=null:(n=e=0,r=+t[0],i=+t[1]),o):null==n?null:[r-n,i-e]},o)},ia.interpolateRgb=vr,ia.interpolateObject=mr,ia.interpolateNumber=yr,ia.interpolateString=br;var ss=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cs=new RegExp(ss.source,"g");ia.interpolate=wr,ia.interpolators=[function(t,n){var e=typeof n;return("string"===e?tu.has(n.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(n)?vr:br:n instanceof st?vr:Array.isArray(n)?xr:"object"===e&&isNaN(n)?mr:yr)(t,n)}],ia.interpolateArray=xr;var ls=function(){return w},fs=ia.map({linear:ls,poly:Nr,quad:function(){return Er},cubic:function(){return Ar},sin:function(){return Cr},exp:function(){return Rr},circle:function(){return Or},elastic:jr,back:Tr,bounce:function(){return Pr}}),hs=ia.map({"in":w,out:kr,"in-out":Mr,"out-in":function(t){return Mr(kr(t))}});ia.ease=function(t){var n=t.indexOf("-"),e=n>=0?t.slice(0,n):t,r=n>=0?t.slice(n+1):"in";return e=fs.get(e)||ls,r=hs.get(r)||w,_r(r(e.apply(null,oa.call(arguments,1))))},ia.interpolateHcl=Fr,ia.interpolateHsl=Dr,ia.interpolateLab=qr,ia.interpolateRound=Lr,ia.transform=function(t){var n=ua.createElementNS(ia.ns.prefix.svg,"g");return(ia.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new zr(e?e.matrix:ps)})(t)},zr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ps={a:1,b:0,c:0,d:1,e:0,f:0};ia.interpolateTransform=Br,ia.layout={},ia.layout.bundle=function(){return function(t){for(var n=[],e=-1,r=t.length;++e<r;)n.push($r(t[e]));return n}},ia.layout.chord=function(){function t(){var t,c,f,h,p,d={},g=[],v=ia.range(o),m=[];for(e=[],r=[],t=0,h=-1;++h<o;){for(c=0,p=-1;++p<o;)c+=i[h][p];g.push(c),m.push(ia.range(o)),t+=c}for(a&&v.sort(function(t,n){return a(g[t],g[n])}),u&&m.forEach(function(t,n){t.sort(function(t,e){return u(i[n][t],i[n][e])})}),t=(Fa-l*o)/t,c=0,h=-1;++h<o;){for(f=c,p=-1;++p<o;){var y=v[h],b=m[y][p],w=i[y][b],x=c,_=c+=w*t;d[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:_,value:w}}r[y]={index:y,startAngle:f,endAngle:c,value:(c-f)/t},c+=l}for(h=-1;++h<o;)for(p=h-1;++p<o;){var k=d[h+"-"+p],M=d[p+"-"+h];(k.value||M.value)&&e.push(k.value<M.value?{source:M,target:k}:{source:k,target:M})}s&&n()}function n(){e.sort(function(t,n){return s((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}var e,r,i,o,a,u,s,c={},l=0;return c.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,e=r=null,c):i},c.padding=function(t){return arguments.length?(l=t,e=r=null,c):l},c.sortGroups=function(t){return arguments.length?(a=t,e=r=null,c):a},c.sortSubgroups=function(t){return arguments.length?(u=t,e=null,c):u},c.sortChords=function(t){return arguments.length?(s=t,e&&n(),c):s},c.chords=function(){return e||t(),e},c.groups=function(){return r||t(),r},c},ia.layout.force=function(){function t(t){return function(n,e,r,i){if(n.point!==t){var o=n.cx-t.x,a=n.cy-t.y,u=i-e,s=o*o+a*a;if(s>u*u/v){if(d>s){var c=n.charge/s;t.px-=o*c,t.py-=a*c}return!0}if(n.point&&s&&d>s){var c=n.pointCharge/s;t.px-=o*c,t.py-=a*c}}return!n.charge}}function n(t){t.px=ia.event.x,t.py=ia.event.y,u.resume()}var e,r,i,o,a,u={},s=ia.dispatch("start","tick","end"),c=[1,1],l=.9,f=ds,h=gs,p=-30,d=vs,g=.1,v=.64,m=[],y=[];return u.tick=function(){if((r*=.99)<.005)return s.end({type:"end",alpha:r=0}),!0;var n,e,u,f,h,d,v,b,w,x=m.length,_=y.length;for(e=0;_>e;++e)u=y[e],f=u.source,h=u.target,b=h.x-f.x,w=h.y-f.y,(d=b*b+w*w)&&(d=r*o[e]*((d=Math.sqrt(d))-i[e])/d,b*=d,w*=d,h.x-=b*(v=f.weight/(h.weight+f.weight)),h.y-=w*v,f.x+=b*(v=1-v),f.y+=w*v);if((v=r*g)&&(b=c[0]/2,w=c[1]/2,e=-1,v))for(;++e<x;)u=m[e],u.x+=(b-u.x)*v,u.y+=(w-u.y)*v;if(p)for(Jr(n=ia.geom.quadtree(m),r,a),e=-1;++e<x;)(u=m[e]).fixed||n.visit(t(u));for(e=-1;++e<x;)u=m[e],u.fixed?(u.x=u.px,u.y=u.py):(u.x-=(u.px-(u.px=u.x))*l,u.y-=(u.py-(u.py=u.y))*l);s.tick({type:"tick",alpha:r})},u.nodes=function(t){return arguments.length?(m=t,u):m},u.links=function(t){return arguments.length?(y=t,u):y},u.size=function(t){return arguments.length?(c=t,u):c},u.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,u):f},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(h="function"==typeof t?t:+t,u):h},u.friction=function(t){return arguments.length?(l=+t,u):l},u.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,u):p},u.chargeDistance=function(t){return arguments.length?(d=t*t,u):Math.sqrt(d)},u.gravity=function(t){return arguments.length?(g=+t,u):g},u.theta=function(t){return arguments.length?(v=t*t,u):Math.sqrt(v)},u.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(s.start({type:"start",alpha:r=t}),ia.timer(u.tick)),u):r},u.start=function(){function t(t,r){if(!e){for(e=new Array(s),u=0;s>u;++u)e[u]=[];for(u=0;l>u;++u){var i=y[u];e[i.source.index].push(i.target),e[i.target.index].push(i.source)}}for(var o,a=e[n],u=-1,c=a.length;++u<c;)if(!isNaN(o=a[u][t]))return o;return Math.random()*r}var n,e,r,s=m.length,l=y.length,d=c[0],g=c[1];for(n=0;s>n;++n)(r=m[n]).index=n,r.weight=0;for(n=0;l>n;++n)r=y[n],"number"==typeof r.source&&(r.source=m[r.source]),"number"==typeof r.target&&(r.target=m[r.target]),++r.source.weight,++r.target.weight;for(n=0;s>n;++n)r=m[n],isNaN(r.x)&&(r.x=t("x",d)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof f)for(n=0;l>n;++n)i[n]=+f.call(this,y[n],n);else for(n=0;l>n;++n)i[n]=f;if(o=[],"function"==typeof h)for(n=0;l>n;++n)o[n]=+h.call(this,y[n],n);else for(n=0;l>n;++n)o[n]=h;if(a=[],"function"==typeof p)for(n=0;s>n;++n)a[n]=+p.call(this,m[n],n);else for(n=0;s>n;++n)a[n]=p;return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){return e||(e=ia.behavior.drag().origin(w).on("dragstart.force",Gr).on("drag.force",n).on("dragend.force",Qr)),arguments.length?void this.on("mouseover.force",Kr).on("mouseout.force",Xr).call(e):e},ia.rebind(u,s,"on")};var ds=20,gs=1,vs=1/0;ia.layout.hierarchy=function(){function t(i){var o,a=[i],u=[];for(i.depth=0;null!=(o=a.pop());)if(u.push(o),(c=e.call(t,o,o.depth))&&(s=c.length)){for(var s,c,l;--s>=0;)a.push(l=c[s]),l.parent=o,l.depth=o.depth+1;r&&(o.value=0),o.children=c}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return ei(i,function(t){var e,i;n&&(e=t.children)&&e.sort(n),r&&(i=t.parent)&&(i.value+=t.value)}),u}var n=oi,e=ri,r=ii;return t.sort=function(e){return arguments.length?(n=e,t):n},t.children=function(n){return arguments.length?(e=n,t):e},t.value=function(n){return arguments.length?(r=n,t):r},t.revalue=function(n){return r&&(ni(n,function(t){t.children&&(t.value=0)}),ei(n,function(n){var e;n.children||(n.value=+r.call(t,n,n.depth)||0),(e=n.parent)&&(e.value+=n.value)})),n},t},ia.layout.partition=function(){function t(n,e,r,i){var o=n.children;if(n.x=e,n.y=n.depth*i,n.dx=r,n.dy=i,o&&(a=o.length)){var a,u,s,c=-1;for(r=n.value?r/n.value:0;++c<a;)t(u=o[c],e,s=u.value*r,i),e+=s}}function n(t){var e=t.children,r=0;if(e&&(i=e.length))for(var i,o=-1;++o<i;)r=Math.max(r,n(e[o]));return 1+r}function e(e,o){var a=r.call(this,e,o);return t(a[0],0,i[0],i[1]/n(a[0])),a}var r=ia.layout.hierarchy(),i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},ti(e,r)},ia.layout.pie=function(){function t(a){var u,s=a.length,c=a.map(function(e,r){return+n.call(t,e,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),f=("function"==typeof i?i.apply(this,arguments):i)-l,h=Math.min(Math.abs(f)/s,+("function"==typeof o?o.apply(this,arguments):o)),p=h*(0>f?-1:1),d=(f-s*p)/ia.sum(c),g=ia.range(s),v=[];return null!=e&&g.sort(e===ms?function(t,n){return c[n]-c[t]}:function(t,n){return e(a[t],a[n])}),g.forEach(function(t){v[t]={data:a[t],value:u=c[t],startAngle:l,endAngle:l+=u*d+p,padAngle:h}}),v}var n=Number,e=ms,r=0,i=Fa,o=0;return t.value=function(e){return arguments.length?(n=e,t):n},t.sort=function(n){return arguments.length?(e=n,t):e},t.startAngle=function(n){return arguments.length?(r=n,t):r},t.endAngle=function(n){return arguments.length?(i=n,t):i},t.padAngle=function(n){return arguments.length?(o=n,t):o},t};var ms={};ia.layout.stack=function(){function t(u,s){if(!(h=u.length))return u;var c=u.map(function(e,r){return n.call(t,e,r)}),l=c.map(function(n){return n.map(function(n,e){return[o.call(t,n,e),a.call(t,n,e)]})}),f=e.call(t,l,s);c=ia.permute(c,f),l=ia.permute(l,f);var h,p,d,g,v=r.call(t,l,s),m=c[0].length;for(d=0;m>d;++d)for(i.call(t,c[0][d],g=v[d],l[0][d][1]),p=1;h>p;++p)i.call(t,c[p][d],g+=l[p-1][d][1],l[p][d][1]);return u}var n=w,e=li,r=fi,i=ci,o=ui,a=si;return t.values=function(e){return arguments.length?(n=e,t):n},t.order=function(n){return arguments.length?(e="function"==typeof n?n:ys.get(n)||li,t):e},t.offset=function(n){return arguments.length?(r="function"==typeof n?n:bs.get(n)||fi,t):r},t.x=function(n){return arguments.length?(o=n,t):o},t.y=function(n){return arguments.length?(a=n,t):a},t.out=function(n){return arguments.length?(i=n,t):i},t};var ys=ia.map({"inside-out":function(t){var n,e,r=t.length,i=t.map(hi),o=t.map(pi),a=ia.range(r).sort(function(t,n){return i[t]-i[n]}),u=0,s=0,c=[],l=[];for(n=0;r>n;++n)e=a[n],s>u?(u+=o[e],c.push(e)):(s+=o[e],l.push(e));return l.reverse().concat(c)},reverse:function(t){return ia.range(t.length).reverse()},"default":li}),bs=ia.map({silhouette:function(t){var n,e,r,i=t.length,o=t[0].length,a=[],u=0,s=[];for(e=0;o>e;++e){for(n=0,r=0;i>n;n++)r+=t[n][e][1];r>u&&(u=r),a.push(r)}for(e=0;o>e;++e)s[e]=(u-a[e])/2;return s},wiggle:function(t){var n,e,r,i,o,a,u,s,c,l=t.length,f=t[0],h=f.length,p=[];for(p[0]=s=c=0,e=1;h>e;++e){for(n=0,i=0;l>n;++n)i+=t[n][e][1];for(n=0,o=0,u=f[e][0]-f[e-1][0];l>n;++n){for(r=0,a=(t[n][e][1]-t[n][e-1][1])/(2*u);n>r;++r)a+=(t[r][e][1]-t[r][e-1][1])/u;o+=a*t[n][e][1]}p[e]=s-=i?o/i*u:0,c>s&&(c=s)}for(e=0;h>e;++e)p[e]-=c;return p},expand:function(t){var n,e,r,i=t.length,o=t[0].length,a=1/i,u=[];for(e=0;o>e;++e){for(n=0,r=0;i>n;n++)r+=t[n][e][1];if(r)for(n=0;i>n;n++)t[n][e][1]/=r;else for(n=0;i>n;n++)t[n][e][1]=a}for(e=0;o>e;++e)u[e]=0;return u},zero:fi});ia.layout.histogram=function(){function t(t,o){for(var a,u,s=[],c=t.map(e,this),l=r.call(this,c,o),f=i.call(this,l,c,o),o=-1,h=c.length,p=f.length-1,d=n?1:1/h;++o<p;)a=s[o]=[],a.dx=f[o+1]-(a.x=f[o]),a.y=0;if(p>0)for(o=-1;++o<h;)u=c[o],u>=l[0]&&u<=l[1]&&(a=s[ia.bisect(f,u,1,p)-1],a.y+=d,a.push(t[o]));return s}var n=!0,e=Number,r=mi,i=gi;return t.value=function(n){return arguments.length?(e=n,t):e},t.range=function(n){return arguments.length?(r=Nt(n),t):r},t.bins=function(n){return arguments.length?(i="number"==typeof n?function(t){return vi(t,n)}:Nt(n),t):i},t.frequency=function(e){return arguments.length?(n=!!e,t):n},t},ia.layout.pack=function(){function t(t,o){var a=e.call(this,t,o),u=a[0],s=i[0],c=i[1],l=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(u.x=u.y=0,ei(u,function(t){t.r=+l(t.value)}),ei(u,_i),r){var f=r*(n?1:Math.max(2*u.r/s,2*u.r/c))/2;ei(u,function(t){t.r+=f}),ei(u,_i),ei(u,function(t){t.r-=f})}return Ei(u,s/2,c/2,n?1:1/Math.max(2*u.r/s,2*u.r/c)),a}var n,e=ia.layout.hierarchy().sort(yi),r=0,i=[1,1];return t.size=function(n){return arguments.length?(i=n,t):i},t.radius=function(e){return arguments.length?(n=null==e||"function"==typeof e?e:+e,t):n},t.padding=function(n){return arguments.length?(r=+n,t):r},ti(t,e)},ia.layout.tree=function(){function t(t,i){var l=a.call(this,t,i),f=l[0],h=n(f);if(ei(h,e),h.parent.m=-h.z,ni(h,r),c)ni(f,o);else{var p=f,d=f,g=f;ni(f,function(t){t.x<p.x&&(p=t),t.x>d.x&&(d=t),t.depth>g.depth&&(g=t)});var v=u(p,d)/2-p.x,m=s[0]/(d.x+u(d,p)/2+v),y=s[1]/(g.depth||1);ni(f,function(t){t.x=(t.x+v)*m,t.y=t.depth*y})}return l}function n(t){for(var n,e={A:null,children:[t]},r=[e];null!=(n=r.pop());)for(var i,o=n.children,a=0,u=o.length;u>a;++a)r.push((o[a]=i={_:o[a],parent:n,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return e.children[0]}function e(t){var n=t.children,e=t.parent.children,r=t.i?e[t.i-1]:null;if(n.length){Oi(t);var o=(n[0].z+n[n.length-1].z)/2;r?(t.z=r.z+u(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+u(t._,r._));t.parent.A=i(t,r,t.parent.A||e[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,n,e){if(n){for(var r,i=t,o=t,a=n,s=i.parent.children[0],c=i.m,l=o.m,f=a.m,h=s.m;a=Ci(a),i=Ni(i),a&&i;)s=Ni(s),o=Ci(o),o.a=t,r=a.z+f-i.z-c+u(a._,i._),r>0&&(Ri(ji(a,t,e),t,r),c+=r,l+=r),f+=a.m,c+=i.m,h+=s.m,l+=o.m;a&&!Ci(o)&&(o.t=a,o.m+=f-l),i&&!Ni(s)&&(s.t=i,s.m+=c-h,e=t)}return e}function o(t){t.x*=s[0],t.y=t.depth*s[1]}var a=ia.layout.hierarchy().sort(null).value(null),u=Si,s=[1,1],c=null;return t.separation=function(n){return arguments.length?(u=n,t):u},t.size=function(n){return arguments.length?(c=null==(s=n)?o:null,t):c?null:s},t.nodeSize=function(n){return arguments.length?(c=null==(s=n)?null:o,t):c?s:null},ti(t,a)},ia.layout.cluster=function(){function t(t,o){var a,u=n.call(this,t,o),s=u[0],c=0;ei(s,function(t){var n=t.children;n&&n.length?(t.x=Pi(n),t.y=Ti(n)):(t.x=a?c+=e(t,a):0,t.y=0,a=t)});var l=Fi(s),f=Di(s),h=l.x-e(l,f)/2,p=f.x+e(f,l)/2;return ei(s,i?function(t){t.x=(t.x-s.x)*r[0],t.y=(s.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(p-h)*r[0],t.y=(1-(s.y?t.y/s.y:1))*r[1]}),u}var n=ia.layout.hierarchy().sort(null).value(null),e=Si,r=[1,1],i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(n){return arguments.length?(i=null==(r=n),t):i?null:r},t.nodeSize=function(n){return arguments.length?(i=null!=(r=n),t):i?r:null},ti(t,n)},ia.layout.treemap=function(){function t(t,n){for(var e,r,i=-1,o=t.length;++i<o;)r=(e=t[i]).value*(0>n?0:n),e.area=isNaN(r)||0>=r?0:r}function n(e){
var o=e.children;if(o&&o.length){var a,u,s,c=f(e),l=[],h=o.slice(),d=1/0,g="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&e.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(h,c.dx*c.dy/e.value),l.area=0;(s=h.length)>0;)l.push(a=h[s-1]),l.area+=a.area,"squarify"!==p||(u=r(l,g))<=d?(h.pop(),d=u):(l.area-=l.pop().area,i(l,g,c,!1),g=Math.min(c.dx,c.dy),l.length=l.area=0,d=1/0);l.length&&(i(l,g,c,!0),l.length=l.area=0),o.forEach(n)}}function e(n){var r=n.children;if(r&&r.length){var o,a=f(n),u=r.slice(),s=[];for(t(u,a.dx*a.dy/n.value),s.area=0;o=u.pop();)s.push(o),s.area+=o.area,null!=o.z&&(i(s,o.z?a.dx:a.dy,a,!u.length),s.length=s.area=0);r.forEach(e)}}function r(t,n){for(var e,r=t.area,i=0,o=1/0,a=-1,u=t.length;++a<u;)(e=t[a].area)&&(o>e&&(o=e),e>i&&(i=e));return r*=r,n*=n,r?Math.max(n*i*d/r,r/(n*o*d)):1/0}function i(t,n,e,r){var i,o=-1,a=t.length,u=e.x,c=e.y,l=n?s(t.area/n):0;if(n==e.dx){for((r||l>e.dy)&&(l=e.dy);++o<a;)i=t[o],i.x=u,i.y=c,i.dy=l,u+=i.dx=Math.min(e.x+e.dx-u,l?s(i.area/l):0);i.z=!0,i.dx+=e.x+e.dx-u,e.y+=l,e.dy-=l}else{for((r||l>e.dx)&&(l=e.dx);++o<a;)i=t[o],i.x=u,i.y=c,i.dx=l,c+=i.dy=Math.min(e.y+e.dy-c,l?s(i.area/l):0);i.z=!1,i.dy+=e.y+e.dy-c,e.x+=l,e.dx-=l}}function o(r){var i=a||u(r),o=i[0];return o.x=0,o.y=0,o.dx=c[0],o.dy=c[1],a&&u.revalue(o),t([o],o.dx*o.dy/o.value),(a?e:n)(o),h&&(a=i),i}var a,u=ia.layout.hierarchy(),s=Math.round,c=[1,1],l=null,f=qi,h=!1,p="squarify",d=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(c=t,o):c},o.padding=function(t){function n(n){var e=t.call(o,n,n.depth);return null==e?qi(n):Li(n,"number"==typeof e?[e,e,e,e]:e)}function e(n){return Li(n,t)}if(!arguments.length)return l;var r;return f=null==(l=t)?qi:"function"==(r=typeof t)?n:"number"===r?(t=[t,t,t,t],e):e,o},o.round=function(t){return arguments.length?(s=t?Math.round:Number,o):s!=Number},o.sticky=function(t){return arguments.length?(h=t,a=null,o):h},o.ratio=function(t){return arguments.length?(d=t,o):d},o.mode=function(t){return arguments.length?(p=t+"",o):p},ti(o,u)},ia.random={normal:function(t,n){var e=arguments.length;return 2>e&&(n=1),1>e&&(t=0),function(){var e,r,i;do e=2*Math.random()-1,r=2*Math.random()-1,i=e*e+r*r;while(!i||i>1);return t+n*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=ia.random.normal.apply(ia,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=ia.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var n=0,e=0;t>e;e++)n+=Math.random();return n}}},ia.scale={};var ws={floor:w,ceil:w};ia.scale.linear=function(){return Hi([0,1],[0,1],wr,!1)};var xs={s:1,g:1,p:1,r:1,e:1};ia.scale.log=function(){return Ji(ia.scale.linear().domain([0,1]),10,!0,[1,10])};var _s=ia.format(".0e"),ks={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ia.scale.pow=function(){return to(ia.scale.linear(),1,[0,1])},ia.scale.sqrt=function(){return ia.scale.pow().exponent(.5)},ia.scale.ordinal=function(){return eo([],{t:"range",a:[[]]})},ia.scale.category10=function(){return ia.scale.ordinal().range(Ms)},ia.scale.category20=function(){return ia.scale.ordinal().range(Es)},ia.scale.category20b=function(){return ia.scale.ordinal().range(As)},ia.scale.category20c=function(){return ia.scale.ordinal().range(Ss)};var Ms=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(xt),Es=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(xt),As=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(xt),Ss=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(xt);ia.scale.quantile=function(){return ro([],[])},ia.scale.quantize=function(){return io(0,1,[0,1])},ia.scale.threshold=function(){return oo([.5],[0,1])},ia.scale.identity=function(){return ao([0,1])},ia.svg={},ia.svg.arc=function(){function t(){var t=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),l=a.apply(this,arguments)-qa,f=u.apply(this,arguments)-qa,h=Math.abs(f-l),p=l>f?0:1;if(t>c&&(d=c,c=t,t=d),h>=Da)return n(c,p)+(t?n(t,1-p):"")+"Z";var d,g,v,m,y,b,w,x,_,k,M,E,A=0,S=0,N=[];if((m=(+s.apply(this,arguments)||0)/2)&&(v=o===Ns?Math.sqrt(t*t+c*c):+o.apply(this,arguments),p||(S*=-1),c&&(S=rt(v/c*Math.sin(m))),t&&(A=rt(v/t*Math.sin(m)))),c){y=c*Math.cos(l+S),b=c*Math.sin(l+S),w=c*Math.cos(f-S),x=c*Math.sin(f-S);var C=Math.abs(f-l-2*S)<=Pa?0:1;if(S&&po(y,b,w,x)===p^C){var R=(l+f)/2;y=c*Math.cos(R),b=c*Math.sin(R),w=x=null}}else y=b=0;if(t){_=t*Math.cos(f-A),k=t*Math.sin(f-A),M=t*Math.cos(l+A),E=t*Math.sin(l+A);var O=Math.abs(l-f+2*A)<=Pa?0:1;if(A&&po(_,k,M,E)===1-p^O){var j=(l+f)/2;_=t*Math.cos(j),k=t*Math.sin(j),M=E=null}}else _=k=0;if((d=Math.min(Math.abs(c-t)/2,+i.apply(this,arguments)))>.001){g=c>t^p?0:1;var T=null==M?[_,k]:null==w?[y,b]:Fe([y,b],[M,E],[w,x],[_,k]),P=y-T[0],F=b-T[1],D=w-T[0],q=x-T[1],L=1/Math.sin(Math.acos((P*D+F*q)/(Math.sqrt(P*P+F*F)*Math.sqrt(D*D+q*q)))/2),z=Math.sqrt(T[0]*T[0]+T[1]*T[1]);if(null!=w){var I=Math.min(d,(c-z)/(L+1)),U=go(null==M?[_,k]:[M,E],[y,b],c,I,p),V=go([w,x],[_,k],c,I,p);d===I?N.push("M",U[0],"A",I,",",I," 0 0,",g," ",U[1],"A",c,",",c," 0 ",1-p^po(U[1][0],U[1][1],V[1][0],V[1][1]),",",p," ",V[1],"A",I,",",I," 0 0,",g," ",V[0]):N.push("M",U[0],"A",I,",",I," 0 1,",g," ",V[0])}else N.push("M",y,",",b);if(null!=M){var B=Math.min(d,(t-z)/(L-1)),W=go([y,b],[M,E],t,-B,p),H=go([_,k],null==w?[y,b]:[w,x],t,-B,p);d===B?N.push("L",H[0],"A",B,",",B," 0 0,",g," ",H[1],"A",t,",",t," 0 ",p^po(H[1][0],H[1][1],W[1][0],W[1][1]),",",1-p," ",W[1],"A",B,",",B," 0 0,",g," ",W[0]):N.push("L",H[0],"A",B,",",B," 0 0,",g," ",W[0])}else N.push("L",_,",",k)}else N.push("M",y,",",b),null!=w&&N.push("A",c,",",c," 0 ",C,",",p," ",w,",",x),N.push("L",_,",",k),null!=M&&N.push("A",t,",",t," 0 ",O,",",1-p," ",M,",",E);return N.push("Z"),N.join("")}function n(t,n){return"M0,"+t+"A"+t+","+t+" 0 1,"+n+" 0,"+-t+"A"+t+","+t+" 0 1,"+n+" 0,"+t}var e=so,r=co,i=uo,o=Ns,a=lo,u=fo,s=ho;return t.innerRadius=function(n){return arguments.length?(e=Nt(n),t):e},t.outerRadius=function(n){return arguments.length?(r=Nt(n),t):r},t.cornerRadius=function(n){return arguments.length?(i=Nt(n),t):i},t.padRadius=function(n){return arguments.length?(o=n==Ns?Ns:Nt(n),t):o},t.startAngle=function(n){return arguments.length?(a=Nt(n),t):a},t.endAngle=function(n){return arguments.length?(u=Nt(n),t):u},t.padAngle=function(n){return arguments.length?(s=Nt(n),t):s},t.centroid=function(){var t=(+e.apply(this,arguments)+ +r.apply(this,arguments))/2,n=(+a.apply(this,arguments)+ +u.apply(this,arguments))/2-qa;return[Math.cos(n)*t,Math.sin(n)*t]},t};var Ns="auto";ia.svg.line=function(){return vo(w)};var Cs=ia.map({linear:mo,"linear-closed":yo,step:bo,"step-before":wo,"step-after":xo,basis:So,"basis-open":No,"basis-closed":Co,bundle:Ro,cardinal:Mo,"cardinal-open":_o,"cardinal-closed":ko,monotone:Do});Cs.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var Rs=[0,2/3,1/3,0],Os=[0,1/3,2/3,0],js=[0,1/6,2/3,1/6];ia.svg.line.radial=function(){var t=vo(qo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},wo.reverse=xo,xo.reverse=wo,ia.svg.area=function(){return Lo(w)},ia.svg.area.radial=function(){var t=Lo(qo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ia.svg.chord=function(){function t(t,u){var s=n(this,o,t,u),c=n(this,a,t,u);return"M"+s.p0+r(s.r,s.p1,s.a1-s.a0)+(e(s,c)?i(s.r,s.p1,s.r,s.p0):i(s.r,s.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+i(c.r,c.p1,s.r,s.p0))+"Z"}function n(t,n,e,r){var i=n.call(t,e,r),o=u.call(t,i,r),a=s.call(t,i,r)-qa,l=c.call(t,i,r)-qa;return{r:o,a0:a,a1:l,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(l),o*Math.sin(l)]}}function e(t,n){return t.a0==n.a0&&t.a1==n.a1}function r(t,n,e){return"A"+t+","+t+" 0 "+ +(e>Pa)+",1 "+n}function i(t,n,e,r){return"Q 0,0 "+r}var o=we,a=xe,u=zo,s=lo,c=fo;return t.radius=function(n){return arguments.length?(u=Nt(n),t):u},t.source=function(n){return arguments.length?(o=Nt(n),t):o},t.target=function(n){return arguments.length?(a=Nt(n),t):a},t.startAngle=function(n){return arguments.length?(s=Nt(n),t):s},t.endAngle=function(n){return arguments.length?(c=Nt(n),t):c},t},ia.svg.diagonal=function(){function t(t,i){var o=n.call(this,t,i),a=e.call(this,t,i),u=(o.y+a.y)/2,s=[o,{x:o.x,y:u},{x:a.x,y:u},a];return s=s.map(r),"M"+s[0]+"C"+s[1]+" "+s[2]+" "+s[3]}var n=we,e=xe,r=Io;return t.source=function(e){return arguments.length?(n=Nt(e),t):n},t.target=function(n){return arguments.length?(e=Nt(n),t):e},t.projection=function(n){return arguments.length?(r=n,t):r},t},ia.svg.diagonal.radial=function(){var t=ia.svg.diagonal(),n=Io,e=t.projection;return t.projection=function(t){return arguments.length?e(Uo(n=t)):n},t},ia.svg.symbol=function(){function t(t,r){return(Ts.get(n.call(this,t,r))||Wo)(e.call(this,t,r))}var n=Bo,e=Vo;return t.type=function(e){return arguments.length?(n=Nt(e),t):n},t.size=function(n){return arguments.length?(e=Nt(n),t):e},t};var Ts=ia.map({circle:Wo,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*Fs)),e=n*Fs;return"M0,"+-n+"L"+e+",0 0,"+n+" "+-e+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Ps),e=n*Ps/2;return"M0,"+e+"L"+n+","+-e+" "+-n+","+-e+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Ps),e=n*Ps/2;return"M0,"+-e+"L"+n+","+e+" "+-n+","+e+"Z"}});ia.svg.symbolTypes=Ts.keys();var Ps=Math.sqrt(3),Fs=Math.tan(30*La);Ea.transition=function(t){for(var n,e,r=Ds||++Is,i=Go(t),o=[],a=qs||{time:Date.now(),ease:Sr,delay:0,duration:250},u=-1,s=this.length;++u<s;){o.push(n=[]);for(var c=this[u],l=-1,f=c.length;++l<f;)(e=c[l])&&Qo(e,l,i,r,a),n.push(e)}return $o(o,i,r)},Ea.interrupt=function(t){return this.each(null==t?Ls:Ho(Go(t)))};var Ds,qs,Ls=Ho(Go()),zs=[],Is=0;zs.call=Ea.call,zs.empty=Ea.empty,zs.node=Ea.node,zs.size=Ea.size,ia.transition=function(t,n){return t&&t.transition?Ds?t.transition(n):t:ia.selection().transition(t)},ia.transition.prototype=zs,zs.select=function(t){var n,e,r,i=this.id,o=this.namespace,a=[];t=R(t);for(var u=-1,s=this.length;++u<s;){a.push(n=[]);for(var c=this[u],l=-1,f=c.length;++l<f;)(r=c[l])&&(e=t.call(r,r.__data__,l,u))?("__data__"in r&&(e.__data__=r.__data__),Qo(e,l,o,i,r[o][i]),n.push(e)):n.push(null)}return $o(a,o,i)},zs.selectAll=function(t){var n,e,r,i,o,a=this.id,u=this.namespace,s=[];t=O(t);for(var c=-1,l=this.length;++c<l;)for(var f=this[c],h=-1,p=f.length;++h<p;)if(r=f[h]){o=r[u][a],e=t.call(r,r.__data__,h,c),s.push(n=[]);for(var d=-1,g=e.length;++d<g;)(i=e[d])&&Qo(i,d,u,a,o),n.push(i)}return $o(s,u,a)},zs.filter=function(t){var n,e,r,i=[];"function"!=typeof t&&(t=B(t));for(var o=0,a=this.length;a>o;o++){i.push(n=[]);for(var e=this[o],u=0,s=e.length;s>u;u++)(r=e[u])&&t.call(r,r.__data__,u,o)&&n.push(r)}return $o(i,this.namespace,this.id)},zs.tween=function(t,n){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(t):H(this,null==n?function(n){n[r][e].tween.remove(t)}:function(i){i[r][e].tween.set(t,n)})},zs.attr=function(t,n){function e(){this.removeAttribute(u)}function r(){this.removeAttributeNS(u.space,u.local)}function i(t){return null==t?e:(t+="",function(){var n,e=this.getAttribute(u);return e!==t&&(n=a(e,t),function(t){this.setAttribute(u,n(t))})})}function o(t){return null==t?r:(t+="",function(){var n,e=this.getAttributeNS(u.space,u.local);return e!==t&&(n=a(e,t),function(t){this.setAttributeNS(u.space,u.local,n(t))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var a="transform"==t?Br:wr,u=ia.ns.qualify(t);return Zo(this,"attr."+t,n,u.local?o:i)},zs.attrTween=function(t,n){function e(t,e){var r=n.call(this,t,e,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,e){var r=n.call(this,t,e,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=ia.ns.qualify(t);return this.tween("attr."+t,i.local?r:e)},zs.style=function(t,n,e){function i(){this.style.removeProperty(t)}function o(n){return null==n?i:(n+="",function(){var i,o=r(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(i=wr(o,n),function(n){this.style.setProperty(t,i(n),e)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(n="");for(e in t)this.style(e,t[e],n);return this}e=""}return Zo(this,"style."+t,n,o)},zs.styleTween=function(t,n,e){function i(i,o){var a=n.call(this,i,o,r(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(n){this.style.setProperty(t,a(n),e)}}return arguments.length<3&&(e=""),this.tween("style."+t,i)},zs.text=function(t){return Zo(this,"text",t,Yo)},zs.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var n;this[t].count<2&&(n=this.parentNode)&&n.removeChild(this)})},zs.ease=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].ease:("function"!=typeof t&&(t=ia.ease.apply(ia,arguments)),H(this,function(r){r[e][n].ease=t}))},zs.delay=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].delay:H(this,"function"==typeof t?function(r,i,o){r[e][n].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[e][n].delay=t}))},zs.duration=function(t){var n=this.id,e=this.namespace;return arguments.length<1?this.node()[e][n].duration:H(this,"function"==typeof t?function(r,i,o){r[e][n].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[e][n].duration=t}))},zs.each=function(t,n){var e=this.id,r=this.namespace;if(arguments.length<2){var i=qs,o=Ds;try{Ds=e,H(this,function(n,i,o){qs=n[r][e],t.call(n,n.__data__,i,o)})}finally{qs=i,Ds=o}}else H(this,function(i){var o=i[r][e];(o.event||(o.event=ia.dispatch("start","end","interrupt"))).on(t,n)});return this},zs.transition=function(){for(var t,n,e,r,i=this.id,o=++Is,a=this.namespace,u=[],s=0,c=this.length;c>s;s++){u.push(t=[]);for(var n=this[s],l=0,f=n.length;f>l;l++)(e=n[l])&&(r=e[a][i],Qo(e,l,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(e)}return $o(u,a,o)},ia.svg.axis=function(){function t(t){t.each(function(){var t,c=ia.select(this),l=this.__chart__||e,f=this.__chart__=e.copy(),h=null==s?f.ticks?f.ticks.apply(f,u):f.domain():s,p=null==n?f.tickFormat?f.tickFormat.apply(f,u):w:n,d=c.selectAll(".tick").data(h,f),g=d.enter().insert("g",".domain").attr("class","tick").style("opacity",ja),v=ia.transition(d.exit()).style("opacity",ja).remove(),m=ia.transition(d.order()).style("opacity",1),y=Math.max(i,0)+a,b=Ii(f),x=c.selectAll(".domain").data([0]),_=(x.enter().append("path").attr("class","domain"),ia.transition(x));g.append("line"),g.append("text");var k,M,E,A,S=g.select("line"),N=m.select("line"),C=d.select("text").text(p),R=g.select("text"),O=m.select("text"),j="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=Ko,k="x",E="y",M="x2",A="y2",C.attr("dy",0>j?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+b[0]+","+j*o+"V0H"+b[1]+"V"+j*o)):(t=Xo,k="y",E="x",M="y2",A="x2",C.attr("dy",".32em").style("text-anchor",0>j?"end":"start"),_.attr("d","M"+j*o+","+b[0]+"H0V"+b[1]+"H"+j*o)),S.attr(A,j*i),R.attr(E,j*y),N.attr(M,0).attr(A,j*i),O.attr(k,0).attr(E,j*y),f.rangeBand){var T=f,P=T.rangeBand()/2;l=f=function(t){return T(t)+P}}else l.rangeBand?l=f:v.call(t,f,l);g.call(t,l,f),m.call(t,f,f)})}var n,e=ia.scale.linear(),r=Us,i=6,o=6,a=3,u=[10],s=null;return t.scale=function(n){return arguments.length?(e=n,t):e},t.orient=function(n){return arguments.length?(r=n in Vs?n+"":Us,t):r},t.ticks=function(){return arguments.length?(u=arguments,t):u},t.tickValues=function(n){return arguments.length?(s=n,t):s},t.tickFormat=function(e){return arguments.length?(n=e,t):n},t.tickSize=function(n){var e=arguments.length;return e?(i=+n,o=+arguments[e-1],t):i},t.innerTickSize=function(n){return arguments.length?(i=+n,t):i},t.outerTickSize=function(n){return arguments.length?(o=+n,t):o},t.tickPadding=function(n){return arguments.length?(a=+n,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Us="bottom",Vs={top:1,right:1,bottom:1,left:1};ia.svg.brush=function(){function t(r){r.each(function(){var r=ia.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=r.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),r.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var u=r.selectAll(".resize").data(g,w);u.exit().remove(),u.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Bs[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),u.style("display",t.empty()?"none":null);var s,f=ia.transition(r),h=ia.transition(a);c&&(s=Ii(c),h.attr("x",s[0]).attr("width",s[1]-s[0]),e(f)),l&&(s=Ii(l),h.attr("y",s[0]).attr("height",s[1]-s[0]),i(f)),n(f)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function e(t){t.select(".extent").attr("x",f[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function i(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function o(){function o(){32==ia.event.keyCode&&(C||(b=null,O[0]-=f[1],O[1]-=h[1],C=2),A())}function g(){32==ia.event.keyCode&&2==C&&(O[0]+=f[1],O[1]+=h[1],C=0,A())}function v(){var t=ia.mouse(x),r=!1;w&&(t[0]+=w[0],t[1]+=w[1]),C||(ia.event.altKey?(b||(b=[(f[0]+f[1])/2,(h[0]+h[1])/2]),O[0]=f[+(t[0]<b[0])],O[1]=h[+(t[1]<b[1])]):b=null),S&&m(t,c,0)&&(e(M),r=!0),N&&m(t,l,1)&&(i(M),r=!0),r&&(n(M),k({type:"brush",mode:C?"move":"resize"}))}function m(t,n,e){var r,i,o=Ii(n),s=o[0],c=o[1],l=O[e],g=e?h:f,v=g[1]-g[0];return C&&(s-=l,c-=v+l),r=(e?d:p)?Math.max(s,Math.min(c,t[e])):t[e],C?i=(r+=l)+v:(b&&(l=Math.max(s,Math.min(c,2*b[e]-r))),r>l?(i=r,r=l):i=l),g[0]!=r||g[1]!=i?(e?u=null:a=null,g[0]=r,g[1]=i,!0):void 0}function y(){v(),M.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ia.select("body").style("cursor",null),j.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),R(),k({type:"brushend"})}var b,w,x=this,_=ia.select(ia.event.target),k=s.of(x,arguments),M=ia.select(x),E=_.datum(),S=!/^(n|s)$/.test(E)&&c,N=!/^(e|w)$/.test(E)&&l,C=_.classed("extent"),R=K(x),O=ia.mouse(x),j=ia.select(r(x)).on("keydown.brush",o).on("keyup.brush",g);if(ia.event.changedTouches?j.on("touchmove.brush",v).on("touchend.brush",y):j.on("mousemove.brush",v).on("mouseup.brush",y),M.interrupt().selectAll("*").interrupt(),C)O[0]=f[0]-O[0],O[1]=h[0]-O[1];else if(E){var T=+/w$/.test(E),P=+/^n/.test(E);w=[f[1-T]-O[0],h[1-P]-O[1]],O[0]=f[T],O[1]=h[P]}else ia.event.altKey&&(b=O.slice());M.style("pointer-events","none").selectAll(".resize").style("display",null),ia.select("body").style("cursor",_.style("cursor")),k({type:"brushstart"}),v()}var a,u,s=N(t,"brushstart","brush","brushend"),c=null,l=null,f=[0,0],h=[0,0],p=!0,d=!0,g=Ws[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),n={x:f,y:h,i:a,j:u},e=this.__chart__||n;this.__chart__=n,Ds?ia.select(this).transition().each("start.brush",function(){a=e.i,u=e.j,f=e.x,h=e.y,t({type:"brushstart"})}).tween("brush:brush",function(){var e=xr(f,n.x),r=xr(h,n.y);return a=u=null,function(i){f=n.x=e(i),h=n.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=n.i,u=n.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(n){return arguments.length?(c=n,g=Ws[!c<<1|!l],t):c},t.y=function(n){return arguments.length?(l=n,g=Ws[!c<<1|!l],t):l},t.clamp=function(n){return arguments.length?(c&&l?(p=!!n[0],d=!!n[1]):c?p=!!n:l&&(d=!!n),t):c&&l?[p,d]:c?p:l?d:null},t.extent=function(n){var e,r,i,o,s;return arguments.length?(c&&(e=n[0],r=n[1],l&&(e=e[0],r=r[0]),a=[e,r],c.invert&&(e=c(e),r=c(r)),e>r&&(s=e,e=r,r=s),e==f[0]&&r==f[1]||(f=[e,r])),l&&(i=n[0],o=n[1],c&&(i=i[1],o=o[1]),u=[i,o],l.invert&&(i=l(i),o=l(o)),i>o&&(s=i,i=o,o=s),i==h[0]&&o==h[1]||(h=[i,o])),t):(c&&(a?(e=a[0],r=a[1]):(e=f[0],r=f[1],c.invert&&(e=c.invert(e),r=c.invert(r)),e>r&&(s=e,e=r,r=s))),l&&(u?(i=u[0],o=u[1]):(i=h[0],o=h[1],l.invert&&(i=l.invert(i),o=l.invert(o)),i>o&&(s=i,i=o,o=s))),c&&l?[[e,i],[r,o]]:c?[e,r]:l&&[i,o])},t.clear=function(){return t.empty()||(f=[0,0],h=[0,0],a=u=null),t},t.empty=function(){return!!c&&f[0]==f[1]||!!l&&h[0]==h[1]},ia.rebind(t,s,"on")};var Bs={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ws=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Hs=lu.format=vu.timeFormat,$s=Hs.utc,Zs=$s("%Y-%m-%dT%H:%M:%S.%LZ");Hs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Jo:Zs,Jo.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},Jo.toString=Zs.toString,lu.second=Ut(function(t){return new fu(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),lu.seconds=lu.second.range,lu.seconds.utc=lu.second.utc.range,lu.minute=Ut(function(t){return new fu(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),lu.minutes=lu.minute.range,lu.minutes.utc=lu.minute.utc.range,lu.hour=Ut(function(t){var n=t.getTimezoneOffset()/60;return new fu(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),lu.hours=lu.hour.range,lu.hours.utc=lu.hour.utc.range,lu.month=Ut(function(t){return t=lu.day(t),t.setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),lu.months=lu.month.range,lu.months.utc=lu.month.utc.range;var Ys=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Gs=[[lu.second,1],[lu.second,5],[lu.second,15],[lu.second,30],[lu.minute,1],[lu.minute,5],[lu.minute,15],[lu.minute,30],[lu.hour,1],[lu.hour,3],[lu.hour,6],[lu.hour,12],[lu.day,1],[lu.day,2],[lu.week,1],[lu.month,1],[lu.month,3],[lu.year,1]],Qs=Hs.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",On]]),Ks={range:function(t,n,e){return ia.range(Math.ceil(t/e)*e,+n,e).map(na)},floor:w,ceil:w};Gs.year=lu.year,lu.scale=function(){return ta(ia.scale.linear(),Gs,Qs)};var Xs=Gs.map(function(t){return[t[0].utc,t[1]]}),Js=$s.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",On]]);Xs.year=lu.year.utc,lu.scale.utc=function(){return ta(ia.scale.linear(),Xs,Js)},ia.text=Ct(function(t){return t.responseText}),ia.json=function(t,n){return Rt(t,"application/json",ea,n)},ia.html=function(t,n){return Rt(t,"text/html",ra,n)},ia.xml=Ct(function(t){return t.responseXML}),"function"==typeof t&&t.amd?t(ia):"object"==typeof e&&e.exports&&(e.exports=ia),this.d3=ia}()},{}],3:[function(t,n,e){this.j$=this.jStat=function(t,n){function e(n,e){var r=n>e?n:e;return t.pow(10,17-~~(t.log(r>0?r:-r)*t.LOG10E))}function r(t){return"[object Function]"===h.call(t)}function i(t){return"number"==typeof t&&t===t}function o(t){return l.apply([],t)}function a(){return new a._init(arguments)}function u(){return 0}function s(){return 1}function c(t,n){return t===n?1:0}var l=Array.prototype.concat,f=Array.prototype.slice,h=Object.prototype.toString,p=Array.isArray||function(t){return"[object Array]"===h.call(t)};a.fn=a.prototype,a._init=function(t){var n;if(p(t[0]))if(p(t[0][0])){for(r(t[1])&&(t[0]=a.map(t[0],t[1])),n=0;n<t[0].length;n++)this[n]=t[0][n];this.length=t[0].length}else this[0]=r(t[1])?a.map(t[0],t[1]):t[0],this.length=1;else if(i(t[0]))this[0]=a.seq.apply(null,t),this.length=1;else{if(t[0]instanceof a)return a(t[0].toArray());this[0]=[],this.length=1}return this},a._init.prototype=a.prototype,a._init.constructor=a,a.utils={calcRdx:e,isArray:p,isFunction:r,isNumber:i,toVector:o},a.extend=function(t){var n,e;if(1===arguments.length){for(e in t)a[e]=t[e];return this}for(n=1;n<arguments.length;n++)for(e in arguments[n])t[e]=arguments[n][e];return t},a.rows=function(t){return t.length||1},a.cols=function(t){return t[0].length||1},a.dimensions=function(t){return{rows:a.rows(t),cols:a.cols(t)}},a.row=function(t,n){return t[n]},a.col=function(t,n){for(var e=new Array(t.length),r=0;r<t.length;r++)e[r]=[t[r][n]];return e},a.diag=function(t){for(var n=a.rows(t),e=new Array(n),r=0;n>r;r++)e[r]=[t[r][r]];return e},a.antidiag=function(t){for(var n=a.rows(t)-1,e=new Array(n),r=0;n>=0;n--,r++)e[r]=[t[r][n]];return e},a.transpose=function(t){var n,e,r,i,o,a=[];for(p(t[0])||(t=[t]),e=t.length,r=t[0].length,o=0;r>o;o++){for(n=new Array(e),i=0;e>i;i++)n[i]=t[i][o];a.push(n)}return 1===a.length?a[0]:a},a.map=function(t,n,e){var r,i,o,a,u;for(p(t[0])||(t=[t]),i=t.length,o=t[0].length,a=e?t:new Array(i),r=0;i>r;r++)for(a[r]||(a[r]=new Array(o)),u=0;o>u;u++)a[r][u]=n(t[r][u],r,u);return 1===a.length?a[0]:a},a.cumreduce=function(t,n,e){var r,i,o,a,u;for(p(t[0])||(t=[t]),i=t.length,o=t[0].length,a=e?t:new Array(i),r=0;i>r;r++)for(a[r]||(a[r]=new Array(o)),o>0&&(a[r][0]=t[r][0]),u=1;o>u;u++)a[r][u]=n(a[r][u-1],t[r][u]);return 1===a.length?a[0]:a},a.alter=function(t,n){return a.map(t,n,!0)},a.create=function(t,n,e){var i,o,a=new Array(t);for(r(n)&&(e=n,n=t),i=0;t>i;i++)for(a[i]=new Array(n),o=0;n>o;o++)a[i][o]=e(i,o);return a},a.zeros=function(t,n){return i(n)||(n=t),a.create(t,n,u)},a.ones=function(t,n){return i(n)||(n=t),a.create(t,n,s)},a.rand=function(n,e){return i(e)||(e=n),a.create(n,e,t.random)},a.identity=function(t,n){return i(n)||(n=t),a.create(t,n,c)},a.symmetric=function(t){var n,e,r=t.length;if(t.length!==t[0].length)return!1;for(n=0;r>n;n++)for(e=0;r>e;e++)if(t[e][n]!==t[n][e])return!1;return!0},a.clear=function(t){return a.alter(t,u)},a.seq=function(t,n,i,o){r(o)||(o=!1);var a,u=[],s=e(t,n),c=(n*s-t*s)/((i-1)*s),l=t;for(a=0;n>=l;a++,l=(t*s+c*s*a)/s)u.push(o?o(l,a):l);return u};var d=a.prototype;return d.length=0,d.push=Array.prototype.push,d.sort=Array.prototype.sort,d.splice=Array.prototype.splice,d.slice=Array.prototype.slice,d.toArray=function(){return this.length>1?f.call(this):f.call(this)[0]},d.map=function(t,n){return a(a.map(this,t,n))},d.cumreduce=function(t,n){return a(a.cumreduce(this,t,n))},d.alter=function(t){return a.alter(this,t),this},function(t){for(var n=0;n<t.length;n++)(function(t){d[t]=function(n){var e,r=this;return n?(setTimeout(function(){n.call(r,d[t].call(r))}),this):(e=a[t](this),p(e)?a(e):e)}})(t[n])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(t){for(var n=0;n<t.length;n++)(function(t){d[t]=function(n,e){var r=this;return e?(setTimeout(function(){e.call(r,d[t].call(r,n))}),this):a(a[t](this,n))}})(t[n])}("row col".split(" ")),function(t){for(var n=0;n<t.length;n++)(function(t){d[t]=new Function("return jStat(jStat."+t+".apply(null, arguments));")})(t[n])}("create zeros ones rand identity".split(" ")),a}(Math),function(t,n){function e(t,n){return t-n}function r(t,e,r){return n.max(e,n.min(t,r))}var o=t.utils.isFunction;t.sum=function u(t){for(var u=0,n=t.length;--n>=0;)u+=t[n];return u},t.sumsqrd=function(t){for(var n=0,e=t.length;--e>=0;)n+=t[e]*t[e];return n},t.sumsqerr=function(n){for(var e,r=t.mean(n),i=0,o=n.length;--o>=0;)e=n[o]-r,i+=e*e;return i},t.sumrow=function(t){for(var n=0,e=t.length;--e>=0;)n+=t[e];return n},t.product=function(t){for(var n=1,e=t.length;--e>=0;)n*=t[e];return n},t.min=function(t){for(var n=t[0],e=0;++e<t.length;)t[e]<n&&(n=t[e]);return n},t.max=function(t){for(var n=t[0],e=0;++e<t.length;)t[e]>n&&(n=t[e]);return n},t.mean=function(n){return t.sum(n)/n.length},t.meansqerr=function(n){return t.sumsqerr(n)/n.length},t.geomean=function(e){return n.pow(t.product(e),1/e.length)},t.median=function(t){var n=t.length,r=t.slice().sort(e);return 1&n?r[n/2|0]:(r[n/2-1]+r[n/2])/2},t.cumsum=function(n){return t.cumreduce(n,function(t,n){return t+n})},t.cumprod=function(n){return t.cumreduce(n,function(t,n){return t*n})},t.diff=function(t){var n,e=[],r=t.length;for(n=1;r>n;n++)e.push(t[n]-t[n-1]);return e},t.mode=function(t){var n,r=t.length,i=t.slice().sort(e),o=1,a=0,u=0,s=[];for(n=0;r>n;n++)i[n]===i[n+1]?o++:(o>a?(s=[i[n]],a=o,u=0):o===a&&(s.push(i[n]),u++),o=1);return 0===u?s[0]:s},t.range=function(n){return t.max(n)-t.min(n)},t.variance=function(n,e){return t.sumsqerr(n)/(n.length-(e?1:0))},t.stdev=function(e,r){return n.sqrt(t.variance(e,r))},t.meandev=function(e){var r,i=0,o=t.mean(e);for(r=e.length-1;r>=0;r--)i+=n.abs(e[r]-o);return i/e.length},t.meddev=function(e){var r,i=0,o=t.median(e);for(r=e.length-1;r>=0;r--)i+=n.abs(e[r]-o);return i/e.length},t.coeffvar=function(n){return t.stdev(n)/t.mean(n)},t.quartiles=function(t){var r=t.length,i=t.slice().sort(e);return[i[n.round(r/4)-1],i[n.round(r/2)-1],i[n.round(3*r/4)-1]]},t.quantiles=function(t,i,o,a){var u,s,c,l,f,h,p=t.slice().sort(e),d=[i.length],g=t.length;for("undefined"==typeof o&&(o=3/8),"undefined"==typeof a&&(a=3/8),u=0;u<i.length;u++)s=i[u],c=o+s*(1-o-a),l=g*s+c,f=n.floor(r(l,1,g-1)),h=r(l-f,0,1),d[u]=(1-h)*p[f-1]+h*p[f];return d},t.percentile=function(t,n){var r=t.slice().sort(e),i=n*(r.length-1),o=parseInt(i),a=i-o;return o+1<r.length?r[o]*(1-a)+r[o+1]*a:r[o]},t.percentileOfScore=function(t,n,e){var r,i,o=0,a=t.length,u=!1;for("strict"===e&&(u=!0),i=0;a>i;i++)r=t[i],(u&&n>r||!u&&n>=r)&&o++;return o/a},t.histogram=function(e,r){var i,o=t.min(e),a=r||4,u=(t.max(e)-o)/a,s=e.length,r=[];for(i=0;a>i;i++)r[i]=0;for(i=0;s>i;i++)r[n.min(n.floor((e[i]-o)/u),a-1)]+=1;return r},t.covariance=function(n,e){var r,i=t.mean(n),o=t.mean(e),a=n.length,u=new Array(a);for(r=0;a>r;r++)u[r]=(n[r]-i)*(e[r]-o);return t.sum(u)/(a-1)},t.corrcoeff=function(n,e){return t.covariance(n,e)/t.stdev(n,1)/t.stdev(e,1)},t.stanMoment=function(e,r){var o=t.mean(e),a=t.stdev(e),u=e.length,s=0;for(i=0;i<u;i++)s+=n.pow((e[i]-o)/a,r);return s/e.length},t.skewness=function(n){return t.stanMoment(n,3)},t.kurtosis=function(n){return t.stanMoment(n,4)-3};var a=t.prototype;!function(n){for(var e=0;e<n.length;e++)(function(n){a[n]=function(e,r){var i=[],u=0,s=this;if(o(e)&&(r=e,e=!1),r)return setTimeout(function(){r.call(s,a[n].call(s,e))}),this;if(this.length>1){for(s=e===!0?this:this.transpose();u<s.length;u++)i[u]=t[n](s[u]);return i}return t[n](this[0],e)}})(n[e])}("cumsum cumprod".split(" ")),function(n){for(var e=0;e<n.length;e++)(function(n){a[n]=function(e,r){var i=[],u=0,s=this;if(o(e)&&(r=e,e=!1),r)return setTimeout(function(){r.call(s,a[n].call(s,e))}),this;if(this.length>1){for("sumrow"!==n&&(s=e===!0?this:this.transpose());u<s.length;u++)i[u]=t[n](s[u]);
return e===!0?t[n](t.utils.toVector(i)):i}return t[n](this[0],e)}})(n[e])}("sum sumsqrd sumsqerr sumrow product min max mean meansqerr geomean median diff mode range variance stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(n){for(var e=0;e<n.length;e++)(function(n){a[n]=function(){var e=[],r=0,i=this,u=Array.prototype.slice.call(arguments);if(o(u[u.length-1])){var s=u[u.length-1],c=u.slice(0,u.length-1);return setTimeout(function(){s.call(i,a[n].apply(i,c))}),this}var s=void 0,l=function(e){return t[n].apply(i,[e].concat(u))};if(this.length>1){for(i=i.transpose();r<i.length;r++)e[r]=l(i[r]);return e}return l(this[0])}})(n[e])}("quantiles percentileOfScore".split(" "))}(this.jStat,Math),function(t,n){t.gammaln=function(t){var e,r,i,o=0,a=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015;for(i=(r=e=t)+5.5,i-=(e+.5)*n.log(i);6>o;o++)u+=a[o]/++r;return n.log(2.5066282746310007*u/e)-i},t.gammafn=function(t){var e,r,i,o,a=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],u=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],s=!1,c=0,l=0,f=0,h=t;if(0>=h){if(o=h%1+3.6e-16,!o)return 1/0;s=(1&h?-1:1)*n.PI/n.sin(n.PI*o),h=1-h}for(i=h,r=1>h?h++:(h-=c=(0|h)-1)-1,e=0;8>e;++e)f=(f+a[e])*r,l=l*r+u[e];if(o=f/l+1,h>i)o/=i;else if(i>h)for(e=0;c>e;++e)o*=h,h++;return s&&(o=s/o),o},t.gammap=function(n,e){return t.lowRegGamma(n,e)*t.gammafn(n)},t.lowRegGamma=function(e,r){var i,o=t.gammaln(e),a=e,u=1/e,s=u,c=r+1-e,l=1/1e-30,f=1/c,h=f,p=1,d=-~(8.5*n.log(e>=1?e:1/e)+.4*e+17);if(0>r||0>=e)return NaN;if(e+1>r){for(;d>=p;p++)u+=s*=r/++a;return u*n.exp(-r+e*n.log(r)-o)}for(;d>=p;p++)i=-p*(p-e),c+=2,f=i*f+c,l=c+i/l,f=1/f,h*=f*l;return 1-h*n.exp(-r+e*n.log(r)-o)},t.factorialln=function(n){return 0>n?NaN:t.gammaln(n+1)},t.factorial=function(n){return 0>n?NaN:t.gammafn(n+1)},t.combination=function(e,r){return e>170||r>170?n.exp(t.combinationln(e,r)):t.factorial(e)/t.factorial(r)/t.factorial(e-r)},t.combinationln=function(n,e){return t.factorialln(n)-t.factorialln(e)-t.factorialln(n-e)},t.permutation=function(n,e){return t.factorial(n)/t.factorial(n-e)},t.betafn=function(e,r){return 0>=e||0>=r?void 0:e+r>170?n.exp(t.betaln(e,r)):t.gammafn(e)*t.gammafn(r)/t.gammafn(e+r)},t.betaln=function(n,e){return t.gammaln(n)+t.gammaln(e)-t.gammaln(n+e)},t.betacf=function(t,e,r){var i,o,a,u,s=1e-30,c=1,l=e+r,f=e+1,h=e-1,p=1,d=1-l*t/f;for(n.abs(d)<s&&(d=s),d=1/d,u=d;100>=c&&(i=2*c,o=c*(r-c)*t/((h+i)*(e+i)),d=1+o*d,n.abs(d)<s&&(d=s),p=1+o/p,n.abs(p)<s&&(p=s),d=1/d,u*=d*p,o=-(e+c)*(l+c)*t/((e+i)*(f+i)),d=1+o*d,n.abs(d)<s&&(d=s),p=1+o/p,n.abs(p)<s&&(p=s),d=1/d,a=d*p,u*=a,!(n.abs(a-1)<3e-7));c++);return u},t.gammapinv=function(e,r){var i,o,a,u,s,c,l,f=0,h=r-1,p=1e-8,d=t.gammaln(r);if(e>=1)return n.max(100,r+100*n.sqrt(r));if(0>=e)return 0;for(r>1?(c=n.log(h),l=n.exp(h*(c-1)-d),s=.5>e?e:1-e,a=n.sqrt(-2*n.log(s)),i=(2.30753+.27061*a)/(1+a*(.99229+.04481*a))-a,.5>e&&(i=-i),i=n.max(.001,r*n.pow(1-1/(9*r)-i/(3*n.sqrt(r)),3))):(a=1-r*(.253+.12*r),i=a>e?n.pow(e/a,1/r):1-n.log(1-(e-a)/(1-a)));12>f;f++){if(0>=i)return 0;if(o=t.lowRegGamma(r,i)-e,a=r>1?l*n.exp(-(i-h)+h*(n.log(i)-c)):n.exp(-i+h*n.log(i)-d),u=o/a,i-=a=u/(1-.5*n.min(1,u*((r-1)/i-1))),0>=i&&(i=.5*(i+a)),n.abs(a)<p*i)break}return i},t.erf=function(t){var e,r,i,o,a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,9.6467911e-11,2.394038e-12,-6.886027e-12,8.94487e-13,3.13092e-13,-1.12708e-13,3.81e-16,7.106e-15,-1.523e-15,-9.4e-17,1.21e-16,-2.8e-17],u=a.length-1,s=!1,c=0,l=0;for(0>t&&(t=-t,s=!0),e=2/(2+t),r=4*e-2;u>0;u--)i=c,c=r*c-l+a[u],l=i;return o=e*n.exp(-t*t+.5*(a[0]+r*c)-l),s?o-1:1-o},t.erfc=function(n){return 1-t.erf(n)},t.erfcinv=function(e){var r,i,o,a,u=0;if(e>=2)return-100;if(0>=e)return 100;for(a=1>e?e:2-e,o=n.sqrt(-2*n.log(a/2)),r=-.70711*((2.30753+.27061*o)/(1+o*(.99229+.04481*o))-o);2>u;u++)i=t.erfc(r)-a,r+=i/(1.1283791670955126*n.exp(-r*r)-r*i);return 1>e?r:-r},t.ibetainv=function(e,r,i){var o,a,u,s,c,l,f,h,p,d,g,v=1e-8,m=r-1,y=i-1,b=0;if(0>=e)return 0;if(e>=1)return 1;for(r>=1&&i>=1?(u=.5>e?e:1-e,s=n.sqrt(-2*n.log(u)),f=(2.30753+.27061*s)/(1+s*(.99229+.04481*s))-s,.5>e&&(f=-f),h=(f*f-3)/6,p=2/(1/(2*r-1)+1/(2*i-1)),d=f*n.sqrt(h+p)/p-(1/(2*i-1)-1/(2*r-1))*(h+5/6-2/(3*p)),f=r/(r+i*n.exp(2*d))):(o=n.log(r/(r+i)),a=n.log(i/(r+i)),s=n.exp(r*o)/r,c=n.exp(i*a)/i,d=s+c,f=s/d>e?n.pow(r*d*e,1/r):1-n.pow(i*d*(1-e),1/i)),g=-t.gammaln(r)-t.gammaln(i)+t.gammaln(r+i);10>b;b++){if(0===f||1===f)return f;if(l=t.ibeta(f,r,i)-e,s=n.exp(m*n.log(f)+y*n.log(1-f)+g),c=l/s,f-=s=c/(1-.5*n.min(1,c*(m/f-y/(1-f)))),0>=f&&(f=.5*(f+s)),f>=1&&(f=.5*(f+s+1)),n.abs(s)<v*f&&b>0)break}return f},t.ibeta=function(e,r,i){var o=0===e||1===e?0:n.exp(t.gammaln(r+i)-t.gammaln(r)-t.gammaln(i)+r*n.log(e)+i*n.log(1-e));return 0>e||e>1?!1:(r+1)/(r+i+2)>e?o*t.betacf(e,r,i)/r:1-o*t.betacf(1-e,i,r)/i},t.randn=function(e,r){var i,o,a,u,s;if(r||(r=e),e)return t.create(e,r,function(){return t.randn()});do i=n.random(),o=1.7156*(n.random()-.5),a=i-.449871,u=n.abs(o)+.386595,s=a*a+u*(.196*u-.25472*a);while(s>.27597&&(s>.27846||o*o>-4*n.log(i)*i*i));return o/i},t.randg=function(e,r,i){var o,a,u,s,c,l,f=e;if(i||(i=r),e||(e=1),r)return l=t.zeros(r,i),l.alter(function(){return t.randg(e)}),l;1>e&&(e+=1),o=e-1/3,a=1/n.sqrt(9*o);do{do c=t.randn(),s=1+a*c;while(0>=s);s=s*s*s,u=n.random()}while(u>1-.331*n.pow(c,4)&&n.log(u)>.5*c*c+o*(1-s+n.log(s)));if(e==f)return o*s;do u=n.random();while(0===u);return n.pow(u,1/f)*o*s},function(n){for(var e=0;e<n.length;e++)(function(n){t.fn[n]=function(){return t(t.map(this,function(e){return t[n](e)}))}})(n[e])}("gammaln gammafn factorial factorialln".split(" ")),function(n){for(var e=0;e<n.length;e++)(function(n){t.fn[n]=function(){return t(t[n].apply(null,arguments))}})(n[e])}("randn".split(" "))}(this.jStat,Math),function(t,n){!function(n){for(var e=0;e<n.length;e++)(function(n){t[n]=function(t,n,e){return this instanceof arguments.callee?(this._a=t,this._b=n,this._c=e,this):new arguments.callee(t,n,e)},t.fn[n]=function(e,r,i){var o=t[n](e,r,i);return o.data=this,o},t[n].prototype.sample=function(e){var r=this._a,i=this._b,o=this._c;return e?t.alter(e,function(){return t[n].sample(r,i,o)}):t[n].sample(r,i,o)},function(e){for(var r=0;r<e.length;r++)(function(e){t[n].prototype[e]=function(r){var i=this._a,o=this._b,a=this._c;return r||0===r||(r=this.data),"number"!=typeof r?t.fn.map.call(r,function(r){return t[n][e](r,i,o,a)}):t[n][e](r,i,o,a)}})(e[r])}("pdf cdf inv".split(" ")),function(e){for(var r=0;r<e.length;r++)(function(e){t[n].prototype[e]=function(){return t[n][e](this._a,this._b,this._c)}})(e[r])}("mean median mode variance".split(" "))})(n[e])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy lognormal noncentralt normal pareto studentt weibull uniform  binomial negbin hypgeom poisson triangular".split(" ")),t.extend(t.beta,{pdf:function(e,r,i){return e>1||0>e?0:1==r&&1==i?1:512>r||512>i?n.pow(e,r-1)*n.pow(1-e,i-1)/t.betafn(r,i):n.exp((r-1)*n.log(e)+(i-1)*n.log(1-e)-t.betaln(r,i))},cdf:function(n,e,r){return n>1||0>n?1*(n>1):t.ibeta(n,e,r)},inv:function(n,e,r){return t.ibetainv(n,e,r)},mean:function(t,n){return t/(t+n)},median:function(n,e){return t.ibetainv(.5,n,e)},mode:function(t,n){return(t-1)/(t+n-2)},sample:function(n,e){var r=t.randg(n);return r/(r+t.randg(e))},variance:function(t,e){return t*e/(n.pow(t+e,2)*(t+e+1))}}),t.extend(t.centralF,{pdf:function(e,r,i){var o,a,u;if(!(0>e))return 2>=r?0===e&&2>r?1/0:0===e&&2===r?1:n.sqrt(n.pow(r*e,r)*n.pow(i,i)/n.pow(r*e+i,r+i))/(e*t.betafn(r/2,i/2)):(o=r*e/(i+e*r),a=i/(i+e*r),u=r*a/2,u*t.binomial.pdf((r-2)/2,(r+i-2)/2,o))},cdf:function(n,e,r){return 0>n?0:t.ibeta(e*n/(e*n+r),e/2,r/2)},inv:function(n,e,r){return r/(e*(1/t.ibetainv(n,e/2,r/2)-1))},mean:function(t,n){return n>2?n/(n-2):void 0},mode:function(t,n){return t>2?n*(t-2)/(t*(n+2)):void 0},sample:function(n,e){var r=2*t.randg(n/2),i=2*t.randg(e/2);return r/n/(i/e)},variance:function(t,n){return 4>=n?void 0:2*n*n*(t+n-2)/(t*(n-2)*(n-2)*(n-4))}}),t.extend(t.cauchy,{pdf:function(t,e,r){return r/(n.pow(t-e,2)+n.pow(r,2))/n.PI},cdf:function(t,e,r){return n.atan((t-e)/r)/n.PI+.5},inv:function(t,e,r){return e+r*n.tan(n.PI*(t-.5))},median:function(t,n){return t},mode:function(t,n){return t},sample:function(e,r){return t.randn()*n.sqrt(1/(2*t.randg(.5)))*r+e}}),t.extend(t.chisquare,{pdf:function(e,r){return 0===e&&2===r?.5:n.exp((r/2-1)*n.log(e)-e/2-r/2*n.log(2)-t.gammaln(r/2))},cdf:function(n,e){return 0>n?0:t.lowRegGamma(e/2,n/2)},inv:function(n,e){return 2*t.gammapinv(n,.5*e)},mean:function(t){return t},median:function(t){return t*n.pow(1-2/(9*t),3)},mode:function(t){return t-2>0?t-2:0},sample:function(n){return 2*t.randg(n/2)},variance:function(t){return 2*t}}),t.extend(t.exponential,{pdf:function(t,e){return 0>t?0:e*n.exp(-e*t)},cdf:function(t,e){return 0>t?0:1-n.exp(-e*t)},inv:function(t,e){return-n.log(1-t)/e},mean:function(t){return 1/t},median:function(t){return 1/t*n.log(2)},mode:function(t){return 0},sample:function(t){return-1/t*n.log(n.random())},variance:function(t){return n.pow(t,-2)}}),t.extend(t.gamma,{pdf:function(e,r,i){return n.exp((r-1)*n.log(e)-e/i-t.gammaln(r)-r*n.log(i))},cdf:function(n,e,r){return 0>n?0:t.lowRegGamma(e,n/r)},inv:function(n,e,r){return t.gammapinv(n,e)*r},mean:function(t,n){return t*n},mode:function(t,n){return t>1?(t-1)*n:void 0},sample:function(n,e){return t.randg(n)*e},variance:function(t,n){return t*n*n}}),t.extend(t.invgamma,{pdf:function(e,r,i){return n.exp(-(r+1)*n.log(e)-i/e-t.gammaln(r)+r*n.log(i))},cdf:function(n,e,r){return 0>=n?0:1-t.lowRegGamma(e,r/n)},inv:function(n,e,r){return r/t.gammapinv(1-n,e)},mean:function(t,n){return t>1?n/(t-1):void 0},mode:function(t,n){return n/(t+1)},sample:function(n,e){return e/t.randg(n)},variance:function(t,n){return 2>=t?void 0:n*n/((t-1)*(t-1)*(t-2))}}),t.extend(t.kumaraswamy,{pdf:function(t,e,r){return 0===t&&1===e?r:1===t&&1===r?e:n.exp(n.log(e)+n.log(r)+(e-1)*n.log(t)+(r-1)*n.log(1-n.pow(t,e)))},cdf:function(t,e,r){return 0>t?0:t>1?1:1-n.pow(1-n.pow(t,e),r)},inv:function(t,e,r){return n.pow(1-n.pow(1-t,1/r),1/e)},mean:function(n,e){return e*t.gammafn(1+1/n)*t.gammafn(e)/t.gammafn(1+1/n+e)},median:function(t,e){return n.pow(1-n.pow(2,-1/e),1/t)},mode:function(t,e){return t>=1&&e>=1&&1!==t&&1!==e?n.pow((t-1)/(t*e-1),1/t):void 0},variance:function(t,n){throw new Error("variance not yet implemented")}}),t.extend(t.lognormal,{pdf:function(t,e,r){return n.exp(-n.log(t)-.5*n.log(2*n.PI)-n.log(r)-n.pow(n.log(t)-e,2)/(2*r*r))},cdf:function(e,r,i){return 0>e?0:.5+.5*t.erf((n.log(e)-r)/n.sqrt(2*i*i))},inv:function(e,r,i){return n.exp(-1.4142135623730951*i*t.erfcinv(2*e)+r)},mean:function(t,e){return n.exp(t+e*e/2)},median:function(t,e){return n.exp(t)},mode:function(t,e){return n.exp(t-e*e)},sample:function(e,r){return n.exp(t.randn()*r+e)},variance:function(t,e){return(n.exp(e*e)-1)*n.exp(2*t+e*e)}}),t.extend(t.noncentralt,{pdf:function(e,r,i){var o=1e-14;return n.abs(i)<o?t.studentt.pdf(e,r):n.abs(e)<o?n.exp(t.gammaln((r+1)/2)-i*i/2-.5*n.log(n.PI*r)-t.gammaln(r/2)):r/e*(t.noncentralt.cdf(e*n.sqrt(1+2/r),r+2,i)-t.noncentralt.cdf(e,r,i))},cdf:function(e,r,i){var o=1e-14,a=200;if(n.abs(i)<o)return t.studentt.cdf(e,r);var u=!1;0>e&&(u=!0,i=-i);for(var s=t.normal.cdf(-i,0,1),c=o+1,l=c,f=e*e/(e*e+r),h=0,p=n.exp(-i*i/2),d=n.exp(-i*i/2-.5*n.log(2)-t.gammaln(1.5))*i;a>h||l>o||c>o;)l=c,h>0&&(p*=i*i/(2*h),d*=i*i/(2*(h+.5))),c=p*t.beta.cdf(f,h+.5,r/2)+d*t.beta.cdf(f,h+1,r/2),s+=.5*c,h++;return u?1-s:s}}),t.extend(t.normal,{pdf:function(t,e,r){return n.exp(-.5*n.log(2*n.PI)-n.log(r)-n.pow(t-e,2)/(2*r*r))},cdf:function(e,r,i){return.5*(1+t.erf((e-r)/n.sqrt(2*i*i)))},inv:function(n,e,r){return-1.4142135623730951*r*t.erfcinv(2*n)+e},mean:function(t,n){return t},median:function(t,n){return t},mode:function(t,n){return t},sample:function(n,e){return t.randn()*e+n},variance:function(t,n){return n*n}}),t.extend(t.pareto,{pdf:function(t,e,r){return e>t?void 0:r*n.pow(e,r)/n.pow(t,r+1)},cdf:function(t,e,r){return e>t?0:1-n.pow(e/t,r)},inv:function(t,e,r){return e/n.pow(1-t,1/r)},mean:function(t,e){return 1>=e?void 0:e*n.pow(t,e)/(e-1)},median:function(t,e){return t*(e*n.SQRT2)},mode:function(t,n){return t},variance:function(t,e){return 2>=e?void 0:t*t*e/(n.pow(e-1,2)*(e-2))}}),t.extend(t.studentt,{pdf:function(e,r){return r=r>1e100?1e100:r,1/(n.sqrt(r)*t.betafn(.5,r/2))*n.pow(1+e*e/r,-((r+1)/2))},cdf:function(e,r){var i=r/2;return t.ibeta((e+n.sqrt(e*e+r))/(2*n.sqrt(e*e+r)),i,i)},inv:function(e,r){var i=t.ibetainv(2*n.min(e,1-e),.5*r,.5);return i=n.sqrt(r*(1-i)/i),e>.5?i:-i},mean:function(t){return t>1?0:void 0},median:function(t){return 0},mode:function(t){return 0},sample:function(e){return t.randn()*n.sqrt(e/(2*t.randg(e/2)))},variance:function(t){return t>2?t/(t-2):t>1?1/0:void 0}}),t.extend(t.weibull,{pdf:function(t,e,r){return 0>t?0:r/e*n.pow(t/e,r-1)*n.exp(-n.pow(t/e,r))},cdf:function(t,e,r){return 0>t?0:1-n.exp(-n.pow(t/e,r))},inv:function(t,e,r){return e*n.pow(-n.log(1-t),1/r)},mean:function(n,e){return n*t.gammafn(1+1/e)},median:function(t,e){return t*n.pow(n.log(2),1/e)},mode:function(t,e){return 1>=e?void 0:t*n.pow((e-1)/e,1/e)},sample:function(t,e){return t*n.pow(-n.log(n.random()),1/e)},variance:function(e,r){return e*e*t.gammafn(1+2/r)-n.pow(this.mean(e,r),2)}}),t.extend(t.uniform,{pdf:function(t,n,e){return n>t||t>e?0:1/(e-n)},cdf:function(t,n,e){return n>t?0:e>t?(t-n)/(e-n):1},inv:function(t,n,e){return n+t*(e-n)},mean:function(t,n){return.5*(t+n)},median:function(n,e){return t.mean(n,e)},mode:function(t,n){throw new Error("mode is not yet implemented")},sample:function(t,e){return t/2+e/2+(e/2-t/2)*(2*n.random()-1)},variance:function(t,e){return n.pow(e-t,2)/12}}),t.extend(t.binomial,{pdf:function(e,r,i){return 0===i||1===i?r*i===e?1:0:t.combination(r,e)*n.pow(i,e)*n.pow(1-i,r-e)},cdf:function(n,e,r){var i=[],o=0;if(0>n)return 0;if(e>n){for(;n>=o;o++)i[o]=t.binomial.pdf(o,e,r);return t.sum(i)}return 1}}),t.extend(t.negbin,{pdf:function(e,r,i){return e!==e|0?!1:0>e?0:t.combination(e+r-1,r-1)*n.pow(1-i,e)*n.pow(i,r)},cdf:function(n,e,r){var i=0,o=0;if(0>n)return 0;for(;n>=o;o++)i+=t.negbin.pdf(o,e,r);return i}}),t.extend(t.hypgeom,{pdf:function(e,r,i,o){if(e!==e|0)return!1;if(0>e||i-(r-o)>e)return 0;if(e>o||e>i)return 0;if(2*i>r)return 2*o>r?t.hypgeom.pdf(r-i-o+e,r,r-i,r-o):t.hypgeom.pdf(o-e,r,r-i,o);if(2*o>r)return t.hypgeom.pdf(i-e,r,i,r-o);if(o>i)return t.hypgeom.pdf(e,r,o,i);for(var a=1,u=0,s=0;e>s;s++){for(;a>1&&o>u;)a*=1-i/(r-u),u++;a*=(o-s)*(i-s)/((s+1)*(r-i-o+s+1))}for(;o>u;u++)a*=1-i/(r-u);return n.min(1,n.max(0,a))},cdf:function(e,r,i,o){if(0>e||i-(r-o)>e)return 0;if(e>=o||e>=i)return 1;if(2*i>r)return 2*o>r?t.hypgeom.cdf(r-i-o+e,r,r-i,r-o):1-t.hypgeom.cdf(o-e-1,r,r-i,o);if(2*o>r)return 1-t.hypgeom.cdf(i-e-1,r,i,r-o);if(o>i)return t.hypgeom.cdf(e,r,o,i);for(var a=1,u=1,s=0,c=0;e>c;c++){for(;a>1&&o>s;){var l=1-i/(r-s);u*=l,a*=l,s++}u*=(o-c)*(i-c)/((c+1)*(r-i-o+c+1)),a+=u}for(;o>s;s++)a*=1-i/(r-s);return n.min(1,n.max(0,a))}}),t.extend(t.poisson,{pdf:function(e,r){return n.pow(r,e)*n.exp(-r)/t.factorial(e)},cdf:function(n,e){var r=[],i=0;if(0>n)return 0;for(;n>=i;i++)r.push(t.poisson.pdf(i,e));return t.sum(r)},mean:function(t){return t},variance:function(t){return t},sample:function(t){var e=1,r=0,i=n.exp(-t);do r++,e*=n.random();while(e>i);return r-1}}),t.extend(t.triangular,{pdf:function(t,n,e,r){return n>=e||n>r||r>e?NaN:n>t||t>e?0:r>t?2*(t-n)/((e-n)*(r-n)):t===r?2/(e-n):2*(e-t)/((e-n)*(e-r))},cdf:function(t,e,r,i){return e>=r||e>i||i>r?NaN:e>=t?0:t>=r?1:i>=t?n.pow(t-e,2)/((r-e)*(i-e)):1-n.pow(r-t,2)/((r-e)*(r-i))},mean:function(t,n,e){return(t+n+e)/3},median:function(t,e,r){return(t+e)/2>=r?e-n.sqrt((e-t)*(e-r))/n.sqrt(2):r>(t+e)/2?t+n.sqrt((e-t)*(r-t))/n.sqrt(2):void 0},mode:function(t,n,e){return e},sample:function(t,e,r){var i=n.random();return(r-t)/(e-t)>i?t+n.sqrt(i*(e-t)*(r-t)):e-n.sqrt((1-i)*(e-t)*(e-r))},variance:function(t,n,e){return(t*t+n*n+e*e-t*n-t*e-n*e)/18}})}(this.jStat,Math),function(t,n){var e=Array.prototype.push,r=t.utils.isArray;t.extend({add:function(n,e){return r(e)?(r(e[0])||(e=[e]),t.map(n,function(t,n,r){return t+e[n][r]})):t.map(n,function(t){return t+e})},subtract:function(n,e){return r(e)?(r(e[0])||(e=[e]),t.map(n,function(t,n,r){return t-e[n][r]||0})):t.map(n,function(t){return t-e})},divide:function(n,e){return r(e)?(r(e[0])||(e=[e]),t.multiply(n,t.inv(e))):t.map(n,function(t){return t/e})},multiply:function(n,e){var i,o,a,u,s=n.length,c=n[0].length,l=t.zeros(s,a=r(e)?e[0].length:c),f=0;if(r(e)){for(;a>f;f++)for(i=0;s>i;i++){for(u=0,o=0;c>o;o++)u+=n[i][o]*e[o][f];l[i][f]=u}return 1===s&&1===f?l[0][0]:l}return t.map(n,function(t){return t*e})},dot:function(n,e){r(n[0])||(n=[n]),r(e[0])||(e=[e]);for(var i,o,a=1===n[0].length&&1!==n.length?t.transpose(n):n,u=1===e[0].length&&1!==e.length?t.transpose(e):e,s=[],c=0,l=a.length,f=a[0].length;l>c;c++){for(s[c]=[],i=0,o=0;f>o;o++)i+=a[c][o]*u[c][o];s[c]=i}return 1===s.length?s[0]:s},pow:function(e,r){return t.map(e,function(t){return n.pow(t,r)})},exp:function(e){return t.map(e,function(t){return n.exp(t)})},log:function(e){return t.map(e,function(t){return n.log(t)})},abs:function(e){return t.map(e,function(t){return n.abs(t)})},norm:function(t,e){var i=0,o=0;for(isNaN(e)&&(e=2),r(t[0])&&(t=t[0]);o<t.length;o++)i+=n.pow(n.abs(t[o]),e);return n.pow(i,1/e)},angle:function(e,r){return n.acos(t.dot(e,r)/(t.norm(e)*t.norm(r)))},aug:function(t,n){for(var r=t.slice(),i=0;i<r.length;i++)e.apply(r[i],n[i]);return r},inv:function(n){for(var e,r=n.length,i=n[0].length,o=t.identity(r,i),a=t.gauss_jordan(n,o),u=[],s=0;r>s;s++)for(u[s]=[],e=i;e<a[0].length;e++)u[s][e-i]=a[s][e];return u},det:function(t){var n,e=t.length,r=2*e,i=new Array(r),o=e-1,a=r-1,u=o-e+1,s=a,c=0,l=0;if(2===e)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(;r>c;c++)i[c]=1;for(c=0;e>c;c++){for(n=0;e>n;n++)i[0>u?u+e:u]*=t[c][n],i[e>s?s+e:s]*=t[c][n],u++,s--;u=--o-e+1,s=--a}for(c=0;e>c;c++)l+=i[c];for(;r>c;c++)l-=i[c];return l},gauss_elimination:function(e,r){var i,o,a,u,s=0,c=0,l=e.length,f=e[0].length,h=1,p=0,d=[];for(e=t.aug(e,r),i=e[0].length,s=0;l>s;s++){for(o=e[s][s],c=s,u=s+1;f>u;u++)o<n.abs(e[u][s])&&(o=e[u][s],c=u);if(c!=s)for(u=0;i>u;u++)a=e[s][u],e[s][u]=e[c][u],e[c][u]=a;for(c=s+1;l>c;c++)for(h=e[c][s]/e[s][s],u=s;i>u;u++)e[c][u]=e[c][u]-h*e[s][u]}for(s=l-1;s>=0;s--){for(p=0,c=s+1;l-1>=c;c++)p+=d[c]*e[s][c];d[s]=(e[s][i-1]-p)/e[s][s]}return d},gauss_jordan:function(e,r){for(var i=t.aug(e,r),o=i.length,a=i[0].length,u=0;o>u;u++){for(var s=u,l=u+1;o>l;l++)n.abs(i[l][u])>n.abs(i[s][u])&&(s=l);var f=i[u];i[u]=i[s],i[s]=f;for(var l=u+1;o>l;l++){c=i[l][u]/i[u][u];for(var h=u;a>h;h++)i[l][h]-=i[u][h]*c}}for(var u=o-1;u>=0;u--){c=i[u][u];for(var l=0;u>l;l++)for(var h=a-1;h>u-1;h--)i[l][h]-=i[u][h]*i[l][u]/c;i[u][u]/=c;for(var h=o;a>h;h++)i[u][h]/=c}return i},lu:function(t,n){throw new Error("lu not yet implemented")},cholesky:function(t,n){throw new Error("cholesky not yet implemented")},gauss_jacobi:function(e,r,i,o){for(var a,u,s,c,l=0,f=0,h=e.length,p=[],d=[],g=[];h>l;l++)for(p[l]=[],d[l]=[],g[l]=[],f=0;h>f;f++)l>f?(p[l][f]=e[l][f],d[l][f]=g[l][f]=0):f>l?(d[l][f]=e[l][f],p[l][f]=g[l][f]=0):(g[l][f]=e[l][f],p[l][f]=d[l][f]=0);for(s=t.multiply(t.multiply(t.inv(g),t.add(p,d)),-1),u=t.multiply(t.inv(g),r),a=i,c=t.add(t.multiply(s,i),u),l=2;n.abs(t.norm(t.subtract(c,a)))>o;)a=c,c=t.add(t.multiply(s,a),u),l++;return c},gauss_seidel:function(e,r,i,o){for(var a,u,s,c,l,f=0,h=e.length,p=[],d=[],g=[];h>f;f++)for(p[f]=[],d[f]=[],g[f]=[],a=0;h>a;a++)f>a?(p[f][a]=e[f][a],d[f][a]=g[f][a]=0):a>f?(d[f][a]=e[f][a],p[f][a]=g[f][a]=0):(g[f][a]=e[f][a],p[f][a]=d[f][a]=0);for(c=t.multiply(t.multiply(t.inv(t.add(g,p)),d),-1),s=t.multiply(t.inv(t.add(g,p)),r),u=i,l=t.add(t.multiply(c,i),s),f=2;n.abs(t.norm(t.subtract(l,u)))>o;)u=l,l=t.add(t.multiply(c,u),s),f+=1;return l},SOR:function(e,r,i,o,a){for(var u,s,c,l,f,h=0,p=e.length,d=[],g=[],v=[];p>h;h++)for(d[h]=[],g[h]=[],v[h]=[],u=0;p>u;u++)h>u?(d[h][u]=e[h][u],g[h][u]=v[h][u]=0):u>h?(g[h][u]=e[h][u],d[h][u]=v[h][u]=0):(v[h][u]=e[h][u],d[h][u]=g[h][u]=0);for(l=t.multiply(t.inv(t.add(v,t.multiply(d,a))),t.subtract(t.multiply(v,1-a),t.multiply(g,a))),c=t.multiply(t.multiply(t.inv(t.add(v,t.multiply(d,a))),r),a),s=i,f=t.add(t.multiply(l,i),c),h=2;n.abs(t.norm(t.subtract(f,s)))>o;)s=f,f=t.add(t.multiply(l,s),c),h++;return f},householder:function(e){for(var r,i,o,a,u,s=e.length,c=e[0].length,l=0,f=[],h=[];s-1>l;l++){for(r=0,a=l+1;c>a;a++)r+=e[a][l]*e[a][l];for(u=e[l+1][l]>0?-1:1,r=u*n.sqrt(r),i=n.sqrt((r*r-e[l+1][l]*r)/2),f=t.zeros(s,1),f[l+1][0]=(e[l+1][l]-r)/(2*i),o=l+2;s>o;o++)f[o][0]=e[o][l]/(2*i);h=t.subtract(t.identity(s,c),t.multiply(t.multiply(f,t.transpose(f)),2)),e=t.multiply(h,t.multiply(e,h))}return e},QR:function(e,r){for(var i,o,a,u,s,c,l=e.length,f=e[0].length,h=0,p=[],d=[],g=[];l-1>h;h++){for(o=0,i=h+1;f>i;i++)o+=e[i][h]*e[i][h];for(s=e[h+1][h]>0?-1:1,o=s*n.sqrt(o),a=n.sqrt((o*o-e[h+1][h]*o)/2),p=t.zeros(l,1),p[h+1][0]=(e[h+1][h]-o)/(2*a),u=h+2;l>u;u++)p[u][0]=e[u][h]/(2*a);d=t.subtract(t.identity(l,f),t.multiply(t.multiply(p,t.transpose(p)),2)),e=t.multiply(d,e),r=t.multiply(d,r)}for(h=l-1;h>=0;h--){for(c=0,i=h+1;f-1>=i;i++)c=g[i]*e[h][i];g[h]=r[h][0]/e[h][h]}return g},jacobi:function(e){for(var r,i,o,a,u,s,c,l,f=1,h=0,p=e.length,d=t.identity(p,p),g=[];1===f;){for(h++,s=e[0][1],a=0,u=1,i=0;p>i;i++)for(o=0;p>o;o++)i!=o&&s<n.abs(e[i][o])&&(s=n.abs(e[i][o]),a=i,u=o);for(c=e[a][a]===e[u][u]?e[a][u]>0?n.PI/4:-n.PI/4:n.atan(2*e[a][u]/(e[a][a]-e[u][u]))/2,l=t.identity(p,p),l[a][a]=n.cos(c),l[a][u]=-n.sin(c),l[u][a]=n.sin(c),l[u][u]=n.cos(c),d=t.multiply(d,l),r=t.multiply(t.multiply(t.inv(l),e),l),e=r,f=0,i=1;p>i;i++)for(o=1;p>o;o++)i!=o&&n.abs(e[i][o])>.001&&(f=1)}for(i=0;p>i;i++)g.push(e[i][i]);return[d,g]},rungekutta:function(t,n,e,r,i,o){var a,u,s,c,l;if(2===o)for(;e>=r;)a=n*t(r,i),u=n*t(r+n,i+a),s=i+(a+u)/2,i=s,r+=n;if(4===o)for(;e>=r;)a=n*t(r,i),u=n*t(r+n/2,i+a/2),c=n*t(r+n/2,i+u/2),l=n*t(r+n,i+c),s=i+(a+2*u+2*c+l)/6,i=s,r+=n;return i},romberg:function(t,e,r,i){for(var o,a,u,s,c,l=0,f=(r-e)/2,h=[],p=[],d=[];i/2>l;){for(c=t(e),u=e,s=0;r>=u;u+=f,s++)h[s]=u;for(o=h.length,u=1;o-1>u;u++)c+=(u%2!==0?4:2)*t(h[u]);c=f/3*(c+t(r)),d[l]=c,f/=2,l++}for(a=d.length,o=1;1!==a;){for(u=0;a-1>u;u++)p[u]=(n.pow(4,o)*d[u+1]-d[u])/(n.pow(4,o)-1);a=p.length,d=p,p=[],o++}return d},richardson:function(t,e,r,i){function o(t,n){for(var e,r=0,i=t.length;i>r;r++)t[r]===n&&(e=r);return e}for(var a,u,s,c,l,f=(t.length,n.abs(r-t[o(t,r)+1])),h=0,p=[],d=[];i>=f;)a=o(t,r+i),u=o(t,r),p[h]=(e[a]-2*e[u]+e[2*u-a])/(i*i),i/=2,h++;for(c=p.length,s=1;1!=c;){for(l=0;c-1>l;l++)d[l]=(n.pow(4,s)*p[l+1]-p[l])/(n.pow(4,s)-1);c=d.length,p=d,d=[],s++}return p},simpson:function(t,n,e,r){for(var i,o=(e-n)/r,a=t(n),u=[],s=n,c=0,l=1;e>=s;s+=o,c++)u[c]=s;for(i=u.length;i-1>l;l++)a+=(l%2!==0?4:2)*t(u[l]);return o/3*(a+t(e))},hermite:function(t,n,e,r){for(var i,o=t.length,a=0,u=0,s=[],c=[],l=[],f=[];o>u;u++){for(s[u]=1,i=0;o>i;i++)u!=i&&(s[u]*=(r-t[i])/(t[u]-t[i]));for(c[u]=0,i=0;o>i;i++)u!=i&&(c[u]+=1/(t[u]-t[i]));l[u]=(1-2*(r-t[u])*c[u])*(s[u]*s[u]),f[u]=(r-t[u])*(s[u]*s[u]),a+=l[u]*n[u]+f[u]*e[u]}return a},lagrange:function(t,n,e){for(var r,i,o=0,a=0,u=t.length;u>a;a++){for(i=n[a],r=0;u>r;r++)a!=r&&(i*=(e-t[r])/(t[a]-t[r]));o+=i}return o},cubic_spline:function(n,e,r){for(var i,o=n.length,a=0,u=[],s=[],c=[],l=[],f=[],h=[],p=[];o-1>a;a++)f[a]=n[a+1]-n[a];for(c[0]=0,a=1;o-1>a;a++)c[a]=3/f[a]*(e[a+1]-e[a])-3/f[a-1]*(e[a]-e[a-1]);for(a=1;o-1>a;a++)u[a]=[],s[a]=[],u[a][a-1]=f[a-1],u[a][a]=2*(f[a-1]+f[a]),u[a][a+1]=f[a],s[a][0]=c[a];for(l=t.multiply(t.inv(u),s),i=0;o-1>i;i++)h[i]=(e[i+1]-e[i])/f[i]-f[i]*(l[i+1][0]+2*l[i][0])/3,p[i]=(l[i+1][0]-l[i][0])/(3*f[i]);for(i=0;o>i&&!(n[i]>r);i++);return i-=1,e[i]+(r-n[i])*h[i]+t.sq(r-n[i])*l[i]+(r-n[i])*t.sq(r-n[i])*p[i]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(n){var e,r,i=n.length,o=n[0].length,a=0,u=[],s=[],c=[],l=[],f=[],h=[],p=[],d=[],g=[],v=[];for(a=0;i>a;a++)u[a]=t.sum(n[a])/o;for(a=0;o>a;a++)for(p[a]=[],e=0;i>e;e++)p[a][e]=n[e][a]-u[e];for(p=t.transpose(p),a=0;i>a;a++)for(d[a]=[],e=0;i>e;e++)d[a][e]=t.dot([p[a]],[p[e]])/(o-1);for(c=t.jacobi(d),g=c[0],s=c[1],v=t.transpose(g),a=0;a<s.length;a++)for(e=a;e<s.length;e++)s[a]<s[e]&&(r=s[a],s[a]=s[e],s[e]=r,l=v[a],v[a]=v[e],v[e]=l);for(h=t.transpose(p),a=0;i>a;a++)for(f[a]=[],e=0;e<h.length;e++)f[a][e]=t.dot([v[a]],[h[e]]);return[n,s,v,f]}}),function(n){for(var e=0;e<n.length;e++)(function(n){t.fn[n]=function(e,r){var i=this;return r?(setTimeout(function(){r.call(i,t.fn[n].call(i,e))},15),this):"number"==typeof t[n](this,e)?t[n](this,e):t(t[n](this,e))}})(n[e])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(this.jStat,Math),function(t,n){function e(t,e,r,i){if(t>1||r>1||0>=t||0>=r)throw new Error("Proportions should be greater than 0 and less than 1");var o=(t*e+r*i)/(e+i),a=n.sqrt(o*(1-o)*(1/e+1/i));return(t-r)/a}var r=[].slice,i=t.utils.isNumber,o=t.utils.isArray;t.extend({zscore:function(){var n=r.call(arguments);return i(n[1])?(n[0]-n[1])/n[2]:(n[0]-t.mean(n[1]))/t.stdev(n[1],n[2])},ztest:function(){var e,i=r.call(arguments);return o(i[1])?(e=t.zscore(i[0],i[1],i[3]),1===i[2]?t.normal.cdf(-n.abs(e),0,1):2*t.normal.cdf(-n.abs(e),0,1)):i.length>2?(e=t.zscore(i[0],i[1],i[2]),1===i[3]?t.normal.cdf(-n.abs(e),0,1):2*t.normal.cdf(-n.abs(e),0,1)):(e=i[0],1===i[1]?t.normal.cdf(-n.abs(e),0,1):2*t.normal.cdf(-n.abs(e),0,1))}}),t.extend(t.fn,{zscore:function(t,n){return(t-this.mean())/this.stdev(n)},ztest:function(e,r,i){var o=n.abs(this.zscore(e,i));return 1===r?t.normal.cdf(-o,0,1):2*t.normal.cdf(-o,0,1)}}),t.extend({tscore:function(){var e=r.call(arguments);return 4===e.length?(e[0]-e[1])/(e[2]/n.sqrt(e[3])):(e[0]-t.mean(e[1]))/(t.stdev(e[1],!0)/n.sqrt(e[1].length))},ttest:function(){var e,o=r.call(arguments);return 5===o.length?(e=n.abs(t.tscore(o[0],o[1],o[2],o[3])),1===o[4]?t.studentt.cdf(-e,o[3]-1):2*t.studentt.cdf(-e,o[3]-1)):i(o[1])?(e=n.abs(o[0]),1==o[2]?t.studentt.cdf(-e,o[1]-1):2*t.studentt.cdf(-e,o[1]-1)):(e=n.abs(t.tscore(o[0],o[1])),1==o[2]?t.studentt.cdf(-e,o[1].length-1):2*t.studentt.cdf(-e,o[1].length-1))}}),t.extend(t.fn,{tscore:function(t){return(t-this.mean())/(this.stdev(!0)/n.sqrt(this.cols()))},ttest:function(e,r){return 1===r?1-t.studentt.cdf(n.abs(this.tscore(e)),this.cols()-1):2*t.studentt.cdf(-n.abs(this.tscore(e)),this.cols()-1)}}),t.extend({anovafscore:function(){var e,i,o,a,u,s,c,l,f=r.call(arguments);if(1===f.length){for(u=new Array(f[0].length),c=0;c<f[0].length;c++)u[c]=f[0][c];f=u}if(2===f.length)return t.variance(f[0])/t.variance(f[1]);for(i=new Array,c=0;c<f.length;c++)i=i.concat(f[c]);for(o=t.mean(i),e=0,c=0;c<f.length;c++)e+=f[c].length*n.pow(t.mean(f[c])-o,2);for(e/=f.length-1,s=0,c=0;c<f.length;c++)for(a=t.mean(f[c]),l=0;l<f[c].length;l++)s+=n.pow(f[c][l]-a,2);return s/=i.length-f.length,e/s},anovaftest:function(){var n,e,o,a,u=r.call(arguments);if(i(u[0]))return 1-t.centralF.cdf(u[0],u[1],u[2]);for(anovafscore=t.anovafscore(u),n=u.length-1,o=0,a=0;a<u.length;a++)o+=u[a].length;return e=o-n-1,1-t.centralF.cdf(anovafscore,n,e)},ftest:function(n,e,r){return 1-t.centralF.cdf(n,e,r)}}),t.extend(t.fn,{anovafscore:function(){return t.anovafscore(this.toArray())},anovaftes:function(){var n,e=0;for(n=0;n<this.length;n++)e+=this[n].length;return t.ftest(this.anovafscore(),this.length-1,e-this.length)}}),t.extend({normalci:function(){var e,i=r.call(arguments),o=new Array(2);return e=4===i.length?n.abs(t.normal.inv(i[1]/2,0,1)*i[2]/n.sqrt(i[3])):n.abs(t.normal.inv(i[1]/2,0,1)*t.stdev(i[2])/n.sqrt(i[2].length)),o[0]=i[0]-e,o[1]=i[0]+e,o},tci:function(){var e,i=r.call(arguments),o=new Array(2);return e=4===i.length?n.abs(t.studentt.inv(i[1]/2,i[3]-1)*i[2]/n.sqrt(i[3])):n.abs(t.studentt.inv(i[1]/2,i[2].length-1)*t.stdev(i[2],!0)/n.sqrt(i[2].length)),o[0]=i[0]-e,o[1]=i[0]+e,o},significant:function(t,n){return n>t}}),t.extend(t.fn,{normalci:function(n,e){return t.normalci(n,e,this.toArray())},tci:function(n,e){return t.tci(n,e,this.toArray())}}),t.extend(t.fn,{oneSidedDifferenceOfProportions:function(n,r,i,o){var a=e(n,r,i,o);return t.ztest(a,1)},twoSidedDifferenceOfProportions:function(n,r,i,o){var a=e(n,r,i,o);return t.ztest(a,2)}})}(this.jStat,Math)},{}],4:[function(n,e,r){(function(n){(function(){function i(t,n){if(t!==n){var e=null===t,r=t===A,i=t===t,o=null===n,a=n===A,u=n===n;if(t>n&&!o||!i||e&&!a&&u||r&&u)return 1;if(n>t&&!e||!u||o&&!r&&i||a&&i)return-1}return 0}function o(t,n,e){for(var r=t.length,i=e?r:-1;e?i--:++i<r;)if(n(t[i],i,t))return i;return-1}function a(t,n,e){if(n!==n)return m(t,e);for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1}function u(t){return"function"==typeof t||!1}function s(t){return null==t?"":t+""}function c(t,n){for(var e=-1,r=t.length;++e<r&&n.indexOf(t.charAt(e))>-1;);return e}function l(t,n){for(var e=t.length;e--&&n.indexOf(t.charAt(e))>-1;);return e}function f(t,n){return i(t.criteria,n.criteria)||t.index-n.index}function h(t,n,e){for(var r=-1,o=t.criteria,a=n.criteria,u=o.length,s=e.length;++r<u;){var c=i(o[r],a[r]);if(c){if(r>=s)return c;var l=e[r];return c*("asc"===l||l===!0?1:-1)}}return t.index-n.index}function p(t){return Ht[t]}function d(t){return $t[t]}function g(t,n,e){return n?t=Gt[t]:e&&(t=Qt[t]),"\\"+t}function v(t){return"\\"+Qt[t]}function m(t,n,e){for(var r=t.length,i=n+(e?0:-1);e?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function y(t){return!!t&&"object"==typeof t}function b(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function w(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;)t[e]===n&&(t[e]=H,o[++i]=e);return o}function x(t,n){for(var e,r=-1,i=t.length,o=-1,a=[];++r<i;){var u=t[r],s=n?n(u,r,t):u;r&&e===s||(e=s,a[++o]=u)}return a}function _(t){for(var n=-1,e=t.length;++n<e&&b(t.charCodeAt(n)););return n}function k(t){for(var n=t.length;n--&&b(t.charCodeAt(n)););return n}function M(t){return Zt[t]}function E(t){function n(t){if(y(t)&&!Cu(t)&&!(t instanceof b)){if(t instanceof r)return t;if(na.call(t,"__chain__")&&na.call(t,"__wrapped__"))return pr(t)}return new r(t)}function e(){}function r(t,n,e){this.__wrapped__=t,this.__actions__=e||[],this.__chain__=!!n}function b(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Na,this.__views__=[]}function X(){var t=new b(this.__wrapped__);return t.__actions__=tn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=tn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=tn(this.__views__),t}function et(){if(this.__filtered__){var t=new b(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function it(){var t=this.__wrapped__.value(),n=this.__dir__,e=Cu(t),r=0>n,i=e?t.length:0,o=$e(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,l=this.__iteratees__,f=l.length,h=0,p=ka(s,this.__takeCount__);if(!e||U>i||i==s&&p==s)return re(r&&e?t.reverse():t,this.__actions__);var d=[];t:for(;s--&&p>h;){c+=n;for(var g=-1,v=t[c];++g<f;){var m=l[g],y=m.iteratee,b=m.type,w=y(v);if(b==B)v=w;else if(!w){if(b==V)continue t;break t}}d[h++]=v}return d}function Ht(){this.__data__={}}function $t(t){return this.has(t)&&delete this.__data__[t]}function Zt(t){return"__proto__"==t?A:this.__data__[t]}function Yt(t){return"__proto__"!=t&&na.call(this.__data__,t)}function Gt(t,n){return"__proto__"!=t&&(this.__data__[t]=n),
this}function Qt(t){var n=t?t.length:0;for(this.data={hash:ma(null),set:new fa};n--;)this.push(t[n])}function Kt(t,n){var e=t.data,r="string"==typeof n||Pi(n)?e.set.has(n):e.hash[n];return r?0:-1}function Xt(t){var n=this.data;"string"==typeof t||Pi(t)?n.set.add(t):n.hash[t]=!0}function Jt(t,n){for(var e=-1,r=t.length,i=-1,o=n.length,a=Uo(r+o);++e<r;)a[e]=t[e];for(;++i<o;)a[e++]=n[i];return a}function tn(t,n){var e=-1,r=t.length;for(n||(n=Uo(r));++e<r;)n[e]=t[e];return n}function nn(t,n){for(var e=-1,r=t.length;++e<r&&n(t[e],e,t)!==!1;);return t}function en(t,n){for(var e=t.length;e--&&n(t[e],e,t)!==!1;);return t}function an(t,n){for(var e=-1,r=t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function un(t,n,e,r){for(var i=-1,o=t.length,a=r,u=a;++i<o;){var s=t[i],c=+n(s);e(c,a)&&(a=c,u=s)}return u}function sn(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[++i]=a)}return o}function cn(t,n){for(var e=-1,r=t.length,i=Uo(r);++e<r;)i[e]=n(t[e],e,t);return i}function ln(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function fn(t,n,e,r){var i=-1,o=t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function hn(t,n,e,r){var i=t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function pn(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function dn(t,n){for(var e=t.length,r=0;e--;)r+=+n(t[e])||0;return r}function gn(t,n){return t===A?n:t}function vn(t,n,e,r){return t!==A&&na.call(r,e)?t:n}function mn(t,n,e){for(var r=-1,i=Iu(n),o=i.length;++r<o;){var a=i[r],u=t[a],s=e(u,n[a],a,t,n);(s===s?s===u:u!==u)&&(u!==A||a in t)||(t[a]=s)}return t}function yn(t,n){return null==n?t:wn(n,Iu(n),t)}function bn(t,n){for(var e=-1,r=null==t,i=!r&&Ke(t),o=i?t.length:0,a=n.length,u=Uo(a);++e<a;){var s=n[e];i?u[e]=Xe(s,o)?t[s]:A:u[e]=r?A:t[s]}return u}function wn(t,n,e){e||(e={});for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}function xn(t,n,e){var r=typeof t;return"function"==r?n===A?t:ae(t,n,e):null==t?No:"object"==r?In(t):n===A?Po(t):Un(t,n)}function _n(t,n,e,r,i,o,a){var u;if(e&&(u=i?e(t,r,i):e(t)),u!==A)return u;if(!Pi(t))return t;var s=Cu(t);if(s){if(u=Ze(t),!n)return tn(t,u)}else{var c=ra.call(t),l=c==K;if(c!=tt&&c!=$&&(!l||i))return Wt[c]?Ge(t,c,n):i?t:{};if(u=Ye(l?{}:t),!n)return yn(u,t)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==t)return a[f];return o.push(t),a.push(u),(s?nn:jn)(t,function(r,i){u[i]=_n(r,n,e,i,t,o,a)}),u}function kn(t,n,e){if("function"!=typeof t)throw new Qo(W);return ha(function(){t.apply(A,e)},n)}function Mn(t,n){var e=t?t.length:0,r=[];if(!e)return r;var i=-1,o=Be(),u=o==a,s=u&&n.length>=U?ge(n):null,c=n.length;s&&(o=Kt,u=!1,n=s);t:for(;++i<e;){var l=t[i];if(u&&l===l){for(var f=c;f--;)if(n[f]===l)continue t;r.push(l)}else o(n,l,0)<0&&r.push(l)}return r}function En(t,n){var e=!0;return Da(t,function(t,r,i){return e=!!n(t,r,i)}),e}function An(t,n,e,r){var i=r,o=i;return Da(t,function(t,a,u){var s=+n(t,a,u);(e(s,i)||s===r&&s===o)&&(i=s,o=t)}),o}function Sn(t,n,e,r){var i=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),r=r===A||r>i?i:+r||0,0>r&&(r+=i),i=e>r?0:r>>>0,e>>>=0;i>e;)t[e++]=n;return t}function Nn(t,n){var e=[];return Da(t,function(t,r,i){n(t,r,i)&&e.push(t)}),e}function Cn(t,n,e,r){var i;return e(t,function(t,e,o){return n(t,e,o)?(i=r?e:t,!1):void 0}),i}function Rn(t,n,e,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];y(a)&&Ke(a)&&(e||Cu(a)||Ei(a))?n?Rn(a,n,e,r):ln(r,a):e||(r[r.length]=a)}return r}function On(t,n){return La(t,n,to)}function jn(t,n){return La(t,n,Iu)}function Tn(t,n){return za(t,n,Iu)}function Pn(t,n){for(var e=-1,r=n.length,i=-1,o=[];++e<r;){var a=n[e];Ti(t[a])&&(o[++i]=a)}return o}function Fn(t,n,e){if(null!=t){e!==A&&e in fr(t)&&(n=[e]);for(var r=0,i=n.length;null!=t&&i>r;)t=t[n[r++]];return r&&r==i?t:A}}function Dn(t,n,e,r,i,o){return t===n?!0:null==t||null==n||!Pi(t)&&!y(n)?t!==t&&n!==n:qn(t,n,Dn,e,r,i,o)}function qn(t,n,e,r,i,o,a){var u=Cu(t),s=Cu(n),c=Z,l=Z;u||(c=ra.call(t),c==$?c=tt:c!=tt&&(u=Bi(t))),s||(l=ra.call(n),l==$?l=tt:l!=tt&&(s=Bi(n)));var f=c==tt,h=l==tt,p=c==l;if(p&&!u&&!f)return ze(t,n,c);if(!i){var d=f&&na.call(t,"__wrapped__"),g=h&&na.call(n,"__wrapped__");if(d||g)return e(d?t.value():t,g?n.value():n,r,i,o,a)}if(!p)return!1;o||(o=[]),a||(a=[]);for(var v=o.length;v--;)if(o[v]==t)return a[v]==n;o.push(t),a.push(n);var m=(u?Le:Ie)(t,n,e,r,i,o,a);return o.pop(),a.pop(),m}function Ln(t,n,e){var r=n.length,i=r,o=!e;if(null==t)return!i;for(t=fr(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){a=n[r];var u=a[0],s=t[u],c=a[1];if(o&&a[2]){if(s===A&&!(u in t))return!1}else{var l=e?e(s,c,u):A;if(!(l===A?Dn(c,s,e,!0):l))return!1}}return!0}function zn(t,n){var e=-1,r=Ke(t)?Uo(t.length):[];return Da(t,function(t,i,o){r[++e]=n(t,i,o)}),r}function In(t){var n=We(t);if(1==n.length&&n[0][2]){var e=n[0][0],r=n[0][1];return function(t){return null==t?!1:t[e]===r&&(r!==A||e in fr(t))}}return function(t){return Ln(t,n)}}function Un(t,n){var e=Cu(t),r=tr(t)&&rr(n),i=t+"";return t=hr(t),function(o){if(null==o)return!1;var a=i;if(o=fr(o),(e||!r)&&!(a in o)){if(o=1==t.length?o:Fn(o,Gn(t,0,-1)),null==o)return!1;a=Ar(t),o=fr(o)}return o[a]===n?n!==A||a in o:Dn(n,o[a],A,!0)}}function Vn(t,n,e,r,i){if(!Pi(t))return t;var o=Ke(n)&&(Cu(n)||Bi(n)),a=o?A:Iu(n);return nn(a||n,function(u,s){if(a&&(s=u,u=n[s]),y(u))r||(r=[]),i||(i=[]),Bn(t,n,s,Vn,e,r,i);else{var c=t[s],l=e?e(c,u,s,t,n):A,f=l===A;f&&(l=u),l===A&&(!o||s in t)||!f&&(l===l?l===c:c!==c)||(t[s]=l)}}),t}function Bn(t,n,e,r,i,o,a){for(var u=o.length,s=n[e];u--;)if(o[u]==s)return void(t[e]=a[u]);var c=t[e],l=i?i(c,s,e,t,n):A,f=l===A;f&&(l=s,Ke(s)&&(Cu(s)||Bi(s))?l=Cu(c)?c:Ke(c)?tn(c):[]:Ii(s)||Ei(s)?l=Ei(c)?Yi(c):Ii(c)?c:{}:f=!1),o.push(s),a.push(l),f?t[e]=r(l,s,i,o,a):(l===l?l!==c:c===c)&&(t[e]=l)}function Wn(t){return function(n){return null==n?A:n[t]}}function Hn(t){var n=t+"";return t=hr(t),function(e){return Fn(e,t,n)}}function $n(t,n){for(var e=t?n.length:0;e--;){var r=n[e];if(r!=i&&Xe(r)){var i=r;pa.call(t,r,1)}}return t}function Zn(t,n){return t+ya(Aa()*(n-t+1))}function Yn(t,n,e,r,i){return i(t,function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)}),e}function Gn(t,n,e){var r=-1,i=t.length;n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),e=e===A||e>i?i:+e||0,0>e&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=Uo(i);++r<i;)o[r]=t[r+n];return o}function Qn(t,n){var e;return Da(t,function(t,r,i){return e=n(t,r,i),!e}),!!e}function Kn(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}function Xn(t,n,e){var r=Ue(),i=-1;n=cn(n,function(t){return r(t)});var o=zn(t,function(t){var e=cn(n,function(n){return n(t)});return{criteria:e,index:++i,value:t}});return Kn(o,function(t,n){return h(t,n,e)})}function Jn(t,n){var e=0;return Da(t,function(t,r,i){e+=+n(t,r,i)||0}),e}function te(t,n){var e=-1,r=Be(),i=t.length,o=r==a,u=o&&i>=U,s=u?ge():null,c=[];s?(r=Kt,o=!1):(u=!1,s=n?[]:c);t:for(;++e<i;){var l=t[e],f=n?n(l,e,t):l;if(o&&l===l){for(var h=s.length;h--;)if(s[h]===f)continue t;n&&s.push(f),c.push(l)}else r(s,f,0)<0&&((n||u)&&s.push(f),c.push(l))}return c}function ne(t,n){for(var e=-1,r=n.length,i=Uo(r);++e<r;)i[e]=t[n[e]];return i}function ee(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?Gn(t,r?0:o,r?o+1:i):Gn(t,r?o+1:0,r?i:o)}function re(t,n){var e=t;e instanceof b&&(e=e.value());for(var r=-1,i=n.length;++r<i;){var o=n[r];e=o.func.apply(o.thisArg,ln([e],o.args))}return e}function ie(t,n,e){var r=0,i=t?t.length:r;if("number"==typeof n&&n===n&&Oa>=i){for(;i>r;){var o=r+i>>>1,a=t[o];(e?n>=a:n>a)&&null!==a?r=o+1:i=o}return i}return oe(t,n,No,e)}function oe(t,n,e,r){n=e(n);for(var i=0,o=t?t.length:0,a=n!==n,u=null===n,s=n===A;o>i;){var c=ya((i+o)/2),l=e(t[c]),f=l!==A,h=l===l;if(a)var p=h||r;else p=u?h&&f&&(r||null!=l):s?h&&(r||f):null==l?!1:r?n>=l:n>l;p?i=c+1:o=c}return ka(o,Ra)}function ae(t,n,e){if("function"!=typeof t)return No;if(n===A)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)};case 5:return function(e,r,i,o,a){return t.call(n,e,r,i,o,a)}}return function(){return t.apply(n,arguments)}}function ue(t){var n=new aa(t.byteLength),e=new da(n);return e.set(new da(t)),n}function se(t,n,e){for(var r=e.length,i=-1,o=_a(t.length-r,0),a=-1,u=n.length,s=Uo(u+o);++a<u;)s[a]=n[a];for(;++i<r;)s[e[i]]=t[i];for(;o--;)s[a++]=t[i++];return s}function ce(t,n,e){for(var r=-1,i=e.length,o=-1,a=_a(t.length-i,0),u=-1,s=n.length,c=Uo(a+s);++o<a;)c[o]=t[o];for(var l=o;++u<s;)c[l+u]=n[u];for(;++r<i;)c[l+e[r]]=t[o++];return c}function le(t,n){return function(e,r,i){var o=n?n():{};if(r=Ue(r,i,3),Cu(e))for(var a=-1,u=e.length;++a<u;){var s=e[a];t(o,s,r(s,a,e),e)}else Da(e,function(n,e,i){t(o,n,r(n,e,i),i)});return o}}function fe(t){return mi(function(n,e){var r=-1,i=null==n?0:e.length,o=i>2?e[i-2]:A,a=i>2?e[2]:A,u=i>1?e[i-1]:A;for("function"==typeof o?(o=ae(o,u,5),i-=2):(o="function"==typeof u?u:A,i-=o?1:0),a&&Je(e[0],e[1],a)&&(o=3>i?A:o,i=1);++r<i;){var s=e[r];s&&t(n,s,o)}return n})}function he(t,n){return function(e,r){var i=e?Va(e):0;if(!er(i))return t(e,r);for(var o=n?i:-1,a=fr(e);(n?o--:++o<i)&&r(a[o],o,a)!==!1;);return e}}function pe(t){return function(n,e,r){for(var i=fr(n),o=r(n),a=o.length,u=t?a:-1;t?u--:++u<a;){var s=o[u];if(e(i[s],s,i)===!1)break}return n}}function de(t,n){function e(){var i=this&&this!==rn&&this instanceof e?r:t;return i.apply(n,arguments)}var r=me(t);return e}function ge(t){return ma&&fa?new Qt(t):null}function ve(t){return function(n){for(var e=-1,r=Eo(lo(n)),i=r.length,o="";++e<i;)o=t(o,r[e],e);return o}}function me(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Fa(t.prototype),r=t.apply(e,n);return Pi(r)?r:e}}function ye(t){function n(e,r,i){i&&Je(e,r,i)&&(r=A);var o=qe(e,t,A,A,A,A,A,r);return o.placeholder=n.placeholder,o}return n}function be(t,n){return mi(function(e){var r=e[0];return null==r?r:(e.push(n),t.apply(A,e))})}function we(t,n){return function(e,r,i){if(i&&Je(e,r,i)&&(r=A),r=Ue(r,i,3),1==r.length){e=Cu(e)?e:lr(e);var o=un(e,r,t,n);if(!e.length||o!==n)return o}return An(e,r,t,n)}}function xe(t,n){return function(e,r,i){if(r=Ue(r,i,3),Cu(e)){var a=o(e,r,n);return a>-1?e[a]:A}return Cn(e,r,t)}}function _e(t){return function(n,e,r){return n&&n.length?(e=Ue(e,r,3),o(n,e,t)):-1}}function ke(t){return function(n,e,r){return e=Ue(e,r,3),Cn(n,e,t,!0)}}function Me(t){return function(){for(var n,e=arguments.length,i=t?e:-1,o=0,a=Uo(e);t?i--:++i<e;){var u=a[o++]=arguments[i];if("function"!=typeof u)throw new Qo(W);!n&&r.prototype.thru&&"wrapper"==Ve(u)&&(n=new r([],!0))}for(i=n?-1:e;++i<e;){u=a[i];var s=Ve(u),c="wrapper"==s?Ua(u):A;n=c&&nr(c[0])&&c[1]==(F|O|T|D)&&!c[4].length&&1==c[9]?n[Ve(c[0])].apply(n,c[3]):1==u.length&&nr(u)?n[s]():n.thru(u)}return function(){var t=arguments,r=t[0];if(n&&1==t.length&&Cu(r)&&r.length>=U)return n.plant(r).value();for(var i=0,o=e?a[i].apply(this,t):r;++i<e;)o=a[i].call(this,o);return o}}}function Ee(t,n){return function(e,r,i){return"function"==typeof r&&i===A&&Cu(e)?t(e,r):n(e,ae(r,i,3))}}function Ae(t){return function(n,e,r){return"function"==typeof e&&r===A||(e=ae(e,r,3)),t(n,e,to)}}function Se(t){return function(n,e,r){return"function"==typeof e&&r===A||(e=ae(e,r,3)),t(n,e)}}function Ne(t){return function(n,e,r){var i={};return e=Ue(e,r,3),jn(n,function(n,r,o){var a=e(n,r,o);r=t?a:r,n=t?n:a,i[r]=n}),i}}function Ce(t){return function(n,e,r){return n=s(n),(t?n:"")+Te(n,e,r)+(t?"":n)}}function Re(t){var n=mi(function(e,r){var i=w(r,n.placeholder);return qe(e,t,A,r,i)});return n}function Oe(t,n){return function(e,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===A&&Cu(e)?t(e,r,i,a):Yn(e,Ue(r,o,4),i,a,n)}}function je(t,n,e,r,i,o,a,u,s,c){function l(){for(var y=arguments.length,b=y,x=Uo(y);b--;)x[b]=arguments[b];if(r&&(x=se(x,r,i)),o&&(x=ce(x,o,a)),d||v){var _=l.placeholder,k=w(x,_);if(y-=k.length,c>y){var M=u?tn(u):A,E=_a(c-y,0),S=d?k:A,R=d?A:k,O=d?x:A,j=d?A:x;n|=d?T:P,n&=~(d?P:T),g||(n&=~(N|C));var F=[t,n,e,O,S,j,R,M,s,E],D=je.apply(A,F);return nr(t)&&Ba(D,F),D.placeholder=_,D}}var q=h?e:this,L=p?q[t]:t;return u&&(x=sr(x,u)),f&&s<x.length&&(x.length=s),this&&this!==rn&&this instanceof l&&(L=m||me(t)),L.apply(q,x)}var f=n&F,h=n&N,p=n&C,d=n&O,g=n&R,v=n&j,m=p?A:me(t);return l}function Te(t,n,e){var r=t.length;if(n=+n,r>=n||!wa(n))return"";var i=n-r;return e=null==e?" ":e+"",mo(e,va(i/e.length)).slice(0,i)}function Pe(t,n,e,r){function i(){for(var n=-1,u=arguments.length,s=-1,c=r.length,l=Uo(c+u);++s<c;)l[s]=r[s];for(;u--;)l[s++]=arguments[++n];var f=this&&this!==rn&&this instanceof i?a:t;return f.apply(o?e:this,l)}var o=n&N,a=me(t);return i}function Fe(t){var n=Ho[t];return function(t,e){return e=e===A?0:+e||0,e?(e=ca(10,e),n(t*e)/e):n(t)}}function De(t){return function(n,e,r,i){var o=Ue(r);return null==r&&o===xn?ie(n,e,t):oe(n,e,o(r,i,1),t)}}function qe(t,n,e,r,i,o,a,u){var s=n&C;if(!s&&"function"!=typeof t)throw new Qo(W);var c=r?r.length:0;if(c||(n&=~(T|P),r=i=A),c-=i?i.length:0,n&P){var l=r,f=i;r=i=A}var h=s?A:Ua(t),p=[t,n,e,r,i,l,f,o,a,u];if(h&&(ir(p,h),n=p[1],u=p[9]),p[9]=null==u?s?0:t.length:_a(u-c,0)||0,n==N)var d=de(p[0],p[2]);else d=n!=T&&n!=(N|T)||p[4].length?je.apply(A,p):Pe.apply(A,p);var g=h?Ia:Ba;return g(d,p)}function Le(t,n,e,r,i,o,a){var u=-1,s=t.length,c=n.length;if(s!=c&&!(i&&c>s))return!1;for(;++u<s;){var l=t[u],f=n[u],h=r?r(i?f:l,i?l:f,u):A;if(h!==A){if(h)continue;return!1}if(i){if(!pn(n,function(t){return l===t||e(l,t,r,i,o,a)}))return!1}else if(l!==f&&!e(l,f,r,i,o,a))return!1}return!0}function ze(t,n,e){switch(e){case Y:case G:return+t==+n;case Q:return t.name==n.name&&t.message==n.message;case J:return t!=+t?n!=+n:t==+n;case nt:case rt:return t==n+""}return!1}function Ie(t,n,e,r,i,o,a){var u=Iu(t),s=u.length,c=Iu(n),l=c.length;if(s!=l&&!i)return!1;for(var f=s;f--;){var h=u[f];if(!(i?h in n:na.call(n,h)))return!1}for(var p=i;++f<s;){h=u[f];var d=t[h],g=n[h],v=r?r(i?g:d,i?d:g,h):A;if(!(v===A?e(d,g,r,i,o,a):v))return!1;p||(p="constructor"==h)}if(!p){var m=t.constructor,y=n.constructor;if(m!=y&&"constructor"in t&&"constructor"in n&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y))return!1}return!0}function Ue(t,e,r){var i=n.callback||Ao;return i=i===Ao?xn:i,r?i(t,e,r):i}function Ve(t){for(var n=t.name,e=Pa[n],r=e?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function Be(t,e,r){var i=n.indexOf||Mr;return i=i===Mr?a:i,t?i(t,e,r):i}function We(t){for(var n=no(t),e=n.length;e--;)n[e][2]=rr(n[e][1]);return n}function He(t,n){var e=null==t?A:t[n];return qi(e)?e:A}function $e(t,n,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=ka(n,t+a);break;case"takeRight":t=_a(t,n-a)}}return{start:t,end:n}}function Ze(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&na.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function Ye(t){var n=t.constructor;return"function"==typeof n&&n instanceof n||(n=Zo),new n}function Ge(t,n,e){var r=t.constructor;switch(n){case ot:return ue(t);case Y:case G:return new r(+t);case at:case ut:case st:case ct:case lt:case ft:case ht:case pt:case dt:var i=t.buffer;return new r(e?ue(i):i,t.byteOffset,t.length);case J:case rt:return new r(t);case nt:var o=new r(t.source,Tt.exec(t));o.lastIndex=t.lastIndex}return o}function Qe(t,n,e){null==t||tr(n,t)||(n=hr(n),t=1==n.length?t:Fn(t,Gn(n,0,-1)),n=Ar(n));var r=null==t?t:t[n];return null==r?A:r.apply(t,e)}function Ke(t){return null!=t&&er(Va(t))}function Xe(t,n){return t="number"==typeof t||Dt.test(t)?+t:-1,n=null==n?ja:n,t>-1&&t%1==0&&n>t}function Je(t,n,e){if(!Pi(e))return!1;var r=typeof n;if("number"==r?Ke(e)&&Xe(n,e.length):"string"==r&&n in e){var i=e[n];return t===t?t===i:i!==i}return!1}function tr(t,n){var e=typeof t;if("string"==e&&At.test(t)||"number"==e)return!0;if(Cu(t))return!1;var r=!Et.test(t);return r||null!=n&&t in fr(n)}function nr(t){var e=Ve(t);if(!(e in b.prototype))return!1;var r=n[e];if(t===r)return!0;var i=Ua(r);return!!i&&t===i[0]}function er(t){return"number"==typeof t&&t>-1&&t%1==0&&ja>=t}function rr(t){return t===t&&!Pi(t)}function ir(t,n){var e=t[1],r=n[1],i=e|r,o=F>i,a=r==F&&e==O||r==F&&e==D&&t[7].length<=n[8]||r==(F|D)&&e==O;if(!o&&!a)return t;r&N&&(t[2]=n[2],i|=e&N?0:R);var u=n[3];if(u){var s=t[3];t[3]=s?se(s,u,n[4]):tn(u),t[4]=s?w(t[3],H):tn(n[4])}return u=n[5],u&&(s=t[5],t[5]=s?ce(s,u,n[6]):tn(u),t[6]=s?w(t[5],H):tn(n[6])),u=n[7],u&&(t[7]=tn(u)),r&F&&(t[8]=null==t[8]?n[8]:ka(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i,t}function or(t,n){return t===A?n:Ru(t,n,or)}function ar(t,n){t=fr(t);for(var e=-1,r=n.length,i={};++e<r;){var o=n[e];o in t&&(i[o]=t[o])}return i}function ur(t,n){var e={};return On(t,function(t,r,i){n(t,r,i)&&(e[r]=t)}),e}function sr(t,n){for(var e=t.length,r=ka(n.length,e),i=tn(t);r--;){var o=n[r];t[r]=Xe(o,e)?i[o]:A}return t}function cr(t){for(var n=to(t),e=n.length,r=e&&t.length,i=!!r&&er(r)&&(Cu(t)||Ei(t)),o=-1,a=[];++o<e;){var u=n[o];(i&&Xe(u,r)||na.call(t,u))&&a.push(u)}return a}function lr(t){return null==t?[]:Ke(t)?Pi(t)?t:Zo(t):oo(t)}function fr(t){return Pi(t)?t:Zo(t)}function hr(t){if(Cu(t))return t;var n=[];return s(t).replace(St,function(t,e,r,i){n.push(r?i.replace(Ot,"$1"):e||t)}),n}function pr(t){return t instanceof b?t.clone():new r(t.__wrapped__,t.__chain__,tn(t.__actions__))}function dr(t,n,e){n=(e?Je(t,n,e):null==n)?1:_a(ya(n)||1,1);for(var r=0,i=t?t.length:0,o=-1,a=Uo(va(i/n));i>r;)a[++o]=Gn(t,r,r+=n);return a}function gr(t){for(var n=-1,e=t?t.length:0,r=-1,i=[];++n<e;){var o=t[n];o&&(i[++r]=o)}return i}function vr(t,n,e){var r=t?t.length:0;return r?((e?Je(t,n,e):null==n)&&(n=1),Gn(t,0>n?0:n)):[]}function mr(t,n,e){var r=t?t.length:0;return r?((e?Je(t,n,e):null==n)&&(n=1),n=r-(+n||0),Gn(t,0,0>n?0:n)):[]}function yr(t,n,e){return t&&t.length?ee(t,Ue(n,e,3),!0,!0):[]}function br(t,n,e){return t&&t.length?ee(t,Ue(n,e,3),!0):[]}function wr(t,n,e,r){var i=t?t.length:0;return i?(e&&"number"!=typeof e&&Je(t,n,e)&&(e=0,r=i),Sn(t,n,e,r)):[]}function xr(t){return t?t[0]:A}function _r(t,n,e){var r=t?t.length:0;return e&&Je(t,n,e)&&(n=!1),r?Rn(t,n):[]}function kr(t){var n=t?t.length:0;return n?Rn(t,!0):[]}function Mr(t,n,e){var r=t?t.length:0;if(!r)return-1;if("number"==typeof e)e=0>e?_a(r+e,0):e;else if(e){var i=ie(t,n);return r>i&&(n===n?n===t[i]:t[i]!==t[i])?i:-1}return a(t,n,e||0)}function Er(t){return mr(t,1)}function Ar(t){var n=t?t.length:0;return n?t[n-1]:A}function Sr(t,n,e){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof e)i=(0>e?_a(r+e,0):ka(e||0,r-1))+1;else if(e){i=ie(t,n,!0)-1;var o=t[i];return(n===n?n===o:o!==o)?i:-1}if(n!==n)return m(t,i,!0);for(;i--;)if(t[i]===n)return i;return-1}function Nr(){var t=arguments,n=t[0];if(!n||!n.length)return n;for(var e=0,r=Be(),i=t.length;++e<i;)for(var o=0,a=t[e];(o=r(n,a,o))>-1;)pa.call(n,o,1);return n}function Cr(t,n,e){var r=[];if(!t||!t.length)return r;var i=-1,o=[],a=t.length;for(n=Ue(n,e,3);++i<a;){var u=t[i];n(u,i,t)&&(r.push(u),o.push(i))}return $n(t,o),r}function Rr(t){return vr(t,1)}function Or(t,n,e){var r=t?t.length:0;return r?(e&&"number"!=typeof e&&Je(t,n,e)&&(n=0,e=r),Gn(t,n,e)):[]}function jr(t,n,e){var r=t?t.length:0;return r?((e?Je(t,n,e):null==n)&&(n=1),Gn(t,0,0>n?0:n)):[]}function Tr(t,n,e){var r=t?t.length:0;return r?((e?Je(t,n,e):null==n)&&(n=1),n=r-(+n||0),Gn(t,0>n?0:n)):[]}function Pr(t,n,e){return t&&t.length?ee(t,Ue(n,e,3),!1,!0):[]}function Fr(t,n,e){return t&&t.length?ee(t,Ue(n,e,3)):[]}function Dr(t,n,e,r){var i=t?t.length:0;if(!i)return[];null!=n&&"boolean"!=typeof n&&(r=e,e=Je(t,n,r)?A:n,n=!1);var o=Ue();return null==e&&o===xn||(e=o(e,r,3)),n&&Be()==a?x(t,e):te(t,e)}function qr(t){if(!t||!t.length)return[];var n=-1,e=0;t=sn(t,function(t){return Ke(t)?(e=_a(t.length,e),!0):void 0});for(var r=Uo(e);++n<e;)r[n]=cn(t,Wn(n));return r}function Lr(t,n,e){var r=t?t.length:0;if(!r)return[];var i=qr(t);return null==n?i:(n=ae(n,e,4),cn(i,function(t){return fn(t,n,A,!0)}))}function zr(){for(var t=-1,n=arguments.length;++t<n;){var e=arguments[t];if(Ke(e))var r=r?ln(Mn(r,e),Mn(e,r)):e}return r?te(r):[]}function Ir(t,n){var e=-1,r=t?t.length:0,i={};for(!r||n||Cu(t[0])||(n=[]);++e<r;){var o=t[e];n?i[o]=n[e]:o&&(i[o[0]]=o[1])}return i}function Ur(t){var e=n(t);return e.__chain__=!0,e}function Vr(t,n,e){return n.call(e,t),t}function Br(t,n,e){return n.call(e,t)}function Wr(){return Ur(this)}function Hr(){return new r(this.value(),this.__chain__)}function $r(t){for(var n,r=this;r instanceof e;){var i=pr(r);n?o.__wrapped__=i:n=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,n}function Zr(){var t=this.__wrapped__,n=function(t){return e&&e.__dir__<0?t:t.reverse()};if(t instanceof b){var e=t;return this.__actions__.length&&(e=new b(this)),e=e.reverse(),e.__actions__.push({func:Br,args:[n],thisArg:A}),new r(e,this.__chain__)}return this.thru(n)}function Yr(){return this.value()+""}function Gr(){return re(this.__wrapped__,this.__actions__)}function Qr(t,n,e){var r=Cu(t)?an:En;return e&&Je(t,n,e)&&(n=A),"function"==typeof n&&e===A||(n=Ue(n,e,3)),r(t,n)}function Kr(t,n,e){var r=Cu(t)?sn:Nn;return n=Ue(n,e,3),r(t,n)}function Xr(t,n){return iu(t,In(n))}function Jr(t,n,e,r){var i=t?Va(t):0;return er(i)||(t=oo(t),i=t.length),e="number"!=typeof e||r&&Je(n,e,r)?0:0>e?_a(i+e,0):e||0,"string"==typeof t||!Cu(t)&&Vi(t)?i>=e&&t.indexOf(n,e)>-1:!!i&&Be(t,n,e)>-1}function ti(t,n,e){var r=Cu(t)?cn:zn;return n=Ue(n,e,3),r(t,n)}function ni(t,n){return ti(t,Po(n))}function ei(t,n,e){var r=Cu(t)?sn:Nn;return n=Ue(n,e,3),r(t,function(t,e,r){return!n(t,e,r)})}function ri(t,n,e){if(e?Je(t,n,e):null==n){t=lr(t);var r=t.length;return r>0?t[Zn(0,r-1)]:A}var i=-1,o=Zi(t),r=o.length,a=r-1;for(n=ka(0>n?0:+n||0,r);++i<n;){var u=Zn(i,a),s=o[u];o[u]=o[i],o[i]=s}return o.length=n,o}function ii(t){return ri(t,Na)}function oi(t){var n=t?Va(t):0;return er(n)?n:Iu(t).length}function ai(t,n,e){var r=Cu(t)?pn:Qn;return e&&Je(t,n,e)&&(n=A),"function"==typeof n&&e===A||(n=Ue(n,e,3)),r(t,n)}function ui(t,n,e){if(null==t)return[];e&&Je(t,n,e)&&(n=A);var r=-1;n=Ue(n,e,3);var i=zn(t,function(t,e,i){return{criteria:n(t,e,i),index:++r,value:t}});return Kn(i,f)}function si(t,n,e,r){return null==t?[]:(r&&Je(n,e,r)&&(e=A),Cu(n)||(n=null==n?[]:[n]),Cu(e)||(e=null==e?[]:[e]),Xn(t,n,e))}function ci(t,n){return Kr(t,In(n))}function li(t,n){if("function"!=typeof n){if("function"!=typeof t)throw new Qo(W);var e=t;t=n,n=e}return t=wa(t=+t)?t:0,function(){return--t<1?n.apply(this,arguments):void 0}}function fi(t,n,e){return e&&Je(t,n,e)&&(n=A),n=t&&null==n?t.length:_a(+n||0,0),qe(t,F,A,A,A,A,n)}function hi(t,n){var e;if("function"!=typeof n){if("function"!=typeof t)throw new Qo(W);var r=t;t=n,n=r}return function(){return--t>0&&(e=n.apply(this,arguments)),1>=t&&(n=A),e}}function pi(t,n,e){function r(){p&&ua(p),c&&ua(c),g=0,c=p=d=A}function i(n,e){e&&ua(e),c=p=d=A,n&&(g=gu(),l=t.apply(h,s),p||c||(s=h=A))}function o(){var t=n-(gu()-f);0>=t||t>n?i(d,c):p=ha(o,t)}function a(){i(m,p)}function u(){if(s=arguments,f=gu(),h=this,d=m&&(p||!y),v===!1)var e=y&&!p;else{c||y||(g=f);var r=v-(f-g),i=0>=r||r>v;i?(c&&(c=ua(c)),g=f,l=t.apply(h,s)):c||(c=ha(a,r))}return i&&p?p=ua(p):p||n===v||(p=ha(o,n)),e&&(i=!0,l=t.apply(h,s)),!i||p||c||(s=h=A),l}var s,c,l,f,h,p,d,g=0,v=!1,m=!0;if("function"!=typeof t)throw new Qo(W);if(n=0>n?0:+n||0,e===!0){var y=!0;m=!1}else Pi(e)&&(y=!!e.leading,v="maxWait"in e&&_a(+e.maxWait||0,n),m="trailing"in e?!!e.trailing:m);return u.cancel=r,u}function di(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Qo(W);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a),a};return e.cache=new di.Cache,e}function gi(t){if("function"!=typeof t)throw new Qo(W);return function(){return!t.apply(this,arguments)}}function vi(t){return hi(2,t)}function mi(t,n){if("function"!=typeof t)throw new Qo(W);return n=_a(n===A?t.length-1:+n||0,0),function(){for(var e=arguments,r=-1,i=_a(e.length-n,0),o=Uo(i);++r<i;)o[r]=e[n+r];switch(n){case 0:return t.call(this,o);case 1:return t.call(this,e[0],o);case 2:return t.call(this,e[0],e[1],o)}var a=Uo(n+1);for(r=-1;++r<n;)a[r]=e[r];return a[n]=o,t.apply(this,a)}}function yi(t){if("function"!=typeof t)throw new Qo(W);return function(n){return t.apply(this,n)}}function bi(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new Qo(W);return e===!1?r=!1:Pi(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),pi(t,n,{leading:r,maxWait:+n,trailing:i})}function wi(t,n){return n=null==n?No:n,qe(n,T,A,[t],[])}function xi(t,n,e,r){return n&&"boolean"!=typeof n&&Je(t,n,e)?n=!1:"function"==typeof n&&(r=e,e=n,n=!1),"function"==typeof e?_n(t,n,ae(e,r,1)):_n(t,n)}function _i(t,n,e){return"function"==typeof n?_n(t,!0,ae(n,e,1)):_n(t,!0)}function ki(t,n){return t>n}function Mi(t,n){return t>=n}function Ei(t){return y(t)&&Ke(t)&&na.call(t,"callee")&&!la.call(t,"callee")}function Ai(t){return t===!0||t===!1||y(t)&&ra.call(t)==Y}function Si(t){return y(t)&&ra.call(t)==G}function Ni(t){return!!t&&1===t.nodeType&&y(t)&&!Ii(t)}function Ci(t){return null==t?!0:Ke(t)&&(Cu(t)||Vi(t)||Ei(t)||y(t)&&Ti(t.splice))?!t.length:!Iu(t).length}function Ri(t,n,e,r){e="function"==typeof e?ae(e,r,3):A;var i=e?e(t,n):A;return i===A?Dn(t,n,e):!!i}function Oi(t){return y(t)&&"string"==typeof t.message&&ra.call(t)==Q}function ji(t){return"number"==typeof t&&wa(t)}function Ti(t){return Pi(t)&&ra.call(t)==K}function Pi(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function Fi(t,n,e,r){return e="function"==typeof e?ae(e,r,3):A,Ln(t,We(n),e)}function Di(t){return zi(t)&&t!=+t}function qi(t){return null==t?!1:Ti(t)?oa.test(ta.call(t)):y(t)&&Ft.test(t)}function Li(t){return null===t}function zi(t){return"number"==typeof t||y(t)&&ra.call(t)==J}function Ii(t){var n;if(!y(t)||ra.call(t)!=tt||Ei(t)||!na.call(t,"constructor")&&(n=t.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var e;return On(t,function(t,n){e=n}),e===A||na.call(t,e)}function Ui(t){return Pi(t)&&ra.call(t)==nt}function Vi(t){return"string"==typeof t||y(t)&&ra.call(t)==rt}function Bi(t){return y(t)&&er(t.length)&&!!Bt[ra.call(t)]}function Wi(t){return t===A}function Hi(t,n){return n>t}function $i(t,n){return n>=t}function Zi(t){var n=t?Va(t):0;return er(n)?n?tn(t):[]:oo(t)}function Yi(t){return wn(t,to(t))}function Gi(t,n,e){var r=Fa(t);return e&&Je(t,n,e)&&(n=A),n?yn(r,n):r}function Qi(t){return Pn(t,to(t))}function Ki(t,n,e){var r=null==t?A:Fn(t,hr(n),n+"");return r===A?e:r}function Xi(t,n){if(null==t)return!1;var e=na.call(t,n);if(!e&&!tr(n)){if(n=hr(n),t=1==n.length?t:Fn(t,Gn(n,0,-1)),null==t)return!1;n=Ar(n),e=na.call(t,n)}return e||er(t.length)&&Xe(n,t.length)&&(Cu(t)||Ei(t))}function Ji(t,n,e){e&&Je(t,n,e)&&(n=A);for(var r=-1,i=Iu(t),o=i.length,a={};++r<o;){var u=i[r],s=t[u];n?na.call(a,s)?a[s].push(u):a[s]=[u]:a[s]=u}return a}function to(t){if(null==t)return[];Pi(t)||(t=Zo(t));var n=t.length;n=n&&er(n)&&(Cu(t)||Ei(t))&&n||0;for(var e=t.constructor,r=-1,i="function"==typeof e&&e.prototype===t,o=Uo(n),a=n>0;++r<n;)o[r]=r+"";for(var u in t)a&&Xe(u,n)||"constructor"==u&&(i||!na.call(t,u))||o.push(u);return o}function no(t){t=fr(t);for(var n=-1,e=Iu(t),r=e.length,i=Uo(r);++n<r;){var o=e[n];i[n]=[o,t[o]]}return i}function eo(t,n,e){var r=null==t?A:t[n];return r===A&&(null==t||tr(n,t)||(n=hr(n),t=1==n.length?t:Fn(t,Gn(n,0,-1)),r=null==t?A:t[Ar(n)]),r=r===A?e:r),Ti(r)?r.call(t):r}function ro(t,n,e){if(null==t)return t;var r=n+"";n=null!=t[r]||tr(n,t)?[r]:hr(n);for(var i=-1,o=n.length,a=o-1,u=t;null!=u&&++i<o;){var s=n[i];Pi(u)&&(i==a?u[s]=e:null==u[s]&&(u[s]=Xe(n[i+1])?[]:{})),u=u[s]}return t}function io(t,n,e,r){var i=Cu(t)||Bi(t);if(n=Ue(n,r,4),null==e)if(i||Pi(t)){var o=t.constructor;e=i?Cu(t)?new o:[]:Fa(Ti(o)?o.prototype:A)}else e={};return(i?nn:jn)(t,function(t,r,i){return n(e,t,r,i)}),e}function oo(t){return ne(t,Iu(t))}function ao(t){return ne(t,to(t))}function uo(t,n,e){return n=+n||0,e===A?(e=n,n=0):e=+e||0,t>=ka(n,e)&&t<_a(n,e)}function so(t,n,e){e&&Je(t,n,e)&&(n=e=A);var r=null==t,i=null==n;if(null==e&&(i&&"boolean"==typeof t?(e=t,t=1):"boolean"==typeof n&&(e=n,i=!0)),r&&i&&(n=1,i=!1),t=+t||0,i?(n=t,t=0):n=+n||0,e||t%1||n%1){var o=Aa();return ka(t+o*(n-t+sa("1e-"+((o+"").length-1))),n)}return Zn(t,n)}function co(t){return t=s(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function lo(t){return t=s(t),t&&t.replace(qt,p).replace(Rt,"")}function fo(t,n,e){t=s(t),n+="";var r=t.length;return e=e===A?r:ka(0>e?0:+e||0,r),e-=n.length,e>=0&&t.indexOf(n,e)==e}function ho(t){return t=s(t),t&&xt.test(t)?t.replace(bt,d):t}function po(t){return t=s(t),t&&Ct.test(t)?t.replace(Nt,g):t||"(?:)"}function go(t,n,e){t=s(t),n=+n;var r=t.length;if(r>=n||!wa(n))return t;var i=(n-r)/2,o=ya(i),a=va(i);return e=Te("",a,e),e.slice(0,o)+t+e}function vo(t,n,e){return(e?Je(t,n,e):null==n)?n=0:n&&(n=+n),t=wo(t),Ea(t,n||(Pt.test(t)?16:10))}function mo(t,n){var e="";if(t=s(t),n=+n,1>n||!t||!wa(n))return e;do n%2&&(e+=t),n=ya(n/2),t+=t;while(n);return e}function yo(t,n,e){return t=s(t),e=null==e?0:ka(0>e?0:+e||0,t.length),t.lastIndexOf(n,e)==e}function bo(t,e,r){var i=n.templateSettings;r&&Je(t,e,r)&&(e=r=A),t=s(t),e=mn(yn({},r||e),i,vn);var o,a,u=mn(yn({},e.imports),i.imports,vn),c=Iu(u),l=ne(u,c),f=0,h=e.interpolate||Lt,p="__p += '",d=Yo((e.escape||Lt).source+"|"+h.source+"|"+(h===Mt?jt:Lt).source+"|"+(e.evaluate||Lt).source+"|$","g"),g="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Vt+"]")+"\n";t.replace(d,function(n,e,r,i,u,s){return r||(r=i),p+=t.slice(f,s).replace(zt,v),e&&(o=!0,p+="' +\n__e("+e+") +\n'"),u&&(a=!0,p+="';\n"+u+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=s+n.length,n}),p+="';\n";var m=e.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(a?p.replace(gt,""):p).replace(vt,"$1").replace(mt,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Ku(function(){return Wo(c,g+"return "+p).apply(A,l)});if(y.source=p,Oi(y))throw y;return y}function wo(t,n,e){var r=t;return(t=s(t))?(e?Je(r,n,e):null==n)?t.slice(_(t),k(t)+1):(n+="",t.slice(c(t,n),l(t,n)+1)):t}function xo(t,n,e){var r=t;return t=s(t),t?(e?Je(r,n,e):null==n)?t.slice(_(t)):t.slice(c(t,n+"")):t}function _o(t,n,e){var r=t;return t=s(t),t?(e?Je(r,n,e):null==n)?t.slice(0,k(t)+1):t.slice(0,l(t,n+"")+1):t}function ko(t,n,e){e&&Je(t,n,e)&&(n=A);var r=q,i=L;if(null!=n)if(Pi(n)){var o="separator"in n?n.separator:o;r="length"in n?+n.length||0:r,i="omission"in n?s(n.omission):i}else r=+n||0;if(t=s(t),r>=t.length)return t;var a=r-i.length;if(1>a)return i;var u=t.slice(0,a);if(null==o)return u+i;if(Ui(o)){if(t.slice(a).search(o)){var c,l,f=t.slice(0,a);for(o.global||(o=Yo(o.source,(Tt.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(f);)l=c.index;u=u.slice(0,null==l?a:l)}}else if(t.indexOf(o,a)!=a){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+i}function Mo(t){return t=s(t),t&&wt.test(t)?t.replace(yt,M):t}function Eo(t,n,e){return e&&Je(t,n,e)&&(n=A),t=s(t),t.match(n||It)||[]}function Ao(t,n,e){return e&&Je(t,n,e)&&(n=A),y(t)?Co(t):xn(t,n)}function So(t){return function(){return t}}function No(t){return t}function Co(t){return In(_n(t,!0))}function Ro(t,n){return Un(t,_n(n,!0))}function Oo(t,n,e){if(null==e){var r=Pi(n),i=r?Iu(n):A,o=i&&i.length?Pn(n,i):A;(o?o.length:r)||(o=!1,e=n,n=t,t=this)}o||(o=Pn(n,Iu(n)));var a=!0,u=-1,s=Ti(t),c=o.length;e===!1?a=!1:Pi(e)&&"chain"in e&&(a=e.chain);for(;++u<c;){
var l=o[u],f=n[l];t[l]=f,s&&(t.prototype[l]=function(n){return function(){var e=this.__chain__;if(a||e){var r=t(this.__wrapped__),i=r.__actions__=tn(this.__actions__);return i.push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,ln([this.value()],arguments))}}(f))}return t}function jo(){return rn._=ia,this}function To(){}function Po(t){return tr(t)?Wn(t):Hn(t)}function Fo(t){return function(n){return Fn(t,hr(n),n+"")}}function Do(t,n,e){e&&Je(t,n,e)&&(n=e=A),t=+t||0,e=null==e?1:+e||0,null==n?(n=t,t=0):n=+n||0;for(var r=-1,i=_a(va((n-t)/(e||1)),0),o=Uo(i);++r<i;)o[r]=t,t+=e;return o}function qo(t,n,e){if(t=ya(t),1>t||!wa(t))return[];var r=-1,i=Uo(ka(t,Ca));for(n=ae(n,e,1);++r<t;)Ca>r?i[r]=n(r):n(r);return i}function Lo(t){var n=++ea;return s(t)+n}function zo(t,n){return(+t||0)+(+n||0)}function Io(t,n,e){return e&&Je(t,n,e)&&(n=A),n=Ue(n,e,3),1==n.length?dn(Cu(t)?t:lr(t),n):Jn(t,n)}t=t?on.defaults(rn.Object(),t,on.pick(rn,Ut)):rn;var Uo=t.Array,Vo=t.Date,Bo=t.Error,Wo=t.Function,Ho=t.Math,$o=t.Number,Zo=t.Object,Yo=t.RegExp,Go=t.String,Qo=t.TypeError,Ko=Uo.prototype,Xo=Zo.prototype,Jo=Go.prototype,ta=Wo.prototype.toString,na=Xo.hasOwnProperty,ea=0,ra=Xo.toString,ia=rn._,oa=Yo("^"+ta.call(na).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aa=t.ArrayBuffer,ua=t.clearTimeout,sa=t.parseFloat,ca=Ho.pow,la=Xo.propertyIsEnumerable,fa=He(t,"Set"),ha=t.setTimeout,pa=Ko.splice,da=t.Uint8Array,ga=He(t,"WeakMap"),va=Ho.ceil,ma=He(Zo,"create"),ya=Ho.floor,ba=He(Uo,"isArray"),wa=t.isFinite,xa=He(Zo,"keys"),_a=Ho.max,ka=Ho.min,Ma=He(Vo,"now"),Ea=t.parseInt,Aa=Ho.random,Sa=$o.NEGATIVE_INFINITY,Na=$o.POSITIVE_INFINITY,Ca=4294967295,Ra=Ca-1,Oa=Ca>>>1,ja=9007199254740991,Ta=ga&&new ga,Pa={};n.support={};n.templateSettings={escape:_t,evaluate:kt,interpolate:Mt,variable:"",imports:{_:n}};var Fa=function(){function t(){}return function(n){if(Pi(n)){t.prototype=n;var e=new t;t.prototype=A}return e||{}}}(),Da=he(jn),qa=he(Tn,!0),La=pe(),za=pe(!0),Ia=Ta?function(t,n){return Ta.set(t,n),t}:No,Ua=Ta?function(t){return Ta.get(t)}:To,Va=Wn("length"),Ba=function(){var t=0,n=0;return function(e,r){var i=gu(),o=I-(i-n);if(n=i,o>0){if(++t>=z)return e}else t=0;return Ia(e,r)}}(),Wa=mi(function(t,n){return y(t)&&Ke(t)?Mn(t,Rn(n,!1,!0)):[]}),Ha=_e(),$a=_e(!0),Za=mi(function(t){for(var n=t.length,e=n,r=Uo(f),i=Be(),o=i==a,u=[];e--;){var s=t[e]=Ke(s=t[e])?s:[];r[e]=o&&s.length>=120?ge(e&&s):null}var c=t[0],l=-1,f=c?c.length:0,h=r[0];t:for(;++l<f;)if(s=c[l],(h?Kt(h,s):i(u,s,0))<0){for(var e=n;--e;){var p=r[e];if((p?Kt(p,s):i(t[e],s,0))<0)continue t}h&&h.push(s),u.push(s)}return u}),Ya=mi(function(t,n){n=Rn(n);var e=bn(t,n);return $n(t,n.sort(i)),e}),Ga=De(),Qa=De(!0),Ka=mi(function(t){return te(Rn(t,!1,!0))}),Xa=mi(function(t,n){return Ke(t)?Mn(t,n):[]}),Ja=mi(qr),tu=mi(function(t){var n=t.length,e=n>2?t[n-2]:A,r=n>1?t[n-1]:A;return n>2&&"function"==typeof e?n-=2:(e=n>1&&"function"==typeof r?(--n,r):A,r=A),t.length=n,Lr(t,e,r)}),nu=mi(function(t){return t=Rn(t),this.thru(function(n){return Jt(Cu(n)?n:[fr(n)],t)})}),eu=mi(function(t,n){return bn(t,Rn(n))}),ru=le(function(t,n,e){na.call(t,e)?++t[e]:t[e]=1}),iu=xe(Da),ou=xe(qa,!0),au=Ee(nn,Da),uu=Ee(en,qa),su=le(function(t,n,e){na.call(t,e)?t[e].push(n):t[e]=[n]}),cu=le(function(t,n,e){t[e]=n}),lu=mi(function(t,n,e){var r=-1,i="function"==typeof n,o=tr(n),a=Ke(t)?Uo(t.length):[];return Da(t,function(t){var u=i?n:o&&null!=t?t[n]:A;a[++r]=u?u.apply(t,e):Qe(t,n,e)}),a}),fu=le(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]}),hu=Oe(fn,Da),pu=Oe(hn,qa),du=mi(function(t,n){if(null==t)return[];var e=n[2];return e&&Je(n[0],n[1],e)&&(n.length=1),Xn(t,Rn(n),[])}),gu=Ma||function(){return(new Vo).getTime()},vu=mi(function(t,n,e){var r=N;if(e.length){var i=w(e,vu.placeholder);r|=T}return qe(t,r,n,e,i)}),mu=mi(function(t,n){n=n.length?Rn(n):Qi(t);for(var e=-1,r=n.length;++e<r;){var i=n[e];t[i]=qe(t[i],N,t)}return t}),yu=mi(function(t,n,e){var r=N|C;if(e.length){var i=w(e,yu.placeholder);r|=T}return qe(n,r,t,e,i)}),bu=ye(O),wu=ye(j),xu=mi(function(t,n){return kn(t,1,n)}),_u=mi(function(t,n,e){return kn(t,n,e)}),ku=Me(),Mu=Me(!0),Eu=mi(function(t,n){if(n=Rn(n),"function"!=typeof t||!an(n,u))throw new Qo(W);var e=n.length;return mi(function(r){for(var i=ka(r.length,e);i--;)r[i]=n[i](r[i]);return t.apply(this,r)})}),Au=Re(T),Su=Re(P),Nu=mi(function(t,n){return qe(t,D,A,A,A,Rn(n))}),Cu=ba||function(t){return y(t)&&er(t.length)&&ra.call(t)==Z},Ru=fe(Vn),Ou=fe(function(t,n,e){return e?mn(t,n,e):yn(t,n)}),ju=be(Ou,gn),Tu=be(Ru,or),Pu=ke(jn),Fu=ke(Tn),Du=Ae(La),qu=Ae(za),Lu=Se(jn),zu=Se(Tn),Iu=xa?function(t){var n=null==t?A:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&Ke(t)?cr(t):Pi(t)?xa(t):[]}:cr,Uu=Ne(!0),Vu=Ne(),Bu=mi(function(t,n){if(null==t)return{};if("function"!=typeof n[0]){var n=cn(Rn(n),Go);return ar(t,Mn(to(t),n))}var e=ae(n[0],n[1],3);return ur(t,function(t,n,r){return!e(t,n,r)})}),Wu=mi(function(t,n){return null==t?{}:"function"==typeof n[0]?ur(t,ae(n[0],n[1],3)):ar(t,Rn(n))}),Hu=ve(function(t,n,e){return n=n.toLowerCase(),t+(e?n.charAt(0).toUpperCase()+n.slice(1):n)}),$u=ve(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),Zu=Ce(),Yu=Ce(!0),Gu=ve(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}),Qu=ve(function(t,n,e){return t+(e?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))}),Ku=mi(function(t,n){try{return t.apply(A,n)}catch(e){return Oi(e)?e:new Bo(e)}}),Xu=mi(function(t,n){return function(e){return Qe(e,t,n)}}),Ju=mi(function(t,n){return function(e){return Qe(t,e,n)}}),ts=Fe("ceil"),ns=Fe("floor"),es=we(ki,Sa),rs=we(Hi,Na),is=Fe("round");return n.prototype=e.prototype,r.prototype=Fa(e.prototype),r.prototype.constructor=r,b.prototype=Fa(e.prototype),b.prototype.constructor=b,Ht.prototype["delete"]=$t,Ht.prototype.get=Zt,Ht.prototype.has=Yt,Ht.prototype.set=Gt,Qt.prototype.push=Xt,di.Cache=Ht,n.after=li,n.ary=fi,n.assign=Ou,n.at=eu,n.before=hi,n.bind=vu,n.bindAll=mu,n.bindKey=yu,n.callback=Ao,n.chain=Ur,n.chunk=dr,n.compact=gr,n.constant=So,n.countBy=ru,n.create=Gi,n.curry=bu,n.curryRight=wu,n.debounce=pi,n.defaults=ju,n.defaultsDeep=Tu,n.defer=xu,n.delay=_u,n.difference=Wa,n.drop=vr,n.dropRight=mr,n.dropRightWhile=yr,n.dropWhile=br,n.fill=wr,n.filter=Kr,n.flatten=_r,n.flattenDeep=kr,n.flow=ku,n.flowRight=Mu,n.forEach=au,n.forEachRight=uu,n.forIn=Du,n.forInRight=qu,n.forOwn=Lu,n.forOwnRight=zu,n.functions=Qi,n.groupBy=su,n.indexBy=cu,n.initial=Er,n.intersection=Za,n.invert=Ji,n.invoke=lu,n.keys=Iu,n.keysIn=to,n.map=ti,n.mapKeys=Uu,n.mapValues=Vu,n.matches=Co,n.matchesProperty=Ro,n.memoize=di,n.merge=Ru,n.method=Xu,n.methodOf=Ju,n.mixin=Oo,n.modArgs=Eu,n.negate=gi,n.omit=Bu,n.once=vi,n.pairs=no,n.partial=Au,n.partialRight=Su,n.partition=fu,n.pick=Wu,n.pluck=ni,n.property=Po,n.propertyOf=Fo,n.pull=Nr,n.pullAt=Ya,n.range=Do,n.rearg=Nu,n.reject=ei,n.remove=Cr,n.rest=Rr,n.restParam=mi,n.set=ro,n.shuffle=ii,n.slice=Or,n.sortBy=ui,n.sortByAll=du,n.sortByOrder=si,n.spread=yi,n.take=jr,n.takeRight=Tr,n.takeRightWhile=Pr,n.takeWhile=Fr,n.tap=Vr,n.throttle=bi,n.thru=Br,n.times=qo,n.toArray=Zi,n.toPlainObject=Yi,n.transform=io,n.union=Ka,n.uniq=Dr,n.unzip=qr,n.unzipWith=Lr,n.values=oo,n.valuesIn=ao,n.where=ci,n.without=Xa,n.wrap=wi,n.xor=zr,n.zip=Ja,n.zipObject=Ir,n.zipWith=tu,n.backflow=Mu,n.collect=ti,n.compose=Mu,n.each=au,n.eachRight=uu,n.extend=Ou,n.iteratee=Ao,n.methods=Qi,n.object=Ir,n.select=Kr,n.tail=Rr,n.unique=Dr,Oo(n,n),n.add=zo,n.attempt=Ku,n.camelCase=Hu,n.capitalize=co,n.ceil=ts,n.clone=xi,n.cloneDeep=_i,n.deburr=lo,n.endsWith=fo,n.escape=ho,n.escapeRegExp=po,n.every=Qr,n.find=iu,n.findIndex=Ha,n.findKey=Pu,n.findLast=ou,n.findLastIndex=$a,n.findLastKey=Fu,n.findWhere=Xr,n.first=xr,n.floor=ns,n.get=Ki,n.gt=ki,n.gte=Mi,n.has=Xi,n.identity=No,n.includes=Jr,n.indexOf=Mr,n.inRange=uo,n.isArguments=Ei,n.isArray=Cu,n.isBoolean=Ai,n.isDate=Si,n.isElement=Ni,n.isEmpty=Ci,n.isEqual=Ri,n.isError=Oi,n.isFinite=ji,n.isFunction=Ti,n.isMatch=Fi,n.isNaN=Di,n.isNative=qi,n.isNull=Li,n.isNumber=zi,n.isObject=Pi,n.isPlainObject=Ii,n.isRegExp=Ui,n.isString=Vi,n.isTypedArray=Bi,n.isUndefined=Wi,n.kebabCase=$u,n.last=Ar,n.lastIndexOf=Sr,n.lt=Hi,n.lte=$i,n.max=es,n.min=rs,n.noConflict=jo,n.noop=To,n.now=gu,n.pad=go,n.padLeft=Zu,n.padRight=Yu,n.parseInt=vo,n.random=so,n.reduce=hu,n.reduceRight=pu,n.repeat=mo,n.result=eo,n.round=is,n.runInContext=E,n.size=oi,n.snakeCase=Gu,n.some=ai,n.sortedIndex=Ga,n.sortedLastIndex=Qa,n.startCase=Qu,n.startsWith=yo,n.sum=Io,n.template=bo,n.trim=wo,n.trimLeft=xo,n.trimRight=_o,n.trunc=ko,n.unescape=Mo,n.uniqueId=Lo,n.words=Eo,n.all=Qr,n.any=ai,n.contains=Jr,n.eq=Ri,n.detect=iu,n.foldl=hu,n.foldr=pu,n.head=xr,n.include=Jr,n.inject=hu,Oo(n,function(){var t={};return jn(n,function(e,r){n.prototype[r]||(t[r]=e)}),t}(),!1),n.sample=ri,n.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return ri(n,t)}):ri(this.value())},n.VERSION=S,nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),nn(["drop","take"],function(t,n){b.prototype[t]=function(e){var r=this.__filtered__;if(r&&!n)return new b(this);e=null==e?1:_a(ya(e)||0,0);var i=this.clone();return r?i.__takeCount__=ka(i.__takeCount__,e):i.__views__.push({size:e,type:t+(i.__dir__<0?"Right":"")}),i},b.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),nn(["filter","map","takeWhile"],function(t,n){var e=n+1,r=e!=B;b.prototype[t]=function(t,n){var i=this.clone();return i.__iteratees__.push({iteratee:Ue(t,n,1),type:e}),i.__filtered__=i.__filtered__||r,i}}),nn(["first","last"],function(t,n){var e="take"+(n?"Right":"");b.prototype[t]=function(){return this[e](1).value()[0]}}),nn(["initial","rest"],function(t,n){var e="drop"+(n?"":"Right");b.prototype[t]=function(){return this.__filtered__?new b(this):this[e](1)}}),nn(["pluck","where"],function(t,n){var e=n?"filter":"map",r=n?In:Po;b.prototype[t]=function(t){return this[e](r(t))}}),b.prototype.compact=function(){return this.filter(No)},b.prototype.reject=function(t,n){return t=Ue(t,n,1),this.filter(function(n){return!t(n)})},b.prototype.slice=function(t,n){t=null==t?0:+t||0;var e=this;return e.__filtered__&&(t>0||0>n)?new b(e):(0>t?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==A&&(n=+n||0,e=0>n?e.dropRight(-n):e.take(n-t)),e)},b.prototype.takeRightWhile=function(t,n){return this.reverse().takeWhile(t,n).reverse()},b.prototype.toArray=function(){return this.take(Na)},jn(b.prototype,function(t,e){var i=/^(?:filter|map|reject)|While$/.test(e),o=/^(?:first|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e];a&&(n.prototype[e]=function(){var n=o?[1]:arguments,e=this.__chain__,u=this.__wrapped__,s=!!this.__actions__.length,c=u instanceof b,l=n[0],f=c||Cu(u);f&&i&&"function"==typeof l&&1!=l.length&&(c=f=!1);var h=function(t){return o&&e?a(t,1)[0]:a.apply(A,ln([t],n))},p={func:Br,args:[h],thisArg:A},d=c&&!s;if(o&&!e)return d?(u=u.clone(),u.__actions__.push(p),t.call(u)):a.call(A,this.value())[0];if(!o&&f){u=d?u:new b(this);var g=t.apply(u,n);return g.__actions__.push(p),new r(g,e)}return this.thru(h)})}),nn(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?Jo:Ko)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[r](function(n){return e.apply(n,t)})}}),jn(b.prototype,function(t,e){var r=n[e];if(r){var i=r.name,o=Pa[i]||(Pa[i]=[]);o.push({name:e,func:r})}}),Pa[je(A,C).name]=[{name:"wrapper",func:A}],b.prototype.clone=X,b.prototype.reverse=et,b.prototype.value=it,n.prototype.chain=Wr,n.prototype.commit=Hr,n.prototype.concat=nu,n.prototype.plant=$r,n.prototype.reverse=Zr,n.prototype.toString=Yr,n.prototype.run=n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=Gr,n.prototype.collect=n.prototype.map,n.prototype.head=n.prototype.first,n.prototype.select=n.prototype.filter,n.prototype.tail=n.prototype.rest,n}var A,S="3.10.1",N=1,C=2,R=4,O=8,j=16,T=32,P=64,F=128,D=256,q=30,L="...",z=150,I=16,U=200,V=1,B=2,W="Expected a function",H="__lodash_placeholder__",$="[object Arguments]",Z="[object Array]",Y="[object Boolean]",G="[object Date]",Q="[object Error]",K="[object Function]",X="[object Map]",J="[object Number]",tt="[object Object]",nt="[object RegExp]",et="[object Set]",rt="[object String]",it="[object WeakMap]",ot="[object ArrayBuffer]",at="[object Float32Array]",ut="[object Float64Array]",st="[object Int8Array]",ct="[object Int16Array]",lt="[object Int32Array]",ft="[object Uint8Array]",ht="[object Uint8ClampedArray]",pt="[object Uint16Array]",dt="[object Uint32Array]",gt=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,yt=/&(?:amp|lt|gt|quot|#39|#96);/g,bt=/[&<>"'`]/g,wt=RegExp(yt.source),xt=RegExp(bt.source),_t=/<%-([\s\S]+?)%>/g,kt=/<%([\s\S]+?)%>/g,Mt=/<%=([\s\S]+?)%>/g,Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,At=/^\w*$/,St=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Nt=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ct=RegExp(Nt.source),Rt=/[\u0300-\u036f\ufe20-\ufe23]/g,Ot=/\\(\\)?/g,jt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tt=/\w*$/,Pt=/^0[xX]/,Ft=/^\[object .+?Constructor\]$/,Dt=/^\d+$/,qt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Lt=/($^)/,zt=/['\n\r\u2028\u2029\\]/g,It=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+n+")|"+t+"?"+n+"|"+t+"+|[0-9]+","g")}(),Ut=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Vt=-1,Bt={};Bt[at]=Bt[ut]=Bt[st]=Bt[ct]=Bt[lt]=Bt[ft]=Bt[ht]=Bt[pt]=Bt[dt]=!0,Bt[$]=Bt[Z]=Bt[ot]=Bt[Y]=Bt[G]=Bt[Q]=Bt[K]=Bt[X]=Bt[J]=Bt[tt]=Bt[nt]=Bt[et]=Bt[rt]=Bt[it]=!1;var Wt={};Wt[$]=Wt[Z]=Wt[ot]=Wt[Y]=Wt[G]=Wt[at]=Wt[ut]=Wt[st]=Wt[ct]=Wt[lt]=Wt[J]=Wt[tt]=Wt[nt]=Wt[rt]=Wt[ft]=Wt[ht]=Wt[pt]=Wt[dt]=!0,Wt[Q]=Wt[K]=Wt[X]=Wt[et]=Wt[it]=!1;var Ht={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},$t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Zt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Yt={"function":!0,object:!0},Gt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Qt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kt=Yt[typeof r]&&r&&!r.nodeType&&r,Xt=Yt[typeof e]&&e&&!e.nodeType&&e,Jt=Kt&&Xt&&"object"==typeof n&&n&&n.Object&&n,tn=Yt[typeof self]&&self&&self.Object&&self,nn=Yt[typeof window]&&window&&window.Object&&window,en=Xt&&Xt.exports===Kt&&Kt,rn=Jt||nn!==(this&&this.window)&&nn||tn||this,on=E();"function"==typeof t&&"object"==typeof t.amd&&t.amd?(rn._=on,t(function(){return on})):Kt&&Xt?en?(Xt.exports=on)._=on:Kt._=on:rn._=on}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,n,e){n.exports=".range-slider {\n  position: relative;\n  height: 20px;\n}\n.range-slider input {\n  pointer-events: none;\n  position: absolute;\n  overflow: hidden;\n  left: 0;\n  top: 0;\n  width: 200px;\n  outline: none;\n  height: 18px;\n}\n.range-slider input::-webkit-slider-thumb {\n  pointer-events: all;\n  position: relative;\n  z-index: 1;\n  outline: 0;\n  border-radius: 0;\n}\n.range-slider input::-moz-range-thumb {\n  pointer-events: all;\n  position: relative;\n  z-index: 10;\n  -moz-appearance: none;\n  background: linear-gradient(to bottom, #ededed 0%, #dedede 100%);\n  width: 11px;\n}\n.range-slider input::-moz-range-track {\n  position: relative;\n  z-index: -1;\n  background-color: rgba(0, 0, 0, .15);\n  border: 0;\n}\n.range-slider input:last-of-type::-moz-range-track {\n  -moz-appearance: none;\n  background: none transparent;\n  border: 0;\n}\n"},{}],6:[function(t,n,e){n.exports="<div class='range-slider'>\n  <input\n    class='upper'\n    type='range'\n    min={{lowerBound}}\n    max={{upperBound}}\n    step={{step}}\n    value={{upper}}\n    style='width:{{width}}px;' />\n  <input\n    class='lower'\n    type='range'\n    min={{lowerBound}}\n    max={{upperBound}}\n    step={{step}}\n    value={{lower}}\n    style='width:{{width}}px;' />\n</div>\n"},{}],7:[function(t,n,e){var r=t("ractive"),i=r.extend({template:t("./range-slider.hbs"),css:t("./range-slider.css"),data:function(){return{upper:3,lower:6,upperBound:10,lowerBound:0,step:.2,width:100}},oninit:function(){this.observe("upper",function(t){var n=this.get("lower"),e=this.get("step");n>=t&&this.set("lower",t-e)},{init:!1}),this.observe("lower",function(t){var n=this.get("upper"),e=this.get("step");t>=n&&this.set("upper",t+e)},{init:!1})},computed:{}});n.exports=i},{"./range-slider.css":5,"./range-slider.hbs":6,ractive:8}],8:[function(n,e,r){!function(n,i){"object"==typeof r&&"undefined"!=typeof e?e.exports=i():"function"==typeof t&&t.amd?t(i):n.Ractive=i()}(this,function(){"use strict";function t(t){var n;if(t&&"boolean"!=typeof t)return"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(n=document.getElementById(t),!n&&document.querySelector&&(n=document.querySelector(t)),n&&n.nodeType)?n:t[0]&&t[0].nodeType?t[0]:null:null}function n(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function e(t){return null!=t&&t.toString?t:""}function r(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;n>r;r++)e[r-1]=arguments[r];for(var i,o;o=e.shift();)for(i in o)Nu.call(o,i)&&(t[i]=o[i]);return t}function i(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;n>r;r++)e[r-1]=arguments[r];return e.forEach(function(n){for(var e in n)!n.hasOwnProperty(e)||e in t||(t[e]=n[e])}),t}function o(t){return"[object Array]"===Cu.call(t)}function a(t){return Ru.test(Cu.call(t))}function u(t,n){return null===t&&null===n?!0:"object"==typeof t||"object"==typeof n?!1:t===n}function s(t){return!isNaN(parseFloat(t))&&isFinite(t)}function c(t){return t&&"[object Object]"===Cu.call(t)}function l(t,n){return t.replace(/%s/g,function(){return n.shift()})}function f(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;n>r;r++)e[r-1]=arguments[r];throw t=l(t,e),new Error(t)}function h(){$b.DEBUG&&Eu.apply(null,arguments)}function p(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;n>r;r++)e[r-1]=arguments[r];t=l(t,e),Au(t,e)}function d(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;n>r;r++)e[r-1]=arguments[r];t=l(t,e),ju[t]||(ju[t]=!0,Au(t,e))}function g(){$b.DEBUG&&p.apply(null,arguments)}function v(){$b.DEBUG&&d.apply(null,arguments)}function m(t,n,e){var r=y(t,n,e);return r?r[t][e]:null}function y(t,n,e){for(;n;){if(e in n[t])return n;if(n.isolated)return null;n=n.parent}}function b(t){return function(){return t}}function w(t){var n,e,r,i,o,a;for(n=t.split("."),(e=Uu[n.length])||(e=x(n.length)),o=[],r=function(t,e){return t?"*":n[e]},i=e.length;i--;)a=e[i].map(r).join("."),o.hasOwnProperty(a)||(o.push(a),o[a]=!0);return o}function x(t){var n,e,r,i,o,a,u,s,c="";if(!Uu[t]){for(r=[];c.length<t;)c+=1;for(n=parseInt(c,2),i=function(t){return"1"===t},o=0;n>=o;o+=1){for(e=o.toString(2);e.length<t;)e="0"+e;for(s=[],u=e.length,a=0;u>a;a++)s.push(i(e[a]));r[o]=s}Uu[t]=r}return Uu[t]}function _(t,n,e,r){var i=t[n];if(!i||!i.equalsOrStartsWith(r)&&i.equalsOrStartsWith(e))return t[n]=i?i.replace(e,r):r,!0}function k(t){var n=t.slice(2);return"i"===t[1]&&s(n)?+n:n}function M(t){return null==t?t:(Wu.hasOwnProperty(t)||(Wu[t]=new Hu(t)),Wu[t])}function E(t,n){function e(n,e){var r,i,a;return e.isRoot?a=[].concat(Object.keys(t.viewmodel.data),Object.keys(t.viewmodel.mappings),Object.keys(t.viewmodel.computations)):(r=t.viewmodel.wrapped[e.str],i=r?r.get():t.viewmodel.get(e),a=i?Object.keys(i):null),a&&a.forEach(function(t){"_ractive"===t&&o(i)||n.push(e.join(t))}),n}var r,i,a;for(r=n.str.split("."),a=[Zu];i=r.shift();)"*"===i?a=a.reduce(e,[]):a[0]===Zu?a[0]=M(i):a=a.map(A(i));return a}function A(t){return function(n){return n.join(t)}}function S(t){return t?t.replace(Vu,".$1"):""}function N(t,n,e){if("string"!=typeof n||!s(e))throw new Error("Bad arguments");var r=void 0,i=void 0;if(/\*/.test(n))return i={},E(t,M(S(n))).forEach(function(n){var r=t.viewmodel.get(n);if(!s(r))throw new Error(Gu);i[n.str]=r+e}),t.set(i);if(r=t.get(n),!s(r))throw new Error(Gu);return t.set(n,+r+e)}function C(t,n){return Yu(this,t,void 0===n?1:+n)}function R(t){this.event=t,this.method="on"+t,this.deprecate=ts[t]}function O(t,n){var e=t.indexOf(n);-1===e&&t.push(n)}function j(t,n){for(var e=0,r=t.length;r>e;e++)if(t[e]==n)return!0;return!1}function T(t,n){var e;if(!o(t)||!o(n))return!1;if(t.length!==n.length)return!1;for(e=t.length;e--;)if(t[e]!==n[e])return!1;return!0}function P(t){return"string"==typeof t?[t]:void 0===t?[]:t}function F(t){return t[t.length-1]}function D(t,n){var e=t.indexOf(n);-1!==e&&t.splice(e,1)}function q(t){for(var n=[],e=t.length;e--;)n[e]=t[e];return n}function L(t){setTimeout(t,0)}function z(t,n){return function(){for(var e;e=t.shift();)e(n)}}function I(t,n,e,r){var i;if(n===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(n instanceof ns)n.then(e,r);else if(!n||"object"!=typeof n&&"function"!=typeof n)e(n);else{try{i=n.then}catch(o){return void r(o)}if("function"==typeof i){var a,u,s;u=function(n){a||(a=!0,I(t,n,e,r))},s=function(t){a||(a=!0,r(t))};try{i.call(n,u,s)}catch(o){if(!a)return r(o),void(a=!0)}}else e(n)}}function U(t,n,e){var r;return n=S(n),"~/"===n.substr(0,2)?(r=M(n.substring(2)),W(t,r.firstKey,e)):"."===n[0]?(r=V(us(e),n),r&&W(t,r.firstKey,e)):r=B(t,M(n),e),r}function V(t,n){var e;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===n)return M(t);if(e=t?t.split("."):[],"../"===n.substr(0,3)){for(;"../"===n.substr(0,3);){if(!e.length)throw new Error('Could not resolve reference - too many "../" prefixes');e.pop(),n=n.substring(3)}return e.push(n),M(e.join("."))}return M(t?t+n.replace(/^\.\//,"."):n.replace(/^\.\/?/,""))}function B(t,n,e,r){var i,o,a,u,s;if(n.isRoot)return n;for(o=n.firstKey;e;)if(i=e.context,e=e.parent,i&&(u=!0,a=t.viewmodel.get(i),a&&("object"==typeof a||"function"==typeof a)&&o in a))return i.join(n.str);return H(t.viewmodel,o)?n:t.parent&&!t.isolated&&(u=!0,e=t.component.parentFragment,o=M(o),s=B(t.parent,o,e,!0))?(t.viewmodel.map(o,{origin:t.parent.viewmodel,keypath:s}),n):r||u?void 0:(t.viewmodel.set(n,void 0),n)}function W(t,n){var e;!t.parent||t.isolated||H(t.viewmodel,n)||(n=M(n),(e=B(t.parent,n,t.component.parentFragment,!0))&&t.viewmodel.map(n,{origin:t.parent.viewmodel,keypath:e}))}function H(t,n){return""===n||n in t.data||n in t.computations||n in t.mappings}function $(t){t.teardown()}function Z(t){t.unbind()}function Y(t){t.unrender()}function G(t){t.cancel()}function Q(t){t.detach()}function K(t){t.detachNodes()}function X(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function J(){for(var t,n,e;ls.ractives.length;)n=ls.ractives.pop(),e=n.viewmodel.applyChanges(),e&&ds.fire(n,e);for(tt(),t=0;t<ls.views.length;t+=1)ls.views[t].update();for(ls.views.length=0,t=0;t<ls.tasks.length;t+=1)ls.tasks[t]();return ls.tasks.length=0,ls.ractives.length?J():void 0}function tt(){var t,n,e,r;for(t=ps.length;t--;)n=ps[t],n.keypath?ps.splice(t,1):(e=ss(n.root,n.ref,n.parentFragment))&&((r||(r=[])).push({item:n,keypath:e}),ps.splice(t,1));r&&r.forEach(nt)}function nt(t){t.item.resolve(t.keypath)}function et(t,n,e){var r,i,o,a,u,s,c,l,f,h,p,d,g,v;if(r=new as(function(t){return i=t}),"object"==typeof t){e=n||{},s=e.easing,c=e.duration,u=[],l=e.step,f=e.complete,(l||f)&&(p={},e.step=null,e.complete=null,h=function(t){return function(n,e){p[t]=e}});for(o in t)t.hasOwnProperty(o)&&((l||f)&&(d=h(o),e={easing:s,duration:c},l&&(e.step=d)),e.complete=f?d:Ou,u.push(rt(this,o,t[o],e)));return v={easing:s,duration:c},l&&(v.step=function(t){return l(t,p)}),f&&r.then(function(t){return f(t,p)}),v.complete=i,g=rt(this,null,null,v),u.push(g),r.stop=function(){for(var t;t=u.pop();)t.stop();g&&g.stop()},r}return e=e||{},e.complete&&r.then(e.complete),e.complete=i,a=rt(this,t,n,e),r.stop=function(){return a.stop()},r}function rt(t,n,e,r){var i,o,a,s;return n&&(n=M(S(n))),null!==n&&(s=t.viewmodel.get(n)),ys.abort(n,t),u(s,e)?(r.complete&&r.complete(r.to),_s):(r.easing&&(i="function"==typeof r.easing?r.easing:t.easing[r.easing],"function"!=typeof i&&(i=null)),o=void 0===r.duration?400:r.duration,a=new ws({keypath:n,from:s,to:e,root:t,duration:o,easing:i,interpolator:r.interpolator,step:r.step,complete:r.complete}),ys.add(a),t._animations.push(a),a)}function it(){return this.detached?this.detached:(this.el&&D(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Ms.fire(this),this.detached)}function ot(t){return this.el?this.fragment.find(t):null}function at(t,n){var e;return e=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?hu(t.node,this.selector):null,e?(this.push(t.node||t.instance),n||this._makeDirty(),!0):void 0}function ut(t){var n;return(n=t.parentFragment)?n.owner:t.component&&(n=t.component.parentFragment)?n.owner:void 0}function st(t){var n,e;for(n=[t],e=ut(t);e;)n.push(e),e=ut(e);return n}function ct(t,n,e,r){var i=[];return _u(i,{selector:{value:n},live:{value:e},_isComponentQuery:{value:r},_test:{value:As}}),e?(_u(i,{cancel:{value:Ss},_root:{value:t},_sort:{value:Rs},_makeDirty:{value:Os},_remove:{value:js},_dirty:{value:!1,writable:!0}}),i):i}function lt(t,n){var e,r;return this.el?(n=n||{},e=this._liveQueries,(r=e[t])?n&&n.live?r:r.slice():(r=Ts(this,t,!!n.live,!1),r.live&&(e.push(t),e["_"+t]=r),this.fragment.findAll(t,r),r)):[]}function ft(t,n){var e,r;return n=n||{},e=this._liveComponentQueries,(r=e[t])?n&&n.live?r:r.slice():(r=Ts(this,t,!!n.live,!0),r.live&&(e.push(t),e["_"+t]=r),this.fragment.findAllComponents(t,r),r)}function ht(t){return this.fragment.findComponent(t)}function pt(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function dt(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function gt(t,n){var e=void 0===arguments[2]?{}:arguments[2];if(n){e.event?e.event.name=n:e.event={name:n,_noArg:!0};var r=M(n).wildcardMatches();vt(t,r,e.event,e.args,!0)}}function vt(t,n,e,r){var i,o,a=void 0===arguments[4]?!1:arguments[4],u=!0;for(Is.enqueue(t,e),o=n.length;o>=0;o--)i=t._subs[n[o]],i&&(u=mt(t,i,e,r)&&u);if(Is.dequeue(t),t.parent&&u){if(a&&t.component){var s=t.component.name+"."+n[n.length-1];n=M(s).wildcardMatches(),e&&(e.component=t)}vt(t.parent,n,e,r)}}function mt(t,n,e,r){var i=null,o=!1;e&&!e._noArg&&(r=[e].concat(r)),n=n.slice();for(var a=0,u=n.length;u>a;a+=1)n[a].apply(t,r)===!1&&(o=!0);return e&&!e._noArg&&o&&(i=e.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}function yt(t){var n={args:Array.prototype.slice.call(arguments,1)};Us(this,t,n)}function bt(t){var n;return t=M(S(t)),n=this.viewmodel.get(t,Ws),void 0===n&&this.parent&&!this.isolated&&ss(this,t.str,this.component.parentFragment)&&(n=this.viewmodel.get(t)),n}function wt(n,e){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(n=t(n),e=t(e)||null,!n)throw new Error("You must specify a valid target to insert into");n.insertBefore(this.detach(),e),this.el=n,(n.__ractive_instances__||(n.__ractive_instances__=[])).push(this),this.detached=null,xt(this)}function xt(t){$s.fire(t),t.findAllComponents("*").forEach(function(t){xt(t.instance)})}function _t(t,n,e){var r,i;return t=M(S(t)),r=this.viewmodel.get(t),o(r)&&o(n)?(i=gs.start(this,!0),this.viewmodel.merge(t,r,n,e),gs.end(),i):this.set(t,n,e&&e.complete)}function kt(t,n){var e,r;return e=E(t,n),r={},e.forEach(function(n){r[n.str]=t.get(n.str)}),r}function Mt(t,n,e,r){var i,o,a;n=M(S(n)),r=r||uc,n.isPattern?(i=new oc(t,n,e,r),t.viewmodel.patternObservers.push(i),o=!0):i=new Qs(t,n,e,r),i.init(r.init),t.viewmodel.register(n,i,o?"patternObservers":"observers"),i.ready=!0;var u={cancel:function(){var e;a||(o?(e=t.viewmodel.patternObservers.indexOf(i),t.viewmodel.patternObservers.splice(e,1),t.viewmodel.unregister(n,i,"patternObservers")):t.viewmodel.unregister(n,i,"observers"),a=!0)}};return t._observers.push(u),u}function Et(t,n,e){var r,i,o,a;if(c(t)){e=n,i=t,r=[];for(t in i)i.hasOwnProperty(t)&&(n=i[t],r.push(this.observe(t,n,e)));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}if("function"==typeof t)return e=n,n=t,t="",ac(this,t,n,e);if(o=t.split(" "),1===o.length)return ac(this,t,n,e);for(r=[],a=o.length;a--;)t=o[a],t&&r.push(ac(this,t,n,e));return{cancel:function(){for(;r.length;)r.pop().cancel()}}}function At(t,n,e){var r=this.observe(t,function(){n.apply(this,arguments),r.cancel()},{init:!1,defer:e&&e.defer});return r}function St(t,n){var e,r=this;if(t)e=t.split(" ").map(lc).filter(fc),e.forEach(function(t){var e,i;(e=r._subs[t])&&(n?(i=e.indexOf(n),-1!==i&&e.splice(i,1)):r._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Nt(t,n){var e,r,i,o=this;if("object"==typeof t){e=[];for(r in t)t.hasOwnProperty(r)&&e.push(this.on(r,t[r]));return{cancel:function(){for(var t;t=e.pop();)t.cancel()}}}return i=t.split(" ").map(lc).filter(fc),i.forEach(function(t){(o._subs[t]||(o._subs[t]=[])).push(n)}),{cancel:function(){return o.off(t,n)}}}function Ct(t,n){var e=this.on(t,function(){n.apply(this,arguments),e.cancel()});return e}function Rt(t,n,e){var r,i,o,a,u,s,c=[];if(r=Ot(t,n,e),!r)return null;for(i=t.length,u=r.length-2-r[1],o=Math.min(i,r[0]),a=o+r[1],s=0;o>s;s+=1)c.push(s);for(;a>s;s+=1)c.push(-1);for(;i>s;s+=1)c.push(s+u);return 0!==u?c.touchedFrom=r[0]:c.touchedFrom=t.length,c}function Ot(t,n,e){switch(n){case"splice":for(void 0!==e[0]&&e[0]<0&&(e[0]=t.length+Math.max(e[0],-t.length));e.length<2;)e.push(0);return e[1]=Math.min(e[1],t.length-e[0]),e;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(e);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(e)}}function jt(n,e){var r,i,o,a=this;if(o=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),r=gs.start(this,!0),gs.scheduleTask(function(){return Sc.fire(a)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(n=t(n)||this.el,e=t(e)||this.anchor,this.el=n,this.anchor=e,!this.append&&n){var u=n.__ractive_instances__;u&&u.length&&Tt(u),n.innerHTML=""}return this.cssId&&Ec.apply(),n&&((i=n.__ractive_instances__)?i.push(this):n.__ractive_instances__=[this],e?n.insertBefore(this.fragment.render(),e):n.appendChild(this.fragment.render())),gs.end(),this.transitionsEnabled=o,r.then(function(){return Nc.fire(a);
})}function Tt(t){t.splice(0,t.length).forEach($)}function Pt(t,n){for(var e=t.slice(),r=n.length;r--;)~e.indexOf(n[r])||e.push(n[r]);return e}function Ft(t,n){var e,r,i;return r='[data-ractive-css~="{'+n+'}"]',i=function(t){var n,e,i,o,a,u,s,c=[];for(n=[];e=Pc.exec(t);)n.push({str:e[0],base:e[1],modifiers:e[2]});for(o=n.map(qt),s=n.length;s--;)u=o.slice(),i=n[s],u[s]=i.base+r+i.modifiers||"",a=o.slice(),a[s]=r+" "+a[s],c.push(u.join(" "),a.join(" "));return c.join(", ")},e=Dc.test(t)?t.replace(Dc,r):t.replace(Tc,"").replace(jc,function(t,n){var e,r;return Fc.test(n)?t:(e=n.split(",").map(Dt),r=e.map(i).join(", ")+" ",t.replace(n,r))})}function Dt(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function qt(t){return t.str}function Lt(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?f("data option must be an object or a function, `"+t+"` is not valid"):g("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function zt(t,n){Lt(n);var e="function"==typeof t,r="function"==typeof n;return n||e||(n={}),e||r?function(){var i=r?It(n,this):n,o=e?It(t,this):t;return Ut(i,o)}:Ut(n,t)}function It(t,n){var e=t.call(n);if(e)return"object"!=typeof e&&f("Data function must return an object"),e.constructor!==Object&&v("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),e}function Ut(t,n){if(t&&n){for(var e in n)e in t||(t[e]=n[e]);return t}return t||n}function Vt(t){var n,e,r;return t.matchString("=")?(n=t.pos,t.allowWhitespace(),(e=t.matchPattern(Tl))?t.matchPattern(Pl)?(r=t.matchPattern(Tl))?(t.allowWhitespace(),t.matchString("=")?[e,r]:(t.pos=n,null)):(t.pos=n,null):null:(t.pos=n,null)):null}function Bt(t){var n;return(n=t.matchPattern(Dl))?{t:dl,v:n}:null}function Wt(t){var n,e;if(t.interpolate[t.inside]===!1)return null;for(e=0;e<t.tags.length;e+=1)if(n=Ht(t,t.tags[e]))return n}function Ht(t,n){var e,r,i,o;if(e=t.pos,t.matchString("\\"+n.open)){if(0===e||"\\"!==t.str[e-1])return n.open}else if(!t.matchString(n.open))return null;if(r=jl(t))return t.matchString(n.close)?(n.open=r[0],n.close=r[1],t.sortMustacheTags(),Ll):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var a=t.pos;Fl(t)?t.pos=a:(t.pos=a-n.close.length,t.error("Attempted to close a section that wasn't open"))}for(o=0;o<n.readers.length;o+=1)if(i=n.readers[o],r=i(t,n))return n.isStatic&&(r.s=!0),t.includeLinePositions&&(r.p=t.getLinePos(e)),r;return t.pos=e,null}function $t(t){var n;return(n=t.matchPattern(Vl))?{t:cl,v:n}:null}function Zt(t){var n=t.remaining();return"true"===n.substr(0,4)?(t.pos+=4,{t:pl,v:"true"}):"false"===n.substr(0,5)?(t.pos+=5,{t:pl,v:"false"}):null}function Yt(t){var n;return(n=Gl(t))?Xl.test(n.v)?n.v:'"'+n.v.replace(/"/g,'\\"')+'"':(n=Ul(t))?n.v:(n=t.matchPattern(Ql))?n:void 0}function Gt(t){var n,e,r;return n=t.pos,t.allowWhitespace(),e=Kl(t),null===e?(t.pos=n,null):(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),r=Cf(t),null===r?(t.pos=n,null):{t:vl,k:e,v:r}):(t.pos=n,null))}function Qt(t){var n,e,r,i;return n=t.pos,r=Jl(t),null===r?null:(e=[r],t.matchString(",")?(i=Qt(t),i?e.concat(i):(t.pos=n,null)):e)}function Kt(t){function n(t){r.push(t)}var e,r,i,o;return e=t.pos,t.allowWhitespace(),i=Cf(t),null===i?null:(r=[i],t.allowWhitespace(),t.matchString(",")&&(o=Kt(t),null===o&&t.error(zl),o.forEach(n)),r)}function Xt(t){return Ul(t)||Bl(t)||Gl(t)||nf(t)||rf(t)||Fl(t)}function Jt(t){var n,e,r,i,o,a;return n=t.pos,r=t.matchPattern(/^@(?:keypath|index|key)/),r||(e=t.matchPattern(uf)||"",r=!e&&t.relaxedNames&&t.matchPattern(ff)||t.matchPattern(lf),r||"."!==e||(e="",r=".")),r?e||t.relaxedNames||!Hl.test(r)?!e&&Wl.test(r)?(i=Wl.exec(r)[0],t.pos=n+i.length,{t:gl,v:i}):(o=(e||"")+S(r),t.matchString("(")&&(a=o.lastIndexOf("."),-1!==a?(o=o.substr(0,a),t.pos=n+o.length):t.pos-=1),{t:ml,n:o.replace(/^this\./,"./").replace(/^this$/,".")}):(t.pos=n,null):null}function tn(t){var n,e;return n=t.pos,t.matchString("(")?(t.allowWhitespace(),e=Cf(t),e||t.error(zl),t.allowWhitespace(),t.matchString(")")||t.error(Il),{t:xl,x:e}):null}function nn(t){var n,e,r;if(n=t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),e=t.matchPattern(Ql))return{t:yl,n:e};t.error("Expected a property name")}return t.matchString("[")?(t.allowWhitespace(),r=Cf(t),r||t.error(zl),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:yl,x:r}):null}function en(t){var n,e,r,i;return(e=Sf(t))?(n=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),r=Cf(t),r||t.error(zl),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),i=Cf(t),i||t.error(zl),{t:_l,o:[e,r,i]}):(t.pos=n,e)):null}function rn(t){return Nf(t)}function on(t){function n(t){switch(t.t){case pl:case gl:case cl:case dl:return t.v;case ll:return JSON.stringify(String(t.v));case fl:return"["+(t.m?t.m.map(n).join(","):"")+"]";case hl:return"{"+(t.m?t.m.map(n).join(","):"")+"}";case vl:return t.k+":"+n(t.v);case wl:return("typeof"===t.s?"typeof ":t.s)+n(t.o);case kl:return n(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+n(t.o[1]);case Ml:return n(t.x)+"("+(t.o?t.o.map(n).join(","):"")+")";case xl:return"("+n(t.x)+")";case bl:return n(t.x)+n(t.r);case yl:return t.n?"."+t.n:"["+n(t.x)+"]";case _l:return n(t.o[0])+"?"+n(t.o[1])+":"+n(t.o[2]);case ml:return"_"+e.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}var e;return an(t,e=[]),{r:e,s:n(t)}}function an(t,n){var e,r;if(t.t===ml&&-1===n.indexOf(t.n)&&n.unshift(t.n),r=t.o||t.m)if(c(r))an(r,n);else for(e=r.length;e--;)an(r[e],n);t.x&&an(t.x,n),t.r&&an(t.r,n),t.v&&an(t.v,n)}function un(t,n){var e;if(t){for(;t.t===xl&&t.x;)t=t.x;return t.t===ml?n.r=t.n:t.t===cl&&jf.test(t.v)?n.r=t.v:(e=sn(t))?n.rx=e:n.x=Rf(t),n}}function sn(t){for(var n,e=[];t.t===bl&&t.r.t===yl;)n=t.r,n.x?n.x.t===ml?e.unshift(n.x):e.unshift(Rf(n.x)):e.unshift(n.n),t=t.x;return t.t!==ml?null:{r:t.n,m:e}}function cn(t,n){var e,r=Cf(t);return r?(t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'"),e={t:Gc},Of(r,e),e):null}function ln(t,n){var e,r;return t.matchString("&")?(t.allowWhitespace(),(e=Cf(t))?(t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'"),r={t:Gc},Of(e,r),r):null):null}function fn(t,n){var e,r,i,o,a;return e=t.pos,t.matchString(">")?(t.allowWhitespace(),r=t.pos,t.relaxedNames=!0,i=Cf(t),t.relaxedNames=!1,t.allowWhitespace(),o=Cf(t),t.allowWhitespace(),i?(a={t:tl},Of(i,a),t.allowWhitespace(),o&&(a={t:Qc,n:Nl,f:[a]},Of(o,a)),t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'"),a):null):null}function hn(t,n){var e;return t.matchString("!")?(e=t.remaining().indexOf(n.close),-1!==e?(t.pos+=e+n.close.length,{t:nl}):void 0):null}function pn(t,n){var e,r,i;if(e=t.pos,r=Cf(t),!r)return null;for(i=0;i<n.length;i+=1)if(t.remaining().substr(0,n[i].length)===n[i])return r;return t.pos=e,af(t)}function dn(t,n){var e,r,i,o;e=t.pos;try{r=qf(t,[n.close])}catch(a){o=a}if(!r){if("!"===t.str.charAt(e))return t.pos=e,null;if(o)throw o}if(!t.matchString(n.close)&&(t.error("Expected closing delimiter '"+n.close+"' after reference"),!r)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return i={t:Yc},Of(r,i),i}function gn(t,n){var e,r,i;return t.matchPattern(If)?(e=t.pos,r=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(n.close)||t.error("expected legal partial name"),i={t:al},r&&(i.n=r),i):null}function vn(t,n){var e,r,i,o;return e=t.pos,t.matchString(n.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),r=t.remaining(),i=r.indexOf(n.close),-1!==i?(o={t:Xc,r:r.substr(0,i).split(" ")[0]},t.pos+=i,t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'"),o):(t.pos=e,null)):(t.pos=e,null)):null}function mn(t,n){var e=t.pos;return t.matchString(n.open)?t.matchPattern(Bf)?(t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'"),{t:Rl}):(t.pos=e,null):null}function yn(t,n){var e,r=t.pos;return t.matchString(n.open)?t.matchPattern(Hf)?(e=Cf(t),t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'"),{t:Ol,x:e}):(t.pos=r,null):null}function bn(t,n){var e,r,i,o,a,u,s,c,l,f,h,p;if(e=t.pos,t.matchString("^"))i={t:Qc,f:[],n:Al};else{if(!t.matchString("#"))return null;i={t:Qc,f:[]},t.matchString("partial")&&(t.pos=e-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(s=t.matchPattern(Qf))&&(p=s,i.n=$f[s])}if(t.allowWhitespace(),r=Cf(t),r||t.error("Expected expression"),h=t.matchPattern(Yf)){var d=void 0;(d=t.matchPattern(Gf))?i.i=h+","+d:i.i=h}t.allowWhitespace(),t.matchString(n.close)||t.error("Expected closing delimiter '"+n.close+"'"),t.sectionDepth+=1,a=i.f,l=[];do if(o=Uf(t,n))p&&o.r!==p&&t.error("Expected "+n.open+"/"+p+n.close),t.sectionDepth-=1,f=!0;else if(o=Wf(t,n))i.n===Al&&t.error("{{else}} not allowed in {{#unless}}"),u&&t.error("illegal {{elseif...}} after {{else}}"),c||(c=wn(r,i.n)),c.f.push({t:Qc,n:El,x:Rf(_n(l.concat(o.x))),f:a=[]}),l.push(xn(o.x));else if(o=Vf(t,n))i.n===Al&&t.error("{{else}} not allowed in {{#unless}}"),u&&t.error("there can only be one {{else}} block, at the end of a section"),u=!0,c?c.f.push({t:Qc,n:El,x:Rf(_n(l)),f:a=[]}):(c=wn(r,i.n),a=c.f);else{if(o=t.read(tp),!o)break;a.push(o)}while(!f);return c&&(i.n===Nl&&(i.n=Cl),i.l=c),Of(r,i),i.f.length||delete i.f,i}function wn(t,n){var e;return n===Nl?(e={t:Qc,n:El,f:[]},Of(xn(t),e)):(e={t:Qc,n:Al,f:[]},Of(t,e)),e}function xn(t){return t.t===wl&&"!"===t.s?t.o:{t:wl,s:"!",o:kn(t)}}function _n(t){return 1===t.length?t[0]:{t:kl,s:"&&",o:[kn(t[0]),kn(_n(t.slice(1)))]}}function kn(t){return{t:xl,x:t}}function Mn(t){var n,e,r,i,o;return n=t.pos,t.matchString(Xf)?(r=t.remaining(),i=r.indexOf(Jf),-1===i&&t.error("Illegal HTML - expected closing comment sequence ('-->')"),e=r.substr(0,i),t.pos+=i+3,o={t:nl,c:e},t.includeLinePositions&&(o.p=t.getLinePos(n)),o):null}function En(t){return t.replace(kf,function(t,n){var e;return e="#"!==n[0]?xf[n]:"x"===n[1]?parseInt(n.substring(2),16):parseInt(n.substring(1),10),e?String.fromCharCode(An(e)):t})}function An(t){return t?10===t?32:128>t?t:159>=t?_f[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function Sn(t){return t.replace(Af,"&amp;").replace(Mf,"&lt;").replace(Ef,"&gt;")}function Nn(t){return"string"==typeof t}function Cn(t){return t.t===nl||t.t===el}function Rn(t){return(t.t===Qc||t.t===Kc)&&t.f}function On(t,n,e,r,i){var a,u,s,c,l,f,h,p;for(ch(t),a=t.length;a--;)u=t[a],u.exclude?t.splice(a,1):n&&u.t===nl&&t.splice(a,1);for(lh(t,r?dh:null,i?gh:null),a=t.length;a--;){if(u=t[a],u.f){var d=u.t===Jc&&ph.test(u.e);l=e||d,!e&&d&&lh(u.f,vh,mh),l||(s=t[a-1],c=t[a+1],(!s||"string"==typeof s&&gh.test(s))&&(f=!0),(!c||"string"==typeof c&&dh.test(c))&&(h=!0)),On(u.f,n,l,f,h)}if(u.l&&(On(u.l.f,n,e,f,h),t.splice(a+1,0,u.l),delete u.l),u.a)for(p in u.a)u.a.hasOwnProperty(p)&&"string"!=typeof u.a[p]&&On(u.a[p],n,e,f,h);if(u.m&&On(u.m,n,e,f,h),u.v)for(p in u.v)u.v.hasOwnProperty(p)&&(o(u.v[p].n)&&On(u.v[p].n,n,e,f,h),o(u.v[p].d)&&On(u.v[p].d,n,e,f,h))}for(a=t.length;a--;)"string"==typeof t[a]&&("string"==typeof t[a+1]&&(t[a]=t[a]+t[a+1],t.splice(a+1,1)),e||(t[a]=t[a].replace(hh," ")),""===t[a]&&t.splice(a,1))}function jn(t){var n,e;return n=t.pos,t.matchString("</")?(e=t.matchPattern(bh))?t.inside&&e!==t.inside?(t.pos=n,null):{t:il,e:e}:(t.pos-=2,void t.error("Illegal closing tag")):null}function Tn(t){var n,e,r;return t.allowWhitespace(),(e=t.matchPattern(_h))?(n={name:e},r=Pn(t),null!=r&&(n.value=r),n):null}function Pn(t){var n,e,r,i;return n=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),e=t.pos,r=t.sectionDepth,i=qn(t,"'")||qn(t,'"')||Dn(t),null===i&&t.error("Expected valid attribute value"),t.sectionDepth!==r&&(t.pos=e,t.error("An attribute value must contain as many opening section tags as closing section tags")),i.length?1===i.length&&"string"==typeof i[0]?En(i[0]):i:""):(t.pos=n,null)}function Fn(t){var n,e,r,i,o;return n=t.pos,(e=t.matchPattern(kh))?(r=e,i=t.tags.map(function(t){return t.open}),-1!==(o=wh(r,i))&&(e=e.substr(0,o),t.pos=n+e.length),e):null}function Dn(t){var n,e;for(t.inAttribute=!0,n=[],e=ql(t)||Fn(t);null!==e;)n.push(e),e=ql(t)||Fn(t);return n.length?(t.inAttribute=!1,n):null}function qn(t,n){var e,r,i;if(e=t.pos,!t.matchString(n))return null;for(t.inAttribute=n,r=[],i=ql(t)||Ln(t,n);null!==i;)r.push(i),i=ql(t)||Ln(t,n);return t.matchString(n)?(t.inAttribute=!1,r):(t.pos=e,null)}function Ln(t,n){var e,r,i,o;return e=t.pos,i=t.remaining(),o=t.tags.map(function(t){return t.open}),o.push(n),r=wh(i,o),-1===r&&t.error("Quoted attribute value must have a closing quote"),r?(t.pos+=r,i.substr(0,r)):null}function zn(t){var n,e,r;return t.allowWhitespace(),(n=Kl(t))?(r={key:n},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(e=t.read())?(r.value=e.v,r):null):null):null}function In(t,n){var e,r,i,o,a,u,s,c,l;if("string"==typeof t){if(r=Sh.exec(t)){var f=t.lastIndexOf(")");return Nh.test(t)||n.error("Invalid input after method call expression '"+t.slice(f+1)+"'"),e={m:r[1]},o="["+t.slice(e.m.length+1,f)+"]",i=new Mh(o),e.a=Rf(i.result[0]),e}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(e={},s=[],c=[],t){for(;t.length;)if(a=t.shift(),"string"==typeof a){if(u=a.indexOf(":"),-1!==u){u&&s.push(a.substr(0,u)),a.length>u+1&&(c[0]=a.substring(u+1));break}s.push(a)}else s.push(a);c=c.concat(t)}return s.length?c.length||"string"!=typeof s?(e={n:1===s.length&&"string"==typeof s[0]?s[0]:s},1===c.length&&"string"==typeof c[0]?(l=Eh("["+c[0]+"]"),e.a=l?l.value:c[0].trim()):e.d=c):e=s:e="",e}function Un(t){var n,e,r,i,o,a,u,s,c,l,f,h,p,d,g,v;if(n=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(e={},t.includeLinePositions&&(e.p=t.getLinePos(n)),t.matchString("!"))return e.t=sl,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),e.a=t.matchPattern(/^(.+?)>/),e;if(e.t=Jc,e.e=t.matchPattern(Rh),!e.e)return null;for(Oh.test(t.nextChar())||t.error("Illegal tag name"),o=function(n,r){var i=r.n||r;Ph.test(i)&&(t.pos-=i.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),e.v[n]=r},t.allowWhitespace();a=ql(t)||xh(t);)a.name?(r=Fh[a.name])?e[r]=Ah(a.value,t):(i=Th.exec(a.name))?(e.v||(e.v={}),u=Ah(a.value,t),o(i[1],u)):t.sanitizeEventAttributes&&jh.test(a.name)||(e.a||(e.a={}),e.a[a.name]=a.value||(""===a.value?"":0)):(e.m||(e.m=[]),e.m.push(a)),t.allowWhitespace();if(t.allowWhitespace(),t.matchString("/")&&(s=!0),!t.matchString(">"))return null;var m=e.e.toLowerCase(),y=t.preserveWhitespace;if(!s&&!wf.test(e.e)){t.elementStack.push(m),"script"!==m&&"style"!==m||(t.inside=m),c=[],l=wu(null);do if(d=t.pos,g=t.remaining(),Vn(m,g))if(v=yh(t)){p=!0;var b=v.e.toLowerCase();if(b!==m&&(t.pos=d,!~t.elementStack.indexOf(b))){var w="Unexpected closing tag";wf.test(b)&&(w+=" (<"+b+"> is a void element - it cannot contain children)"),t.error(w)}}else(h=Uf(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(p=!0,t.pos=d):(h=t.read(np))?(l[h.n]&&(t.pos=d,t.error("Duplicate partial definition")),fh(h.f,t.stripComments,y,!y,!y),l[h.n]=h.f,f=!0):(h=t.read(tp))?c.push(h):p=!0;else p=!0;while(!p);c.length&&(e.f=c),f&&(e.p=l),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(m)?Dh:e}function Vn(t,n){var e,r;return e=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(n),r=Ch[t],e&&r?!~r.indexOf(e[1].toLowerCase()):!0}function Bn(t){var n,e,r,i;return e=t.remaining(),i=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?n=e.indexOf(i):(r=t.tags.map(function(t){return t.open}),r=r.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0?r.push('"',"'","=","<",">","`"):t.inAttribute?r.push(t.inAttribute):r.push(i),n=wh(e,r)),n?(-1===n&&(n=e.length),t.pos+=n,t.inside?e.substr(0,n):En(e.substr(0,n))):null}function Wn(t){return t.replace(Uh,"\\$&")}function Hn(t){var n=t.pos,e=t.standardDelimiters[0],r=t.standardDelimiters[1],i=void 0,o=void 0;if(!t.matchPattern(Bh)||!t.matchString(e))return t.pos=n,null;var a=t.matchPattern(Wh);if(v("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+a+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+a+"}} --> ... <!-- {{/"+a+"}} -->'"),!t.matchString(r)||!t.matchPattern(Hh))return t.pos=n,null;i=[];var u=new RegExp("^<!--\\s*"+Ih(e)+"\\s*\\/\\s*"+a+"\\s*"+Ih(r)+"\\s*-->");do t.matchPattern(u)?o=!0:(qh=t.read(tp),qh||t.error("expected closing comment ('<!-- "+e+"/"+a+r+" -->')"),i.push(qh));while(!o);return{t:ul,f:i,n:a}}function $n(t){var n,e,r,i,o;n=t.pos;var a=t.standardDelimiters;if(!t.matchString(a[0]))return null;if(!t.matchPattern(Zh))return t.pos=n,null;e=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),e||t.error("expected legal partial name"),t.matchString(a[1])||t.error("Expected closing delimiter '"+a[1]+"'"),r=[];do(i=Uf(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!i.r&&t.error("Expected "+a[0]+"/partial"+a[1]),o=!0):(i=t.read(tp),i||t.error("Expected "+a[0]+"/partial"+a[1]),r.push(i));while(!o);return{t:ul,n:e,f:r}}function Zn(t){for(var n=[],e=wu(null),r=!1,i=t.preserveWhitespace;t.pos<t.str.length;){var o=t.pos,a=void 0,u=void 0;(u=t.read(np))?(e[u.n]&&(t.pos=o,t.error("Duplicated partial definition")),fh(u.f,t.stripComments,i,!i,!i),e[u.n]=u.f,r=!0):(a=t.read(tp))?n.push(a):t.error("Unexpected template content")}var s={v:au,t:n};return r&&(s.p=e),s}function Yn(t,n){return new Jh(t,n||{}).result}function Gn(t){var n=wu(ap);return n.parse=function(n,e){return Qn(n,e||t)},n}function Qn(t,n){if(!Gh)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Gh(t,n||this.options)}function Kn(t,n){var e;if(!Ja){if(n&&n.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(Xn(t)&&(t=t.substring(1)),!(e=document.getElementById(t))){if(n&&n.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==e.tagName.toUpperCase()){if(n&&n.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in e?e.textContent:e.innerHTML}function Xn(t){return t&&"#"===t[0]}function Jn(t){return!("string"==typeof t)}function te(t){return t.defaults&&(t=t.defaults),op.reduce(function(n,e){return n[e]=t[e],n},{})}function ne(t){var n,e=t._config.template;if(e&&e.fn)return n=ee(t,e.fn),n!==e.result?(e.result=n,n=ie(n,t)):void 0}function ee(t,n){var e=re(up.getParseOptions(t));return n.call(t,e)}function re(t){var n=wu(up);return n.parse=function(n,e){return up.parse(n,e||t)},n}function ie(t,n){if("string"==typeof t)"#"===t[0]&&(t=up.fromId(t)),t=Gh(t,up.getParseOptions(n));else{if(void 0==t)throw new Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==au)throw new Error("Mismatched template version (expected "+au+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function oe(t,n,e){if(n)for(var r in n)!e&&t.hasOwnProperty(r)||(t[r]=n[r])}function ae(t,n,e){if(!/_super/.test(e))return e;var r=function(){var t,i=ue(r._parent,n),o="_super"in this,a=this._super;return this._super=i,t=e.apply(this,arguments),o?this._super=a:delete this._super,t};return r._parent=t,r._method=e,r}function ue(t,n){var e,r;return n in t?(e=t[n],r="function"==typeof e?e:function(){return e}):r=Ou,r}function se(t,n,e){return"options."+t+" has been deprecated in favour of options."+n+"."+(e?" You cannot specify both options, please use options."+n+".":"")}function ce(t,n,e){if(n in t){if(e in t)throw new Error(se(n,e,!0));g(se(n,e)),t[e]=t[n]}}function le(t){ce(t,"beforeInit","onconstruct"),ce(t,"init","onrender"),ce(t,"complete","oncomplete"),ce(t,"eventDefinitions","events"),o(t.adaptors)&&ce(t,"adaptors","adapt")}function fe(t,n,e,r){yp(r);for(var i in r)if(gp.hasOwnProperty(i)){var o=r[i];"el"!==i&&"function"==typeof o?g(""+i+" is a Ractive option that does not expect a function and will be ignored","init"===t?e:null):e[i]=o}vp.forEach(function(i){i[t](n,e,r)}),Rc[t](n,e,r),cp[t](n,e,r),zc[t](n,e,r),he(n.prototype,e,r)}function he(t,n,e){for(var r in e)if(!dp[r]&&e.hasOwnProperty(r)){var i=e[r];"function"==typeof i&&(i=mp(t,r,i)),n[r]=i}}function pe(t){var n={};return t.forEach(function(t){return n[t]=!0}),n}function de(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function ge(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(n){var e=n.detach();e&&t.appendChild(e)}),t)}function ve(t){var n,e,r,i;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(r=this.items[n],r.find&&(i=r.find(t)))return i;return null}}function me(t,n){var e,r,i;if(this.items)for(r=this.items.length,e=0;r>e;e+=1)i=this.items[e],i.findAll&&i.findAll(t,n);return n}function ye(t,n){var e,r,i;if(this.items)for(r=this.items.length,e=0;r>e;e+=1)i=this.items[e],i.findAllComponents&&i.findAllComponents(t,n);return n}function be(t){var n,e,r,i;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(r=this.items[e],r.findComponent&&(i=r.findComponent(t)))return i;return null}}function we(t){var n,e=t.index;return n=this.items[e+1]?this.items[e+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function xe(){return this.items&&this.items[0]?this.items[0].firstNode():null}function _e(t,n,e,r){return r=r||0,t.map(function(t){var i,o,a;return t.text?t.text:t.fragments?t.fragments.map(function(t){return _e(t.items,n,e,r)}).join(""):(i=e+"-"+r++,a=t.keypath&&(o=t.root.viewmodel.wrapped[t.keypath.str])?o.value:t.getValue(),n[i]=a,"${"+i+"}")}).join("")}function ke(){var t,n,e,r;return this.dirtyArgs&&(n=Np(this.items,t={},this.root._guid),e=Eh("["+n+"]",t),r=e?e.value:[this.toString()],this.argsList=r,this.dirtyArgs=!1),this.argsList}function Me(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function Ee(){var t,n,e,r;return this.dirtyValue&&(n=Np(this.items,t={},this.root._guid),e=Eh(n,t),r=e?e.value:this.toString(),this.value=r,this.dirtyValue=!1),this.value}function Ae(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function Se(){return this.value}function Ne(t,n){for(var e,r=0;r<n.prop.length;r++)if(void 0!==(e=t[n.prop[r]]))return e}function Ce(t,n){var e,r,i,o,a,u={},s=!1;for(n||(u.refs=e={});t;){if((a=t.owner)&&(r=a.indexRefs)){if(n&&(i=a.getIndexRef(n)))return u.ref={fragment:t,ref:i},u;if(!n)for(o in r)i=r[o],e[i.n]||(s=!0,e[i.n]={fragment:t,ref:i})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(u.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return s?u:void 0}function Re(t,n,e){var r;return"@"===n.charAt(0)?new Up(t,n,e):(r=Wp(t.parentFragment,n))?new Bp(t,r,e):new Lp(t,n,e)}function Oe(t,n){var e,r;if(Yp[t])return Yp[t];for(r=[];n--;)r[n]="_"+n;return e=new Function(r.join(","),"return("+t+")"),Yp[t]=e,e}function je(t){return t.call()}function Te(t,n){return t.replace(/_([0-9]+)/g,function(t,e){var r,i;return+e>=n.length?"_"+e:(r=n[e],void 0===r?"undefined":r.isSpecial?(i=r.value,"number"==typeof i?i:'"'+i+'"'):r.str)})}function Pe(t){return M("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function Fe(t){return void 0!==t&&"@"!==t[0]}function De(t,n){var e,r,i;if(t.__ractive_nowrap)return t;if(r="__ractive_"+n._guid,e=t[r])return e;if(/this/.test(t.toString())){xu(t,r,{value:Gp.call(t,n),configurable:!0});for(i in t)t.hasOwnProperty(i)&&(t[r][i]=t[i]);return n._boundFunctions.push({fn:t,prop:r}),t[r]}return xu(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function qe(t){return t.value}function Le(t){return void 0!=t}function ze(t){t.forceResolution()}function Ie(t,n){function e(n){t.resolve(n)}function r(n){var e=t.keypath;n!=e&&(t.resolve(n),void 0!==e&&t.fragments&&t.fragments.forEach(function(t){t.rebind(e,n)}))}var i,o,a;o=n.parentFragment,a=n.template,t.root=o.root,t.parentFragment=o,t.pElement=o.pElement,t.template=n.template,t.index=n.index||0,t.isStatic=n.template.s,t.type=n.template.t,t.registered=!1,(i=a.r)&&(t.resolver=$p(t,i,e)),n.template.x&&(t.resolver=new Qp(t,o,n.template.x,r)),n.template.rx&&(t.resolver=new td(t,n.template.rx,r)),t.template.n!==Al||t.hasOwnProperty("value")||t.setValue(void 0)}function Ue(t){var n,e,r;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,n=!0),this.keypath=t,void 0!=t&&(e=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(e),void(n&&(r=this.twowayBinding)&&r.rebound()))}function Ve(t,n){this.fragments&&this.fragments.forEach(function(e){return e.rebind(t,n)}),this.resolver&&this.resolver.rebind(t,n)}function Be(){this.parentFragment.bubble()}function We(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(n){t.appendChild(n.detach())}),t)}function He(t){var n,e,r;for(e=this.fragments.length,n=0;e>n;n+=1)if(r=this.fragments[n].find(t))return r;return null}function $e(t,n){var e,r;for(r=this.fragments.length,e=0;r>e;e+=1)this.fragments[e].findAll(t,n)}function Ze(t,n){var e,r;for(r=this.fragments.length,e=0;r>e;e+=1)this.fragments[e].findAllComponents(t,n)}function Ye(t){var n,e,r;for(e=this.fragments.length,n=0;e>n;n+=1)if(r=this.fragments[n].findComponent(t))return r;return null}function Ge(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function Qe(){var t,n,e;if(t=this.fragments.length)for(n=0;t>n;n+=1)if(e=this.fragments[n].firstNode())return e;return this.parentFragment.findNextNode(this)}function Ke(t){var n,e,r,i,o,a,u,s=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===Sl){if(this.shuffling=!0,gs.scheduleTask(function(){return s.shuffling=!1}),n=this.parentFragment,o=[],t.forEach(function(t,n){var r,i,a,u,c;return t===n?void(o[t]=s.fragments[n]):(r=s.fragments[n],void 0===e&&(e=n),-1===t?(s.fragmentsToUnrender.push(r),void r.unbind()):(i=t-n,a=s.keypath.join(n),u=s.keypath.join(t),r.index=t,(c=r.registeredIndexRefs)&&c.forEach(Xe),r.rebind(a,u),void(o[t]=r)))}),i=this.root.viewmodel.get(this.keypath).length,void 0===e){if(this.length===i)return;e=this.length}for(this.length=this.fragments.length=i,this.rendered&&gs.addView(this),a={template:this.template.f,root:this.root,owner:this},r=e;i>r;r+=1)u=o[r],u||this.fragmentsToCreate.push(r),this.fragments[r]=u}}function Xe(t){t.rebind("","")}function Je(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(n){return t.docFrag.appendChild(n.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function tr(t){var n,e,r=this;this.updating||(this.updating=!0,this.keypath&&(n=this.root.viewmodel.wrapped[this.keypath.str])&&(t=n.get()),this.fragmentsToCreate.length?(e={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var n;e.context=r.keypath.join(t),e.index=t,n=new yb(e),r.fragmentsToRender.push(r.fragments[t]=n)}),this.fragmentsToCreate.length=0):er(this,t)&&(this.bubble(),this.rendered&&gs.addView(this)),this.value=t,this.updating=!1)}function nr(t,n,e){if(n===Sl&&t.indexRefs&&t.indexRefs[0]){var r=t.indexRefs[0];(e&&"i"===r.t||!e&&"k"===r.t)&&(e||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),r.t=e?"k":"i"}t.currentSubtype=n}function er(t,n){var e={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case El:return t.hasContext=!1,ur(t,n,!1,e);case Al:return t.hasContext=!1,ur(t,n,!0,e);case Nl:return ar(t,e);case Cl:return or(t,n,e);case Sl:if(c(n))return nr(t,t.subtype,!0),ir(t,n,e)}return t.ordered=!!a(n),t.ordered?(nr(t,Sl,!1),rr(t,n,e)):c(n)||"function"==typeof n?t.template.i?(nr(t,Sl,!0),ir(t,n,e)):(nr(t,Nl,!1),ar(t,e)):(nr(t,El,!1),t.hasContext=!1,ur(t,n,!1,e))}function rr(t,n,e){var r,i,o;if(i=n.length,i===t.length)return!1;if(i<t.length)t.fragmentsToUnrender=t.fragments.splice(i,t.length-i),t.fragmentsToUnrender.forEach(Z);else if(i>t.length)for(r=t.length;i>r;r+=1)e.context=t.keypath.join(r),e.index=r,o=new yb(e),t.fragmentsToRender.push(t.fragments[r]=o);return t.length=i,!0}function ir(t,n,e){var r,i,o,a,u,s;for(o=t.hasKey||(t.hasKey={}),i=t.fragments.length;i--;)a=t.fragments[i],a.key in n||(u=!0,a.unbind(),t.fragmentsToUnrender.push(a),t.fragments.splice(i,1),o[a.key]=!1);for(i=t.fragments.length;i--;)a=t.fragments[i],a.index!==i&&(a.index=i,(s=a.registeredIndexRefs)&&s.forEach(lr));i=t.fragments.length;for(r in n)o[r]||(u=!0,e.context=t.keypath.join(r),e.key=r,e.index=i++,a=new yb(e),t.fragmentsToRender.push(a),t.fragments.push(a),o[r]=!0);return t.length=t.fragments.length,u}function or(t,n,e){return n?ar(t,e):sr(t)}function ar(t,n){var e;return t.length?void 0:(n.context=t.keypath,n.index=0,e=new yb(n),t.fragmentsToRender.push(t.fragments[0]=e),t.length=1,!0)}function ur(t,n,e,r){var i,o,u,s,l;if(o=a(n)&&0===n.length,u=!1,!a(n)&&c(n)){u=!0;for(l in n){u=!1;break}}return i=e?o||u||!n:n&&!o&&!u,i?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(Z),!0):void 0:(r.index=0,s=new yb(r),t.fragmentsToRender.push(t.fragments[0]=s),t.length=1,!0):sr(t)}function sr(t){return t.length?(t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(cr),t.fragmentsToUnrender.forEach(Z),t.length=t.fragmentsToRender.length=0,!0):void 0}function cr(t){return t.rendered}function lr(t){t.rebind("","")}function fr(t){var n,e,r;for(n="",e=0,r=this.length,e=0;r>e;e+=1)n+=this.fragments[e].toString(t);return n}function hr(){var t=this;this.fragments.forEach(Z),this.fragmentsToRender.forEach(function(n){return D(t.fragments,n)}),this.fragmentsToRender=[],Fp.call(this),this.length=0,this.unbound=!0}function pr(t){this.fragments.forEach(t?dr:gr),this.renderedFragments=[],this.rendered=!1}function dr(t){t.unrender(!0)}function gr(t){t.unrender(!1)}function vr(){var t,n,e,r,i,o,a;for(e=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),e.splice(e.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(i=this.parentFragment.getNode()),a=this.fragments.length,o=0;a>o;o+=1)t=this.fragments[o],n=e.indexOf(t,o),n!==o?(this.docFrag.appendChild(t.detach()),-1!==n&&e.splice(n,1),e.splice(o,0,t)):this.docFrag.childNodes.length&&(r=t.firstNode(),i.insertBefore(this.docFrag,r));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r)),this.renderedFragments=this.fragments.slice()}function mr(){var t,n;if(this.docFrag){for(t=this.nodes.length,n=0;t>n;n+=1)this.docFrag.appendChild(this.nodes[n]);return this.docFrag}}function yr(t){var n,e,r,i;for(e=this.nodes.length,n=0;e>n;n+=1)if(r=this.nodes[n],1===r.nodeType){if(hu(r,t))return r;if(i=r.querySelector(t))return i}return null}function br(t,n){var e,r,i,o,a,u;
for(r=this.nodes.length,e=0;r>e;e+=1)if(i=this.nodes[e],1===i.nodeType&&(hu(i,t)&&n.push(i),o=i.querySelectorAll(t)))for(a=o.length,u=0;a>u;u+=1)n.push(o[u])}function wr(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xr(t){return Od[t]||(Od[t]=fu(t))}function _r(t){var n,e,r;t&&"select"===t.name&&t.binding&&(n=q(t.node.options).filter(kr),t.getAttribute("multiple")?r=n.map(function(t){return t.value}):(e=n[0])&&(r=e.value),void 0!==r&&t.binding.setValue(r),t.bubble())}function kr(t){return t.selected}function Mr(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=jd(this.value,this.parentFragment.getNode(),this.docFrag),Td(this.pElement),this.rendered=!0,this.docFrag}function Er(t){var n;(n=this.root.viewmodel.wrapped[this.keypath.str])&&(t=n.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&gs.addView(this))}function Ar(){return void 0!=this.value?En(""+this.value):""}function Sr(t){this.rendered&&t&&(this.nodes.forEach(n),this.rendered=!1)}function Nr(){var t,n;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);n=this.parentFragment.getNode(),this.nodes=jd(this.value,n,this.docFrag),n.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Td(this.pElement)}}function Cr(){var t,n=this.node;return n?((t=n.parentNode)&&t.removeChild(n),n):void 0}function Rr(){return null}function Or(){return this.node}function jr(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0}function Tr(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();u(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&gs.addView(this))}function Pr(t){var n=t.fragment.items;if(1===n.length)return n[0].type===Yc?n[0]:void 0}function Fr(t){return this.type=rl,this.element=t.element,this.root=t.root,og(this,t.name),this.isBoolean=bf.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new yb({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=ag(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:t.value||"")}function Dr(t,n){this.fragment&&this.fragment.rebind(t,n)}function qr(t){var n;this.node=t,t.namespaceURI&&t.namespaceURI!==ru.html||(n=lg[this.name]||this.name,void 0!==t[n]&&(this.propertyName=n),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===n&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Lr(){var t=this,n=t.name,e=t.namespacePrefix,r=t.value,i=t.interpolator,o=t.fragment;if(("value"!==n||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==n||void 0===this.element.getAttribute("contenteditable"))){if("name"===n&&"input"===this.element.name&&i)return"name={{"+(i.keypath.str||i.ref)+"}}";if(this.isBoolean)return r?n:"";if(o){if(1===o.items.length&&null==o.items[0].value)return"";r=o.toString()}return e&&(n=e+":"+n),r?n+'="'+zr(r)+'"':n}}function zr(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Ir(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Ur(){var t,n,e,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,t=this.node.options,r=t.length;r--;)if(n=t[r],e=n._ractive?n._ractive.value:n.value,e==i){n.selected=!0;break}}function Vr(){var t,n,e,r,i=this.value;for(o(i)||(i=[i]),t=this.node.options,n=t.length;n--;)e=t[n],r=e._ractive?e._ractive.value:e.value,e.selected=j(i,r)}function Br(){var t=this,n=t.node,e=t.value;n.checked=e==n._ractive.value}function Wr(){var t,n,e,r,i=this.node;if(t=i.checked,i.value=this.element.getAttribute("value"),i.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!i.checked&&this.element.binding&&(e=this.element.binding.siblings,r=e.length)){for(;r--;){if(n=e[r],!n.element.node)return;if(n.element.node.checked)return gs.addRactive(n.root),n.handleChange()}this.root.viewmodel.set(n.keypath,void 0)}}function Hr(){var t,n,e=this,r=e.element,i=e.node,a=e.value,u=r.binding;if(t=r.getAttribute("value"),o(a)){for(n=a.length;n--;)if(t==a[n])return void(u.isChecked=i.checked=!0);u.isChecked=i.checked=!1}else u.isChecked=i.checked=a==t}function $r(){this.node.className=e(this.value)}function Zr(){var t=this,n=t.node,e=t.value;this.root.nodes[e]=n,n.id=e}function Yr(){var t,n;t=this.node,n=this.value,void 0===n&&(n=""),t.style.setAttribute("cssText",n)}function Gr(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function Qr(){var t=this,n=t.node,e=t.value;n._ractive.value=e,this.locked||(n.value=void 0==e?"":e)}function Kr(){this.locked||(this.node[this.propertyName]=this.value)}function Xr(){var t=this,n=t.node,e=t.namespace,r=t.name,i=t.value,o=t.fragment;e?n.setAttributeNS(e,r,(o||i).toString()):this.isBoolean?i?n.setAttribute(r,""):n.removeAttribute(r):null==i?n.removeAttribute(r):n.setAttribute(r,(o||i).toString())}function Jr(){var t,n,e=this,r=e.name,i=e.element,o=e.node;"id"===r?n=bg:"value"===r?"select"===i.name&&"value"===r?n=i.getAttribute("multiple")?dg:pg:"textarea"===i.name?n=_g:null!=i.getAttribute("contenteditable")?n=xg:"input"===i.name&&(t=i.getAttribute("type"),n="file"===t?Ou:"radio"===t&&i.binding&&"name"===i.binding.name?vg:_g):this.isTwoway&&"name"===r?"radio"===o.type?n=gg:"checkbox"===o.type&&(n=mg):"style"===r&&o.style.setAttribute?n=wg:"class"!==r||o.namespaceURI&&o.namespaceURI!==ru.html?this.useProperty&&(n=kg):n=yg,n||(n=Mg),this.update=n,this.update()}function ti(t,n){var e=n?"svg":"div";return Sg.innerHTML="<"+e+" "+t+"></"+e+">",q(Sg.childNodes[0].attributes)}function ni(t,n){for(var e=t.length;e--;)if(t[e].name===n.name)return!1;return!0}function ei(t){for(;t=t.parent;)if("form"===t.name)return t}function ri(){this._ractive.binding.handleChange()}function ii(){var t;Dg.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function oi(){var t=this._ractive.binding,n=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&Dg.call(n),t._timeout=void 0},t.element.lazy)}function ai(t,n,e){var r=t+n+e;return Ug[r]||(Ug[r]=[])}function ui(t){return t.isChecked}function si(t){return t.element.getAttribute("value")}function ci(t){var n,e,r,i,o,a=t.attributes;return t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||a.contenteditable&&li(a.contenteditable))&&li(a.value)?e=zg:"input"===t.name?(n=t.getAttribute("type"),"radio"===n||"checkbox"===n?(r=li(a.name),i=li(a.checked),r&&i&&g("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),r?e="radio"===n?Hg:Zg:i&&(e="radio"===n?Bg:Gg)):"file"===n&&li(a.value)?e=nv:li(a.value)&&(e="number"===n||"range"===n?ev:qg)):"select"===t.name&&li(a.value)?e=t.getAttribute("multiple")?Jg:Kg:"textarea"===t.name&&li(a.value)&&(e=qg),e&&(o=new e(t))&&o.keypath?o:void 0}function li(t){return t&&t.isBindable}function fi(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function hi(t){Us(this.root,this.getAction(),{event:t})}function pi(){return this.action.toString().trim()}function di(t,n,e){var r,i,o,a=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=n,-1!==n.indexOf("*")&&(f('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,n),this.invalid=!0),e.m?(i=e.a.r,this.method=e.m,this.keypaths=[],this.fn=Zp(e.a.s,i.length),this.parentFragment=t.parentFragment,o=this.root,this.refResolvers=[],i.forEach(function(t,n){var e=void 0;(e=sv.exec(t))?a.keypaths[n]={eventObject:!0,refinements:e[1]?e[1].split("."):[]}:a.refResolvers.push($p(a,t,function(t){return a.resolve(n,t)}))}),this.fire=gi):(r=e.n||e,"string"!=typeof r&&(r=new yb({template:r,root:this.root,owner:this})),this.action=r,e.d?(this.dynamicParams=new yb({template:e.d,root:this.root,owner:this.element}),this.fire=mi):e.a&&(this.params=e.a,this.fire=vi))}function gi(t){var n,e,r;if(n=this.root,"function"!=typeof n[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');e=this.keypaths.map(function(e){var r,i,o;if(void 0!==e){if(e.eventObject){if(r=t,i=e.refinements.length)for(o=0;i>o;o+=1)r=r[e.refinements[o]]}else r=n.viewmodel.get(e);return r}}),Is.enqueue(n,t),r=this.fn.apply(null,e),n[this.method].apply(n,r),Is.dequeue(n)}function vi(t){Us(this.root,this.getAction(),{event:t,args:this.params})}function mi(t){var n=this.dynamicParams.getArgsList();"string"==typeof n&&(n=n.substr(1,n.length-2)),Us(this.root,this.getAction(),{event:t,args:n})}function yi(t){var n,e,r,i={};n=this._ractive,e=n.events[t.type],(r=Wp(e.element.parentFragment))&&(i=Wp.resolve(r)),e.fire({node:this,original:t,index:i,keypath:n.keypath.str,context:n.root.viewmodel.get(n.keypath)})}function bi(){var t,n=this.name;if(!this.invalid){if(t=m("events",this.root,n))this.custom=t(this.node,wi(n));else{if(!("on"+n in this.node||window&&"on"+n in window||tu))return void(hv[n]||v(Fu(n,"event"),{node:this.node}));this.node.addEventListener(n,cv,!1)}this.hasListener=!0}}function wi(t){return fv[t]||(fv[t]=function(n){var e=n.node._ractive;n.index=e.index,n.keypath=e.keypath.str,n.context=e.root.viewmodel.get(e.keypath),e.events[t].fire(n)}),fv[t]}function xi(t,n){function e(e){e&&e.rebind(t,n)}var r;return this.method?(r=this.element.parentFragment,void this.refResolvers.forEach(e)):("string"!=typeof this.action&&e(this.action),void(this.dynamicParams&&e(this.dynamicParams)))}function _i(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function ki(t,n){this.keypaths[t]=n}function Mi(){return this.method?void this.refResolvers.forEach(Z):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Ei(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,cv,!1),this.hasListener=!1}function Ai(){var t=this;this.dirty||(this.dirty=!0,gs.scheduleTask(function(){Si(t),t.dirty=!1})),this.parentFragment.bubble()}function Si(t){var n,e,r,i,o;n=t.node,n&&(i=q(n.options),e=t.getAttribute("value"),r=t.getAttribute("multiple"),void 0!==e?(i.forEach(function(t){var n,i;n=t._ractive?t._ractive.value:t.value,i=r?Ni(e,n):e==n,i&&(o=!0),t.selected=i}),o||(i[0]&&(i[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function Ni(t,n){for(var e=t.length;e--;)if(t[e]==n)return!0}function Ci(t,n){t.select=Oi(t.parent),t.select&&(t.select.options.push(t),n.a||(n.a={}),void 0!==n.a.value||n.a.hasOwnProperty("disabled")||(n.a.value=n.f),"selected"in n.a&&void 0!==t.select.getAttribute("value")&&delete n.a.selected)}function Ri(t){t.select&&D(t.select.options,t)}function Oi(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function ji(t){var n,e,r,i,o,a,u;this.type=Jc,n=this.parentFragment=t.parentFragment,e=this.template=t.template,this.parent=t.pElement||n.pElement,this.root=r=n.root,this.index=t.index,this.key=t.key,this.name=ig(e.e),"option"===this.name&&Ci(this,e),"select"===this.name&&(this.options=[],this.bubble=Ai),"form"===this.name&&(this.formBindings=[]),u=eg(this,e),this.attributes=Cg(this,e.a),this.conditionalAttributes=jg(this,e.m),e.f&&(this.fragment=new yb({template:e.f,root:r,owner:this,pElement:this,cssIds:null})),a=r.twoway,u.twoway===!1?a=!1:u.twoway===!0&&(a=!0),this.twoway=a,this.lazy=u.lazy,a&&(i=rv(this,e.a))&&(this.binding=i,o=this.root._twowayBindings[i.keypath.str]||(this.root._twowayBindings[i.keypath.str]=[]),o.push(i)),e.v&&(this.eventHandlers=wv(this,e.v)),e.o&&(this.decorator=new Ev(this,e.o)),this.intro=e.t0||e.t1,this.outro=e.t0||e.t2}function Ti(t,n){function e(e){e.rebind(t,n)}var r,i,o,a;if(this.attributes&&this.attributes.forEach(e),this.conditionalAttributes&&this.conditionalAttributes.forEach(e),this.eventHandlers&&this.eventHandlers.forEach(e),this.decorator&&e(this.decorator),this.fragment&&e(this.fragment),o=this.liveQueries)for(a=this.root,r=o.length;r--;)o[r]._makeDirty();this.node&&(i=this.node._ractive)&&_(i,"keypath",t,n)}function Pi(t){var n;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",n=function(){var e=t.getAttribute("width"),r=t.getAttribute("height");void 0!==e&&t.node.setAttribute("width",e),void 0!==r&&t.node.setAttribute("height",r),t.node.removeEventListener("load",n,!1)},!1)}function Fi(t){t.node.addEventListener("reset",qi,!1)}function Di(t){t.node.removeEventListener("reset",qi,!1)}function qi(){var t=this._ractive.proxy;gs.start(),t.formBindings.forEach(Li),gs.end()}function Li(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function zi(t,n,e){var r,i,o;this.element=t,this.root=r=t.root,this.isIntro=e,i=n.n||n,"string"!=typeof i&&(o=new yb({template:i,root:r,owner:t}),i=o.toString(),o.unbind(),""===i)||(this.name=i,n.a?this.params=n.a:n.d&&(o=new yb({template:n.d,root:r,owner:t}),this.params=o.getArgsList(),o.unbind()),this._fn=m("transitions",r,i),this._fn||v(Fu(i,"transition"),{ractive:this.root}))}function Ii(t){return t}function Ui(){nm.hidden=document[Kv]}function Vi(){nm.hidden=!0}function Bi(){nm.hidden=!1}function Wi(){var t,n,e,r=this;return t=this.node=this.element.node,n=t.getAttribute("style"),this.complete=function(i){e||(!i&&r.isIntro&&Hi(t,n),t._ractive.transition=null,r._manager.remove(r),e=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function Hi(t,n){n?t.setAttribute("style",n):(t.getAttribute("style"),t.removeAttribute("style"))}function $i(){var t,n,e,r=this,i=this.root;return t=Zi(this),n=this.node=fu(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),xu(this.node,"_ractive",{value:{proxy:this,keypath:us(this.parentFragment),events:wu(null),root:i}}),this.attributes.forEach(function(t){return t.render(n)}),this.conditionalAttributes.forEach(function(t){return t.render(n)}),this.fragment&&("script"===this.name?(this.bubble=hm,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Ou):"style"===this.name?(this.bubble=fm,this.bubble(),this.fragment.unrender=Ou):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Ou:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),"option"===this.name&&Yi(this),"img"===this.name?Pi(this):"form"===this.name?Fi(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&gs.scheduleTask(function(){r.decorator.torndown||r.decorator.init()},!0),i.transitionsEnabled&&this.intro&&(e=new pm(this,this.intro,!0),gs.registerTransition(e),gs.scheduleTask(function(){return e.start()},!0),this.transition=e),this.node.autofocus&&gs.scheduleTask(function(){return r.node.focus()},!0),Gi(this),this.node}function Zi(t){var n,e,r;return n=(e=t.getAttribute("xmlns"))?e:"svg"===t.name?ru.svg:(r=t.parent)?"foreignObject"===r.name?ru.html:r.node.namespaceURI:t.root.el.namespaceURI}function Yi(t){var n,e,r;if(t.select&&(e=t.select.getAttribute("value"),void 0!==e))if(n=t.getAttribute("value"),t.select.node.multiple&&o(e)){for(r=e.length;r--;)if(n==e[r]){t.node.selected=!0;break}}else t.node.selected=n==e}function Gi(t){var n,e,r,i,o;n=t.root;do for(e=n._liveQueries,r=e.length;r--;)i=e[r],o=e["_"+i],o._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(o);while(n=n.parent)}function Qi(t){var n,e,r;if(n=t.getAttribute("value"),void 0===n||!t.select)return!1;if(e=t.select.getAttribute("value"),e==n)return!0;if(t.select.getAttribute("multiple")&&o(e))for(r=e.length;r--;)if(e[r]==n)return!0}function Ki(t){var n,e,r,i;return n=t.attributes,e=n.type,r=n.value,i=n.name,e&&"radio"===e.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function Xi(t){var n=t.toString();return n?" "+n:""}function Ji(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(Z),"option"===this.name&&Ri(this),this.attributes.forEach(Z),this.conditionalAttributes.forEach(Z)}function to(t){var n,e,r;(r=this.transition)&&r.complete(),"option"===this.name?this.detach():t&&gs.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(n=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,e=this.root._twowayBindings[n.keypath.str],e.splice(e.indexOf(n),1)),this.eventHandlers&&this.eventHandlers.forEach(Y),this.decorator&&gs.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(r=new pm(this,this.outro,!1),gs.registerTransition(r),gs.scheduleTask(function(){return r.start()})),this.liveQueries&&no(this),"form"===this.name&&Di(this)}function no(t){var n,e,r;for(r=t.liveQueries.length;r--;)n=t.liveQueries[r],e=n.selector,n._remove(t.node)}function eo(t,n){var e=xm.exec(n)[0];return null===t||e.length<t.length?e:t}function ro(t,n,e){var r;if(r=io(t,n,e||{}))return r;if(r=up.fromId(n,{noThrow:!0})){r=_m(r);var i=up.parse(r,up.getParseOptions(t));return t.partials[n]=i.t}}function io(t,n,e){var r=void 0,i=uo(n,e.owner);if(i)return i;var o=y("partials",t,n);if(o){if(i=o.partials[n],"function"==typeof i&&(r=i.bind(o),r.isOwner=o.partials.hasOwnProperty(n),i=r.call(t,up)),!i&&""!==i)return void g(Pu,n,"partial","partial",{ractive:t});if(!up.isParsed(i)){var a=up.parse(i,up.getParseOptions(o));a.p&&g("Partials ({{>%s}}) cannot contain nested inline partials",n,{ractive:t});var u=r?o:oo(o,n);u.partials[n]=i=a.t}return r&&(i._fn=r),i.v?i.t:i}}function oo(t,n){return t.partials.hasOwnProperty(n)?t:ao(t.constructor,n)}function ao(t,n){return t?t.partials.hasOwnProperty(n)?t:ao(t._Parent,n):void 0}function uo(t,n){if(n){if(n.template&&n.template.p&&n.template.p[t])return n.template.p[t];if(n.parentFragment&&n.parentFragment.owner)return uo(t,n.parentFragment.owner)}}function so(t,n){var e,r=y("components",t,n);if(r&&(e=r.components[n],!e._Parent)){var i=e.bind(r);if(i.isOwner=r.components.hasOwnProperty(n),e=i(),!e)return void g(Pu,n,"component","component",{ractive:t});"string"==typeof e&&(e=so(t,e)),e._fn=i,r.components[n]=e}return e}function co(){var t=this.instance.fragment.detach();return Tm.fire(this.instance),t}function lo(t){return this.instance.fragment.find(t)}function fo(t,n){return this.instance.fragment.findAll(t,n)}function ho(t,n){n._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,n)}function po(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function go(){return this.parentFragment.findNextNode(this)}function vo(){return this.rendered?this.instance.fragment.firstNode():null}function mo(t,n,e){function r(t){var e,r;t.value=n,t.updating||(r=t.ractive,e=t.keypath,t.updating=!0,gs.start(r),r.viewmodel.mark(e),gs.end(),t.updating=!1)}var i,o,a,u,s,c;if(i=t.obj,o=t.prop,e&&!e.configurable){if("length"===o)return;throw new Error('Cannot use magic mode with property "'+o+'" - object is not configurable')}e&&(a=e.get,u=e.set),s=a||function(){return n},c=function(t){u&&u(t),n=a?a():t,c._ractiveWrappers.forEach(r)},c._ractiveWrappers=[t],Object.defineProperty(i,o,{get:s,set:c,enumerable:!0,configurable:!0})}function yo(t,n){var e,r,i,o;if(this.adaptors)for(e=this.adaptors.length,r=0;e>r;r+=1)if(i=this.adaptors[r],i.filter(n,t,this.ractive))return o=this.wrapped[t]=i.wrap(this.ractive,n,t,wo(t)),void(o.value=n)}function bo(t,n){var e,r={};if(!n)return t;n+=".";for(e in t)t.hasOwnProperty(e)&&(r[n+e]=t[e]);return r}function wo(t){var n;return ry[t]||(n=t?t+".":"",ry[t]=function(e,r){var i;return"string"==typeof e?(i={},i[n+e]=r,i):"object"==typeof e?n?bo(e,t):e:void 0}),ry[t]}function xo(t){var n,e,r=[Zu];for(n=t.length;n--;)for(e=t[n].parent;e&&!e.isRoot;)-1===t.indexOf(e)&&O(r,e),e=e.parent;return r}function _o(t,n,e){var r;Mo(t,n),e||(r=n.wildcardMatches(),r.forEach(function(e){ko(t,e,n)}))}function ko(t,n,e){var r,i,o;n=n.str||n,r=t.depsMap.patternObservers,i=r&&r[n],i&&i.forEach(function(n){o=e.join(n.lastKey),Mo(t,o),ko(t,n,o)})}function Mo(t,n){t.patternObservers.forEach(function(t){t.regex.test(n.str)&&t.update(n)})}function Eo(){function t(t){var r=t.key;t.viewmodel===a?(a.clearCache(r.str),t.invalidate(),e.push(r),n(r)):t.viewmodel.mark(r)}function n(e){var r,i;a.noCascade.hasOwnProperty(e.str)||((i=a.deps.computed[e.str])&&i.forEach(t),(r=a.depsMap.computed[e.str])&&r.forEach(n))}var e,r,i,o=this,a=this,u={};return e=this.changes,e.length?(e.slice().forEach(n),r=iy(e),r.forEach(function(n){var r;-1===e.indexOf(n)&&(r=a.deps.computed[n.str])&&r.forEach(t)}),this.changes=[],this.patternObservers.length&&(r.forEach(function(t){return oy(o,t,!0)}),e.forEach(function(t){return oy(o,t)})),this.deps.observers&&(r.forEach(function(t){return Ao(o,null,t,"observers")}),No(this,e,"observers")),this.deps["default"]&&(i=[],r.forEach(function(t){return Ao(o,i,t,"default")}),i.length&&So(this,i,e),No(this,e,"default")),e.forEach(function(t){u[t.str]=o.get(t)}),this.implicitChanges={},this.noCascade={},u):void 0}function Ao(t,n,e,r){var i,o;(i=Co(t,e,r))&&(o=t.get(e),i.forEach(function(t){n&&t.refineValue?n.push(t):t.setValue(o)}))}function So(t,n,e){n.forEach(function(n){for(var r=!1,i=0,o=e.length,a=[];o>i;){var u=e[i];if(u===n.keypath){r=!0;break}u.slice(0,n.keypath.length)===n.keypath&&a.push(u),i++}r&&n.setValue(t.get(n.keypath)),a.length&&n.refineValue(a)})}function No(t,n,e){function r(t){t.forEach(i),t.forEach(o)}function i(n){var r=Co(t,n,e);r&&u.push({keypath:n,deps:r})}function o(n){var i;(i=t.depsMap[e][n.str])&&r(i)}function a(n){var e=t.get(n.keypath);n.deps.forEach(function(t){return t.setValue(e)})}var u=[];r(n),u.forEach(a)}function Co(t,n,e){var r=t.deps[e];return r?r[n.str]:null}function Ro(){this.captureGroups.push([])}function Oo(t,n){var e,r;if(n||(r=this.wrapped[t])&&r.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,e=this.cacheMap[t])for(;e.length;)this.clearCache(e.pop())}function jo(t,n){var e=n.firstKey;return!(e in t.data||e in t.computations||e in t.mappings)}function To(t,n){var e=new hy(t,n);return this.ready&&e.init(this),this.computations[t.str]=e}function Po(t,n){var e,r,i,o,a,u=this.cache,s=t.str;if(n=n||vy,n.capture&&(o=F(this.captureGroups))&&(~o.indexOf(t)||o.push(t)),Nu.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,n);if(t.isSpecial)return t.value;if(void 0===u[s]?((r=this.computations[s])&&!r.bypass?(e=r.get(),this.adapt(s,e)):(i=this.wrapped[s])?e=i.value:t.isRoot?(this.adapt("",this.data),e=this.data):e=Fo(this,t),u[s]=e):e=u[s],!n.noUnwrap&&(i=this.wrapped[s])&&(e=i.get()),t.isRoot&&n.fullRootGet)for(a in this.mappings)e[a]=this.mappings[a].getValue();return e===dy?void 0:e}function Fo(t,n){var e,r,i,o;return e=t.get(n.parent),(o=t.wrapped[n.parent.str])&&(e=o.get()),null!==e&&void 0!==e?((r=t.cacheMap[n.parent.str])?-1===r.indexOf(n.str)&&r.push(n.str):t.cacheMap[n.parent.str]=[n.str],"object"!=typeof e||n.lastKey in e?(i=e[n.lastKey],t.adapt(n.str,i,!1),t.cache[n.str]=i,i):t.cache[n.str]=dy):void 0}function Do(){var t;for(t in this.computations)this.computations[t].init(this)}function qo(t,n){var e=this.mappings[t.str]=new by(t,n);return e.initViewmodel(this),e}function Lo(t,n){var e,r=t.str;n&&(n.implicit&&(this.implicitChanges[r]=!0),n.noCascade&&(this.noCascade[r]=!0)),(e=this.computations[r])&&e.invalidate(),-1===this.changes.indexOf(t)&&this.changes.push(t);var i=n?n.keepExistingWrapper:!1;this.clearCache(r,i),this.ready&&this.onchange()}function zo(t,n,e,r){var i,o,a,u;if(this.mark(t),r&&r.compare){a=Uo(r.compare);try{i=n.map(a),o=e.map(a)}catch(s){g('merge(): "%s" comparison failed. Falling back to identity checking',t),i=n,o=e}}else i=n,o=e;u=xy(i,o),this.smartUpdate(t,e,u,n.length!==e.length)}function Io(t){return JSON.stringify(t)}function Uo(t){if(t===!0)return Io;if("string"==typeof t)return ky[t]||(ky[t]=function(n){return n[t]}),ky[t];if("function"==typeof t)return t;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Vo(t,n){var e,r,i,o=void 0===arguments[2]?"default":arguments[2];n.isStatic||((e=this.mappings[t.firstKey])?e.register(t,n,o):(r=this.deps[o]||(this.deps[o]={}),i=r[t.str]||(r[t.str]=[]),i.push(n),this.depsMap[o]||(this.depsMap[o]={}),t.isRoot||Bo(this,t,o)))}function Bo(t,n,e){for(var r,i,o;!n.isRoot;)r=t.depsMap[e],i=r[n.parent.str]||(r[n.parent.str]=[]),o=n.str,void 0===i["_"+o]&&(i["_"+o]=0,i.push(n)),i["_"+o]+=1,n=n.parent}function Wo(){return this.captureGroups.pop()}function Ho(t){this.data=t,this.clearCache("")}function $o(t,n){var e,r,i,o,a=void 0===arguments[2]?{}:arguments[2];if(!a.noMapping&&(e=this.mappings[t.firstKey]))return e.set(t,n);if(r=this.computations[t.str]){if(r.setting)return;r.set(n),n=r.get()}u(this.cache[t.str],n)||(i=this.wrapped[t.str],i&&i.reset&&(o=i.reset(n)!==!1,o&&(n=i.get())),r||o||Zo(this,t,n),a.silent?this.clearCache(t.str):this.mark(t))}function Zo(t,n,e){var r,i,o,a;o=function(){r.set?r.set(n.lastKey,e):(i=r.get(),a())},a=function(){i||(i=Km(n.lastKey),t.set(n.parent,i,{silent:!0})),i[n.lastKey]=e},r=t.wrapped[n.parent.str],r?o():(i=t.get(n.parent),(r=t.wrapped[n.parent.str])?o():a())}function Yo(t,n,e){var r,i,o,a=this;if(i=e.length,e.forEach(function(n,e){-1===n&&a.mark(t.join(e),Ry)}),this.set(t,n,{silent:!0}),(r=this.deps["default"][t.str])&&r.filter(Go).forEach(function(t){return t.shuffle(e,n)}),i!==n.length){for(this.mark(t.join("length"),Cy),o=e.touchedFrom;o<n.length;o+=1)this.mark(t.join(o));for(o=n.length;i>o;o+=1)this.mark(t.join(o),Ry)}}function Go(t){return"function"==typeof t.shuffle}function Qo(){var t,n=this;for(Object.keys(this.cache).forEach(function(t){return n.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Ko(t,n){var e,r,i,o=void 0===arguments[2]?"default":arguments[2];if(!n.isStatic){if(e=this.mappings[t.firstKey])return e.unregister(t,n,o);if(r=this.deps[o][t.str],i=r.indexOf(n),-1===i)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");r.splice(i,1),t.isRoot||Xo(this,t,o)}}function Xo(t,n,e){for(var r,i;!n.isRoot;)r=t.depsMap[e],i=r[n.parent.str],i["_"+n.str]-=1,i["_"+n.str]||(D(i,n),i["_"+n.str]=void 0),n=n.parent}function Jo(t){this.hook=new es(t),this.inProcess={},this.queue={}}function ta(t,n){return t[n._guid]||(t[n._guid]=[])}function na(t,n){var e=ta(t.queue,n);for(t.hook.fire(n);e.length;)na(t,e.shift());delete t.queue[n._guid]}function ea(t,n){var e,r={};for(e in n)r[e]=ra(t,e,n[e]);return r}function ra(t,n,e){var r,i;return"function"==typeof e&&(r=oa(e,t)),"string"==typeof e&&(r=ia(t,e)),"object"==typeof e&&("string"==typeof e.get?r=ia(t,e.get):"function"==typeof e.get?r=oa(e.get,t):f("`%s` computation must have a `get()` method",n),"function"==typeof e.set&&(i=oa(e.set,t))),{getter:r,setter:i}}function ia(t,n){var e,r,i;return e="return ("+n.replace(qy,function(t,n){return r=!0,'__ractive.get("'+n+'")'})+");",r&&(e="var __ractive = this; "+e),i=new Function(e),r?i.bind(t):i}function oa(t,n){return/this/.test(t.toString())?t.bind(n):t}function aa(n){var e,i,o=void 0===arguments[1]?{}:arguments[1],a=void 0===arguments[2]?{}:arguments[2];if($b.DEBUG&&Su(),ca(n,a),xu(n,"data",{get:la}),Ly.fire(n,o),Vy.forEach(function(t){n[t]=r(wu(n.constructor[t]||null),o[t])}),i=new Py({adapt:ua(n,n.adapt,o),data:Uc.init(n.constructor,n,o),computed:Dy(n,r(wu(n.constructor.prototype.computed),o.computed)),mappings:a.mappings,ractive:n,onchange:function(){return gs.addRactive(n)}}),n.viewmodel=i,i.init(),bp.init(n.constructor,n,o),zy.fire(n),Iy.begin(n),n.template){var u=void 0;(a.cssIds||n.cssId)&&(u=a.cssIds?a.cssIds.slice():[],n.cssId&&u.push(n.cssId)),n.fragment=new yb({template:n.template,root:n,owner:n,cssIds:u})}if(Iy.end(n),e=t(n.el)){var s=n.render(e,n.append);$b.DEBUG_PROMISES&&s["catch"](function(t){throw v("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),g("An error happened during rendering",{ractive:n}),t.stack&&h(t.stack),t})}}function ua(t,n,e){function r(n){return"string"==typeof n&&(n=m("adaptors",t,n),n||f(Fu(n,"adaptor"))),n}var i,o,a;if(n=n.map(r),i=P(e.adapt).map(r),i=sa(n,i),o="magic"in e?e.magic:t.magic,a="modifyArrays"in e?e.modifyArrays:t.modifyArrays,o){if(!eu)throw new Error("Getters and setters (magic mode) are not supported in this browser");a&&i.push(ny),i.push(ty)}return a&&i.push(Gm),i}function sa(t,n){for(var e=t.slice(),r=n.length;r--;)~e.indexOf(n[r])||e.push(n[r]);return e}function ca(t,n){t._guid="r-"+Uy++,t._subs=wu(null),t._config={},t._twowayBindings=wu(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],t._observers=[],n.component?(t.parent=n.parent,t.container=n.container||null,t.root=t.parent.root,t.component=n.component,n.component.instance=t,t._inlinePartials=n.inlinePartials):(t.root=t,t.parent=t.container=null)}function la(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function fa(t,n,e){this.parentFragment=t.parentFragment,this.callback=e,this.fragment=new yb({template:n,root:t.root,owner:this}),this.update()}function ha(t,n,e){var r;return n.r?r=$p(t,n.r,e):n.x?r=new Qp(t,t.parentFragment,n.x,e):n.rx&&(r=new td(t,n.rx,e)),r}function pa(t){return 1===t.length&&t[0].t===Yc}function da(t,n){var e;for(e in n)n.hasOwnProperty(e)&&ga(t.instance,t.root,e,n[e])}function ga(t,n,e,r){"string"!=typeof r&&f("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(e,function(){var t,e;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),e=Array.prototype.slice.call(arguments),Us(n,r,{event:t,args:e}),!1})}function va(t,n){var e,r;if(!n)throw new Error('Component "'+this.name+'" not found');e=this.parentFragment=t.parentFragment,r=e.root,this.root=r,this.type=ol,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],Hy(this,n,t.template.a,t.template.f,t.template.p),$y(this,t.template.v),(t.template.t0||t.template.t1||t.template.t2||t.template.o)&&g('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Zy(this)}function ma(t,n){function e(e){e.rebind(t,n)}var r;this.resolvers.forEach(e);for(var i in this.yielders)this.yielders[i][0]&&e(this.yielders[i][0]);(r=this.root._liveComponentQueries["_"+this.name])&&r._makeDirty()}function ya(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function ba(){return this.instance.fragment.toString()}function wa(){var t=this.instance;this.resolvers.forEach(Z),xa(this),t._observers.forEach(G),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&D(t.el.__ractive_instances__,t),Jy.fire(t)}function xa(t){var n,e;n=t.root;do(e=n._liveComponentQueries["_"+t.name])&&e._remove(t);while(n=n.parent);
}function _a(t){this.shouldDestroy=t,this.instance.unrender()}function ka(t){var n=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.items=t.template.map(function(e,r){return Ma({parentFragment:n,pElement:t.pElement,template:e,index:r})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Ma(t){if("string"==typeof t.template)return new Pp(t);switch(t.template.t){case al:return new ab(t);case Yc:return new ad(t);case Qc:return new Ad(t);case Gc:return new Wd(t);case Jc:var n=void 0;return(n=Om(t.parentFragment.root,t.template.e))?new eb(t,n):new bm(t);case tl:return new Rm(t);case nl:return new ib(t);case sl:return new sb(t);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Ea(t,n){this.owner&&!this.owner.hasContext||_(this,"context",t,n),this.items.forEach(function(e){e.rebind&&e.rebind(t,n)})}function Aa(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(n){t.appendChild(n.render())})),this.rendered=!0,t}function Sa(t){return this.items?this.items.map(t?Ca:Na).join(""):""}function Na(t){return t.toString()}function Ca(t){return t.toString(!0)}function Ra(){this.bound&&(this.items.forEach(Oa),this.bound=!1)}function Oa(t){t.unbind&&t.unbind()}function ja(t){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(n){return n.unrender(t)}),this.rendered=!1}function Ta(t){var n,e,r,i,o;if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");for((e=this.viewmodel.wrapped[""])&&e.reset?e.reset(t)===!1&&this.viewmodel.reset(t):this.viewmodel.reset(t),r=bp.reset(this),i=r.length;i--;)if(wb.indexOf(r[i])>-1){o=!0;break}if(o){var a=void 0;this.viewmodel.mark(Zu),(a=this.component)&&(a.shouldDestroy=!0),this.unrender(),a&&(a.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new yb({template:this.template,root:this,owner:this})),n=this.render(this.el,this.anchor)}else n=gs.start(this,!0),this.viewmodel.mark(Zu),gs.end();return xb.fire(this,t),n}function Pa(t){var n,e;cp.init(null,this,{template:t}),n=this.transitionsEnabled,this.transitionsEnabled=!1,(e=this.component)&&(e.shouldDestroy=!0),this.unrender(),e&&(e.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new yb({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=n}function Fa(t,n){var e,r;if(r=gs.start(this,!0),c(t)){e=t;for(t in e)e.hasOwnProperty(t)&&(n=e[t],Da(this,t,n))}else Da(this,t,n);return gs.end(),r}function Da(t,n,e){n=M(S(n)),n.isPattern?E(t,n).forEach(function(n){t.viewmodel.set(n,e)}):t.viewmodel.set(n,e)}function qa(t,n){return Yu(this,t,void 0===n?-1:-n)}function La(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(G),this.fragment.rendered&&this.el.__ractive_instances__&&D(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():as.resolve(),Ob.fire(this),this._boundFunctions.forEach(za),t}function za(t){delete t.fn[t.prop]}function Ia(t){var n=this;if("string"!=typeof t)throw new TypeError(Tu);var e=void 0;return/\*/.test(t)?(e={},E(this,M(S(t))).forEach(function(t){e[t.str]=!n.viewmodel.get(t)}),this.set(e)):this.set(t,!this.get(t))}function Ua(){return this.fragment.toString(!0)}function Va(){var t,n;if(!this.fragment.rendered)return g("ractive.unrender() was called on a Ractive instance that was not rendered"),as.resolve();for(t=gs.start(this,!0),n=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(n),D(this.el.__ractive_instances__,this),Fb.fire(this),gs.end(),t}function Ba(t){var n;return t=M(t)||Zu,n=gs.start(this,!0),this.viewmodel.mark(t),gs.end(),Lb.fire(this,t),n}function Wa(t,n){var e,r,i;if("string"!=typeof t||n){i=[];for(r in this._twowayBindings)t&&!M(r).equalsOrStartsWith(t)||i.push.apply(i,this._twowayBindings[r])}else i=this._twowayBindings[t];return e=Ha(this,i),this.set(e)}function Ha(t,n){var e={},r=[];return n.forEach(function(t){var n,i;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(r[t.keypath.str]||t.changed()||(r.push(t.keypath),r[t.keypath.str]=t));n=t.attribute.value,i=t.getValue(),T(n,i)||u(n,i)||(e[t.keypath.str]=i)}}),r.length&&r.forEach(function(t){var n,i,o;n=r[t.str],i=n.attribute.value,o=n.getValue(),T(i,o)||(e[t.str]=o)}),e}function $a(t,n){return"function"==typeof n&&/_super/.test(t)}function Za(t){for(var n={};t;)Ya(t,n),Qa(t,n),t=t._Parent!==$b?t._Parent:!1;return n}function Ya(t,n){vp.forEach(function(e){Ga(e.useDefaults?t.prototype:t,n,e.name)})}function Ga(t,n,e){var r,i=Object.keys(t[e]);i.length&&((r=n[e])||(r=n[e]={}),i.filter(function(t){return!(t in r)}).forEach(function(n){return r[n]=t[e][n]}))}function Qa(t,n){Object.keys(t.prototype).forEach(function(e){if("computed"!==e){var r=t.prototype[e];if(e in n){if("function"==typeof n[e]&&"function"==typeof r&&n[e]._method){var i=void 0,o=r._method;o&&(r=r._method),i=Ub(n[e]._method,r),o&&(i._method=i),n[e]=i}}else n[e]=r._method?r._method:r}})}function Ka(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];return n.length?n.reduce(Xa,this):Xa(this)}function Xa(t){var n,e,i=void 0===arguments[1]?{}:arguments[1];return i.prototype instanceof $b&&(i=Vb(i)),n=function(t){return this instanceof n?void By(this,t):new n(t)},e=wu(t.prototype),e.constructor=n,_u(n,{defaults:{value:e},extend:{value:Ka,writable:!0,configurable:!0},_Parent:{value:t}}),bp.extend(t,e,i),Uc.extend(t,e,i),i.computed&&(e.computed=r(wu(t.prototype.computed),i.computed)),n.prototype=e,n}var Ja,tu,nu,eu,ru,iu,ou,au=3,uu={el:void 0,append:!1,template:{v:au,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},su=uu,cu={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};Ja="object"==typeof document,tu="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),nu="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),eu=!0}catch(lu){eu=!1}ru={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},iu="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),ou=["o","ms","moz","webkit"];var fu,hu,pu,du,gu,vu,mu,yu,bu;if(fu=iu?function(t,n){return n&&n!==ru.html?document.createElementNS(n,t):document.createElement(t)}:function(t,n){if(n&&n!==ru.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},Ja){for(pu=fu("div"),du=["matches","matchesSelector"],bu=function(t){return function(n,e){return n[t](e)}},mu=du.length;mu--&&!hu;)if(gu=du[mu],pu[gu])hu=bu(gu);else for(yu=ou.length;yu--;)if(vu=ou[mu]+gu.substr(0,1).toUpperCase()+gu.substring(1),pu[vu]){hu=bu(vu);break}hu||(hu=function(t,n){var e,r,i;for(r=t.parentNode,r||(pu.innerHTML="",r=pu,t=t.cloneNode(),pu.appendChild(t)),e=r.querySelectorAll(n),i=e.length;i--;)if(e[i]===t)return!0;return!1})}else hu=null;var wu,xu,_u,ku=null;try{Object.defineProperty({},"test",{value:0}),Ja&&Object.defineProperty(document.createElement("div"),"test",{value:0}),xu=Object.defineProperty}catch(Mu){xu=function(t,n,e){t[n]=e.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Mu){throw Mu}Ja&&Object.defineProperties(fu("div"),{test:{value:0}}),_u=Object.defineProperties}catch(Mu){_u=function(t,n){var e;for(e in n)n.hasOwnProperty(e)&&xu(t,e,n[e])}}try{Object.create(null),wu=Object.create}catch(Mu){wu=function(){var t=function(){};return function(n,e){var r;return null===n?{}:(t.prototype=n,r=new t,e&&Object.defineProperties(r,e),r)}}()}var Eu,Au,Su,Nu=Object.prototype.hasOwnProperty,Cu=Object.prototype.toString,Ru=/^\[object (?:Array|FileList)\]$/,Ou=function(){},ju={};nu?!function(){var t=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],n="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";Su=function(){var e=!!console.groupCollapsed;console[e?"groupCollapsed":"log"].apply(console,t),console.log(n),e&&console.groupEnd(t),Su=Ou},Au=function(t,n){if(Su(),"object"==typeof n[n.length-1]){var e=n.pop(),r=e?e.ractive:null;if(r){var i=void 0;r.component&&(i=r.component.name)&&(t="<"+i+"> "+t);var o=void 0;(o=e.node||r.fragment&&r.fragment.rendered&&r.find("*"))&&n.push(o)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(n))},Eu=function(){console.log.apply(console,arguments)}}():Au=Eu=Su=Ou;var Tu="Bad arguments",Pu='A function was specified for "%s" %s, but no %s was returned',Fu=function(t,n){return'Missing "'+t+'" '+n+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+n+"s"},Du=function(t,n,e,r){if(t===n)return b(n);if(r){var i=m("interpolators",e,r);if(i)return i(t,n)||b(n);f(Fu(r,"interpolator"))}return zu.number(t,n)||zu.array(t,n)||zu.object(t,n)||b(n)},qu=Du,Lu={number:function(t,n){var e;return s(t)&&s(n)?(t=+t,n=+n,e=n-t,e?function(n){return t+n*e}:function(){return t}):null},array:function(t,n){var e,r,i,a;if(!o(t)||!o(n))return null;for(e=[],r=[],a=i=Math.min(t.length,n.length);a--;)r[a]=qu(t[a],n[a]);for(a=i;a<t.length;a+=1)e[a]=t[a];for(a=i;a<n.length;a+=1)e[a]=n[a];return function(t){for(var n=i;n--;)e[n]=r[n](t);return e}},object:function(t,n){var e,r,i,o,a;if(!c(t)||!c(n))return null;e=[],o={},i={};for(a in t)Nu.call(t,a)&&(Nu.call(n,a)?(e.push(a),i[a]=qu(t[a],n[a])):o[a]=t[a]);for(a in n)Nu.call(n,a)&&!Nu.call(t,a)&&(o[a]=n[a]);return r=e.length,function(t){for(var n,a=r;a--;)n=e[a],o[n]=i[n](t);return o}}},zu=Lu,Iu=w,Uu={},Vu=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Bu=/\*/,Wu={},Hu=function(t){var n=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=k(t)),this.firstKey=n[0],this.lastKey=n.pop(),this.isPattern=Bu.test(t),this.parent=""===t?null:M(n.join(".")),this.isRoot=!t};Hu.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return M(this.isRoot?String(t):this.str+"."+t)},replace:function(t,n){return this===t?n:this.startsWith(t)?null===n?n:M(this.str.replace(t.str+".",n.str+".")):void 0},startsWith:function(t){return t?t&&this.str.substr(0,t.str.length+1)===t.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Iu(this.str))}};var $u,Zu=M(""),Yu=N,Gu="Cannot add to a non-numeric value",Qu=C;"undefined"==typeof window?$u=null:(!function(t,n,e){var r,i;if(!e.requestAnimationFrame){for(r=0;r<t.length&&!e.requestAnimationFrame;++r)e.requestAnimationFrame=e[t[r]+"RequestAnimationFrame"];e.requestAnimationFrame||(i=e.setTimeout,e.requestAnimationFrame=function(t){var e,r,o;return e=Date.now(),r=Math.max(0,16-(e-n)),o=i(function(){t(e+r)},r),n=e+r,o})}}(ou,0,window),$u=window.requestAnimationFrame);var Ku,Xu=$u;Ku="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Ju=Ku,ts={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};R.prototype.fire=function(t,n){function e(e){return t[e]?(n?t[e](n):t[e](),!0):void 0}e(this.method),!t[this.method]&&this.deprecate&&e(this.deprecate.deprecated)&&(this.deprecate.message?g(this.deprecate.message):g('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),n?t.fire(this.event,n):t.fire(this.event)};var ns,es=R,rs={},is={},os={};"function"==typeof Promise?ns=Promise:(ns=function(t){var n,e,r,i,o,a,u=[],s=[],c=rs;r=function(t){return function(r){c===rs&&(n=r,c=t,e=z(c===is?u:s,n),L(e))}},i=r(is),o=r(os);try{t(i,o)}catch(l){o(l)}return a={then:function(t,n){var r=new ns(function(i,o){var a=function(t,n,e){"function"==typeof t?n.push(function(n){var e;try{e=t(n),I(r,e,i,o)}catch(a){o(a)}}):n.push(e)};a(t,u,i),a(n,s,o),c!==rs&&L(e)});return r}},a["catch"]=function(t){return this.then(null,t)},a},ns.all=function(t){return new ns(function(n,e){var r,i,o,a=[];if(!t.length)return void n(a);for(o=function(t,i){t&&"function"==typeof t.then?t.then(function(t){a[i]=t,--r||n(a)},e):(a[i]=t,--r||n(a))},r=i=t.length;i--;)o(t[i],i)})},ns.resolve=function(t){return new ns(function(n){n(t)})},ns.reject=function(t){return new ns(function(n,e){e(t)})});var as=ns,us=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return Zu},ss=U,cs=function(t,n){this.callback=t,this.parent=n,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,n&&n.addChild(this)};cs.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,X(this)},decrementTotal:function(){this.totalChildren-=1,X(this)},add:function(t){var n=t.isIntro?this.intros:this.outros;n.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var n=t.isIntro?this.intros:this.outros;D(n,t),X(this)},init:function(){this.ready=!0,X(this)},detachNodes:function(){this.decoratorQueue.forEach($),this.detachQueue.forEach(Q),this.children.forEach(K)}};var ls,fs,hs=cs,ps=[],ds=new es("change");fs={start:function(t,n){var e,r;return n&&(e=new as(function(t){return r=t})),ls={previousBatch:ls,transitionManager:new hs(r,ls&&ls.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&ls.ractives.push(t),e},end:function(){J(),ls.transitionManager.init(),!ls.previousBatch&&ls.instance&&(ls.instance.viewmodel.changes=[]),ls=ls.previousBatch},addRactive:function(t){ls&&O(ls.ractives,t)},registerTransition:function(t){t._manager=ls.transitionManager,ls.transitionManager.add(t)},registerDecorator:function(t){ls.transitionManager.addDecorator(t)},addView:function(t){ls.views.push(t)},addUnresolved:function(t){ps.push(t)},removeUnresolved:function(t){D(ps,t)},detachWhenReady:function(t){ls.transitionManager.detachQueue.push(t)},scheduleTask:function(t,n){var e;if(ls){for(e=ls;n&&e.previousBatch;)e=e.previousBatch;e.tasks.push(t)}else t()}};var gs=fs,vs=[],ms={tick:function(){var t,n,e;for(e=Ju(),gs.start(),t=0;t<vs.length;t+=1)n=vs[t],n.tick(e)||vs.splice(t--,1);gs.end(),vs.length?Xu(ms.tick):ms.running=!1},add:function(t){vs.push(t),ms.running||(ms.running=!0,Xu(ms.tick))},abort:function(t,n){for(var e,r=vs.length;r--;)e=vs[r],e.root===n&&e.keypath===t&&e.stop()}},ys=ms,bs=function(t){var n;this.startTime=Date.now();for(n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);this.interpolator=qu(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};bs.prototype={tick:function(){var t,n,e,r,i,o;return o=this.keypath,this.running?(r=Date.now(),t=r-this.startTime,t>=this.duration?(null!==o&&(gs.start(this.root),this.root.viewmodel.set(o,this.to),gs.end()),this.step&&this.step(1,this.to),this.complete(this.to),i=this.root._animations.indexOf(this),-1===i&&g("Animation was not found"),this.root._animations.splice(i,1),this.running=!1,!1):(n=this.easing?this.easing(t/this.duration):t/this.duration,null!==o&&(e=this.interpolator(n),gs.start(this.root),this.root.viewmodel.set(o,e),gs.end()),this.step&&this.step(n,e),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&g("Animation was not found"),this.root._animations.splice(t,1)}};var ws=bs,xs=et,_s={stop:Ou},ks=it,Ms=new es("detach"),Es=ot,As=at,Ss=function(){var t,n,e;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],n=this.selector,e=t.indexOf(n),-1!==e&&(t.splice(e,1),t[n]=null)},Ns=function(t,n){var e,r,i,o,a,u,s,c,l,f;for(e=st(t.component||t._ractive.proxy),r=st(n.component||n._ractive.proxy),i=F(e),o=F(r);i&&i===o;)e.pop(),r.pop(),a=i,i=F(e),o=F(r);if(i=i.component||i,o=o.component||o,l=i.parentFragment,f=o.parentFragment,l===f)return u=l.items.indexOf(i),s=f.items.indexOf(o),u-s||e.length-r.length;if(c=a.fragments)return u=c.indexOf(l),s=c.indexOf(f),u-s||e.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Cs=function(t,n){var e;return t.compareDocumentPosition?(e=t.compareDocumentPosition(n),2&e?1:-1):Ns(t,n)},Rs=function(){this.sort(this._isComponentQuery?Ns:Cs),this._dirty=!1},Os=function(){var t=this;this._dirty||(this._dirty=!0,gs.scheduleTask(function(){t._sort()}))},js=function(t){var n=this.indexOf(this._isComponentQuery?t.instance:t);-1!==n&&this.splice(n,1)},Ts=ct,Ps=lt,Fs=ft,Ds=ht,qs=pt,Ls=dt,zs={enqueue:function(t,n){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=n},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},Is=zs,Us=gt,Vs=yt,Bs=bt,Ws={capture:!0,noUnwrap:!0,fullRootGet:!0},Hs=wt,$s=new es("insert"),Zs=_t,Ys=function(t,n,e,r){this.root=t,this.keypath=n,this.callback=e,this.defer=r.defer,this.context=r&&r.context?r.context:t};Ys.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var n=this;u(t,this.value)||(this.value=t,this.defer&&this.ready?gs.scheduleTask(function(){return n.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Gs,Qs=Ys,Ks=kt,Xs=Array.prototype.slice;Gs=function(t,n,e,r){this.root=t,this.callback=e,this.defer=r.defer,this.keypath=n,this.regex=new RegExp("^"+n.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:t},Gs.prototype={init:function(t){var n,e;if(n=Ks(this.root,this.keypath),t!==!1)for(e in n)n.hasOwnProperty(e)&&this.update(M(e));else this.values=n},update:function(t){var n,e=this;if(t.isPattern){n=Ks(this.root,t);for(t in n)n.hasOwnProperty(t)&&this.update(M(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void gs.scheduleTask(function(){return e.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var n,e,r,i;return n=t.str,e=this.root.viewmodel.get(t),this.updating?void(this.values[n]=e):(this.updating=!0,u(e,this.values[n])&&this.ready||(r=Xs.call(this.regex.exec(n),1),i=[e,this.values[n],n].concat(r),this.values[n]=e,this.callback.apply(this.context,i)),void(this.updating=!1))},getProxy:function(t){var n=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return n.reallyUpdate(t)}}),this.proxies[t.str]}};var Js,tc,nc,ec,rc,ic,oc=Gs,ac=Mt,uc={},sc=Et,cc=At,lc=function(t){return t.trim()},fc=function(t){return""!==t},hc=St,pc=Nt,dc=Ct,gc=Rt,vc=Array.prototype,mc=function(t){return function(n){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;e>i;i++)r[i-1]=arguments[i];var a,u,s,c,l=[];if(n=M(S(n)),a=this.viewmodel.get(n),u=a.length,!o(a))throw new Error("Called ractive."+t+"('"+n.str+"'), but '"+n.str+"' does not refer to an array");return l=gc(a,t,r),c=vc[t].apply(a,r),s=gs.start(this,!0).then(function(){return c}),l?this.viewmodel.smartUpdate(n,a,l):this.viewmodel.mark(n),gs.end(),s}},yc=mc("pop"),bc=mc("push"),wc="/* Ractive.js component styles */\n",xc=[],_c=!1;Ja?(nc=document.createElement("style"),nc.type="text/css",ec=document.getElementsByTagName("head")[0],ic=!1,rc=nc.styleSheet,tc=function(){var t=wc+xc.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");rc?rc.cssText=t:nc.innerHTML=t,ic||(ec.appendChild(nc),ic=!0)},Js={add:function(t){xc.push(t),_c=!0},apply:function(){_c&&(tc(),_c=!1)}}):Js={add:Ou,apply:Ou};var kc,Mc,Ec=Js,Ac=jt,Sc=new es("render"),Nc=new es("complete"),Cc={extend:function(t,n,e){n.adapt=Pt(n.adapt,P(e.adapt))},init:function(){}},Rc=Cc,Oc=Ft,jc=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Tc=/\/\*.*?\*\//g,Pc=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,Fc=/^@media/,Dc=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,qc=1,Lc={name:"css",extend:function(t,n,e){if(e.css){var r=qc++,i=e.noCssTransform?e.css:Oc(e.css,r);n.cssId=r,Ec.add({id:r,styles:i})}},init:function(){}},zc=Lc,Ic={name:"data",extend:function(t,n,e){var r=void 0,i=void 0;if(e.data&&c(e.data))for(r in e.data)i=e.data[r],i&&"object"==typeof i&&(c(i)||o(i))&&g("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");n.data=zt(n.data,e.data)},init:function(t,n,e){var r=zt(t.prototype.data,e.data);return"function"==typeof r&&(r=r.call(n)),r||{}},reset:function(t){var n=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(n),!0}},Uc=Ic,Vc=/^\s+/;Mc=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(n){this.stack=n.stack}},Mc.prototype=Error.prototype,kc=function(t,n){var e,r,i=0;for(this.str=t,this.options=n||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var n=i+t.length+1;return i=n,n},0),this.init&&this.init(t,n),e=[];this.pos<this.str.length&&(r=this.read());)e.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(e,n):e},kc.prototype={read:function(t){var n,e,r,i;for(t||(t=this.converters),n=this.pos,r=t.length,e=0;r>e;e+=1)if(this.pos=n,i=t[e](this))return i;return null},getLinePos:function(t){for(var n,e=0,r=0;t>=this.lineEnds[e];)r=this.lineEnds[e],e+=1;return n=t-r,[e+1,n+1,t]},error:function(t){var n=this.getLinePos(this.pos),e=n[0],r=n[1],i=this.lines[n[0]-1],o=0,a=i.replace(/\t/g,function(t,e){return e<n[1]&&(o+=1),"  "})+"\n"+new Array(n[1]+o).join(" ")+"^----",u=new Mc(""+t+" at line "+e+" character "+r+":\n"+a);throw u.line=n[0],u.character=n[1],u.shortMessage=t,u},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var n;return(n=t.exec(this.remaining()))?(this.pos+=n[0].length,n[1]||n[0]):void 0},allowWhitespace:function(){this.matchPattern(Vc)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},kc.extend=function(t){var n,e,r=this;n=function(t,n){kc.call(this,t,n)},n.prototype=wu(r.prototype);for(e in t)Nu.call(t,e)&&(n.prototype[e]=t[e]);return n.extend=kc.extend,n};var Bc,Wc,Hc,$c=kc,Zc=1,Yc=2,Gc=3,Qc=4,Kc=5,Xc=6,Jc=7,tl=8,nl=9,el=10,rl=13,il=14,ol=15,al=16,ul=17,sl=18,cl=20,ll=21,fl=22,hl=23,pl=24,dl=25,gl=26,vl=27,ml=30,yl=31,bl=32,wl=33,xl=34,_l=35,kl=36,Ml=40,El=50,Al=51,Sl=52,Nl=53,Cl=54,Rl=60,Ol=61,jl=Vt,Tl=/^[^\s=]+/,Pl=/^\s+/,Fl=Bt,Dl=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,ql=Wt,Ll={t:el,exclude:!0},zl="Expected a JavaScript expression",Il="Expected closing paren",Ul=$t,Vl=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Bl=Zt;Bc=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Wc=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Hc=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Wl,Hl,$l=function(t){return function(n){var e,r,i,o;for(e=n.pos,r='"',i=!1;!i;)o=n.matchPattern(Bc)||n.matchPattern(Wc)||n.matchString(t),o?r+='"'===o?'\\"':"\\'"===o?"'":o:(o=n.matchPattern(Hc),o?r+="\\u"+("000"+o.charCodeAt(1).toString(16)).slice(-4):i=!0);return r+='"',JSON.parse(r)}},Zl=$l('"'),Yl=$l("'"),Gl=function(t){var n,e;return n=t.pos,t.matchString('"')?(e=Yl(t),t.matchString('"')?{t:ll,v:e}:(t.pos=n,null)):t.matchString("'")?(e=Zl(t),t.matchString("'")?{t:ll,v:e}:(t.pos=n,null)):null},Ql=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Kl=Yt,Xl=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Jl=Gt,tf=Qt,nf=function(t){var n,e;return n=t.pos,t.allowWhitespace(),t.matchString("{")?(e=tf(t),t.allowWhitespace(),t.matchString("}")?{t:hl,m:e}:(t.pos=n,null)):(t.pos=n,null)},ef=Kt,rf=function(t){var n,e;return n=t.pos,t.allowWhitespace(),t.matchString("[")?(e=ef(t),t.matchString("]")?{t:fl,m:e}:(t.pos=n,null)):(t.pos=n,null)},of=Xt,af=Jt,uf=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Wl=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,Hl=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var sf,cf,lf=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,ff=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,hf=tn,pf=function(t){return of(t)||af(t)||hf(t)},df=nn,gf=function(t){var n,e,r,i;if(e=pf(t),!e)return null;for(;e;)if(n=t.pos,r=df(t))e={t:bl,x:e,r:r};else{if(!t.matchString("("))break;t.allowWhitespace(),i=ef(t),t.allowWhitespace(),t.matchString(")")||t.error(Il),e={t:Ml,x:e},i&&(e.o=i)}return e};cf=function(t,n){return function(e){var r;return(r=n(e))?r:e.matchString(t)?(e.allowWhitespace(),r=Cf(e),r||e.error(zl),{s:t,o:r,t:wl}):null}},function(){var t,n,e,r,i;for(r="! ~ + - typeof".split(" "),i=gf,t=0,n=r.length;n>t;t+=1)e=cf(r[t],i),i=e;sf=i}();var vf,mf,yf=sf;mf=function(t,n){return function(e){var r,i,o;if(i=n(e),!i)return null;for(;;){if(r=e.pos,e.allowWhitespace(),!e.matchString(t))return e.pos=r,i;if("in"===t&&/[a-zA-Z_$0-9]/.test(e.remaining().charAt(0)))return e.pos=r,i;if(e.allowWhitespace(),o=n(e),!o)return e.pos=r,i;i={t:kl,s:t,o:[i,o]}}}},function(){var t,n,e,r,i;for(r="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),i=yf,t=0,n=r.length;n>t;t+=1)e=mf(r[t],i),i=e;vf=i}();var bf,wf,xf,_f,kf,Mf,Ef,Af,Sf=vf,Nf=en,Cf=rn,Rf=on,Of=un,jf=/^[0-9][1-9]*$/,Tf=cn,Pf=ln,Ff=fn,Df=hn,qf=pn,Lf=dn,zf=gn,If=/^yield\s*/,Uf=vn,Vf=mn,Bf=/^\s*else\s*/,Wf=yn,Hf=/^\s*elseif\s+/,$f={each:Sl,"if":El,"if-with":Cl,"with":Nl,unless:Al},Zf=bn,Yf=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Gf=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Qf=new RegExp("^("+Object.keys($f).join("|")+")\\b"),Kf=Mn,Xf="<!--",Jf="-->";bf=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,wf=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,xf={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},_f=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],kf=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(xf).join("|")+"));?","g"),
Mf=/</g,Ef=/>/g,Af=/&/g;var th,nh,eh,rh,ih,oh,ah,uh=/^\s*\r?\n/,sh=/\r?\n\s*$/,ch=function(t){var n,e,r,i,o;for(n=1;n<t.length;n+=1)e=t[n],r=t[n-1],i=t[n-2],Nn(e)&&Cn(r)&&Nn(i)&&sh.test(i)&&uh.test(e)&&(t[n-2]=i.replace(sh,"\n"),t[n]=e.replace(uh,"")),Rn(e)&&Nn(r)&&sh.test(r)&&Nn(e.f[0])&&uh.test(e.f[0])&&(t[n-1]=r.replace(sh,"\n"),e.f[0]=e.f[0].replace(uh,"")),Nn(e)&&Rn(r)&&(o=F(r.f),Nn(o)&&sh.test(o)&&uh.test(e)&&(r.f[r.f.length-1]=o.replace(sh,"\n"),t[n]=e.replace(uh,"")));return t},lh=function(t,n,e){var r;n&&(r=t[0],"string"==typeof r&&(r=r.replace(n,""),r?t[0]=r:t.shift())),e&&(r=F(t),"string"==typeof r&&(r=r.replace(e,""),r?t[t.length-1]=r:t.pop()))},fh=On,hh=/[ \t\f\r\n]+/g,ph=/^(?:pre|script|style|textarea)$/i,dh=/^[ \t\f\r\n]+/,gh=/[ \t\f\r\n]+$/,vh=/^(?:\r\n|\r|\n)/,mh=/(?:\r\n|\r|\n)$/,yh=jn,bh=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,wh=function(t,n){var e,r,i;for(e=n.length;e--;){if(r=t.indexOf(n[e]),!r)return 0;-1!==r&&(!i||i>r)&&(i=r)}return i||-1},xh=Tn,_h=/^[^\s"'>\/=]+/,kh=/^[^\s"'=<>`]+/;nh={"true":!0,"false":!1,undefined:void 0,"null":null},eh=new RegExp("^(?:"+Object.keys(nh).join("|")+")"),rh=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,ih=/\$\{([^\}]+)\}/g,oh=/^\$\{([^\}]+)\}/,ah=/^\s*$/,th=$c.extend({init:function(t,n){this.values=n.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&ah.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var n;return t.values?(n=t.matchPattern(oh),n&&t.values.hasOwnProperty(n)?{v:t.values[n]}:void 0):null},function(t){var n;return(n=t.matchPattern(eh))?{v:nh[n]}:void 0},function(t){var n;return(n=t.matchPattern(rh))?{v:+n}:void 0},function(t){var n,e=Gl(t);return e&&(n=t.values)?{v:e.v.replace(ih,function(t,e){return e in n?n[e]:e})}:e},function(t){var n,e;if(!t.matchString("{"))return null;if(n={},t.allowWhitespace(),t.matchString("}"))return{v:n};for(;e=zn(t);){if(n[e.key]=e.value,t.allowWhitespace(),t.matchString("}"))return{v:n};if(!t.matchString(","))return null}return null},function(t){var n,e;if(!t.matchString("["))return null;if(n=[],t.allowWhitespace(),t.matchString("]"))return{v:n};for(;e=t.read();){if(n.push(e.v),t.allowWhitespace(),t.matchString("]"))return{v:n};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var Mh,Eh=function(t,n){var e=new th(t,{values:n});return e.result},Ah=In,Sh=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Nh=/\)\s*$/;Mh=$c.extend({converters:[Cf]});var Ch,Rh=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Oh=/^[\s\n\/>]/,jh=/^on/,Th=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Ph=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Fh={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Dh={exclude:!0};Ch={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var qh,Lh=Un,zh=Bn,Ih=Wn,Uh=/[-\/\\^$*+?.()|[\]{}]/g,Vh=Hn,Bh=/^<!--\s*/,Wh=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Hh=/\s*-->/,$h=$n,Zh=/^#\s*partial\s+/,Yh=Zn,Gh=Yn,Qh=[Ff,Pf,Zf,zf,Lf,Df],Kh=[Tf],Xh=[Pf,Zf,Lf],Jh=void 0,tp=[ql,Kf,Lh,zh],np=[Vh,$h];Jh=$c.extend({init:function(t,n){var e=n.tripleDelimiters||["{{{","}}}"],r=n.staticDelimiters||["[[","]]"],i=n.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=n.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Qh},{isStatic:!1,isTriple:!0,open:e[0],close:e[1],readers:Kh},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:Xh},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:Kh}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!n.interpolate||n.interpolate.script!==!1,style:!n.interpolate||n.interpolate.style!==!1},n.sanitize===!0&&(n.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=n.stripComments!==!1,this.preserveWhitespace=n.preserveWhitespace,this.sanitizeElements=n.sanitize&&n.sanitize.elements,this.sanitizeEventAttributes=n.sanitize&&n.sanitize.eventAttributes,this.includeLinePositions=n.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),fh(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:au}},converters:[Yh],sortMustacheTags:function(){this.tags.sort(function(t,n){return n.open.length-t.open.length})}});var ep,rp,ip,op=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],ap={fromId:Kn,isHashedId:Xn,isParsed:Jn,getParseOptions:te,createHelper:Gn,parse:Qn},up=ap,sp={name:"template",extend:function(t,n,e){var r;"template"in e&&(r=e.template,"function"==typeof r?n.template=r:n.template=ie(r,n))},init:function(t,n,e){var r,i;r="template"in e?e.template:t.prototype.template,"function"==typeof r&&(i=r,r=ee(n,i),n._config.template={fn:i,result:r}),r=ie(r,n),n.template=r.t,r.p&&oe(n.partials,r.p)},reset:function(t){var n,e=ne(t);return e?(n=ie(e,t),t.template=n.t,oe(t.partials,n.p,!0),!0):void 0}},cp=sp;ep=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],rp=function(t,n){this.name=t,this.useDefaults=n},rp.prototype={constructor:rp,extend:function(t,n,e){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?n:n.constructor,e)},init:function(){},configure:function(t,n,e){var r,i=this.name,o=e[i];r=wu(t[i]);for(var a in o)r[a]=o[a];n[i]=r},reset:function(t){var n=t[this.name],e=!1;return Object.keys(n).forEach(function(t){var r=n[t];r._fn&&(r._fn.isOwner?n[t]=r._fn:delete n[t],e=!0)}),e}},ip=ep.map(function(t){return new rp(t,"computed"===t)});var lp,fp,hp,pp,dp,gp,vp=ip,mp=ae,yp=le;pp={adapt:Rc,css:zc,data:Uc,template:cp},hp=Object.keys(su),gp=pe(hp.filter(function(t){return!pp[t]})),dp=pe(hp.concat(vp.map(function(t){return t.name}))),fp=[].concat(hp.filter(function(t){return!vp[t]&&!pp[t]}),vp,pp.data,pp.template,pp.css),lp={extend:function(t,n,e){return fe("extend",t,n,e)},init:function(t,n,e){return fe("init",t,n,e)},reset:function(t){return fp.filter(function(n){return n.reset&&n.reset(t)}).map(function(t){return t.name})},order:fp};var bp=lp,wp=de,xp=ge,_p=ve,kp=me,Mp=ye,Ep=be,Ap=we,Sp=xe,Np=_e,Cp=ke,Rp=Me,Op=Ee,jp=function(){return n(this.node)},Tp=function(t){this.type=Zc,this.text=t.template};Tp.prototype={detach:jp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?Sn(this.text):this.text},unrender:function(t){return t?this.detach():void 0}};var Pp=Tp,Fp=Ae,Dp=Se,qp=function(t,n,e){var r;this.ref=n,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=e,r=ss(t.root,n,t.parentFragment),void 0!=r?this.resolve(r):gs.addUnresolved(this)};qp.prototype={resolve:function(t){this.keypath&&!t&&gs.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(M(this.ref))},rebind:function(t,n){var e;void 0!=this.keypath&&(e=this.keypath.replace(t,n),void 0!==e&&this.resolve(e))},unbind:function(){this.resolved||gs.removeUnresolved(this)}};var Lp=qp,zp=function(t,n,e){this.parentFragment=t.parentFragment,this.ref=n,this.callback=e,this.rebind()},Ip={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};zp.prototype={rebind:function(){var t,n=this.ref,e=this.parentFragment,r=Ip[n];if(!r)throw new Error('Unknown special reference "'+n+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(M("@"+r.prefix+Ne(this.cached,r)));if(-1!==r.prop.indexOf("index")||-1!==r.prop.indexOf("key"))for(;e;){if(e.owner.currentSubtype===Sl&&void 0!==(t=Ne(e,r)))return this.cached=e,e.registerIndexRef(this),this.callback(M("@"+r.prefix+t));e=!e.parent&&e.owner&&e.owner.component&&e.owner.component.parentFragment&&!e.owner.component.instance.isolated?e.owner.component.parentFragment:e.parent}else for(;e;){if(void 0!==(t=Ne(e,r)))return this.callback(M("@"+r.prefix+t.str));e=e.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Up=zp,Vp=function(t,n,e){this.parentFragment=t.parentFragment,this.ref=n,this.callback=e,n.ref.fragment.registerIndexRef(this),this.rebind()};Vp.prototype={rebind:function(){var t,n=this.ref.ref;t="k"===n.ref.t?"k"+n.fragment.key:"i"+n.fragment.index,void 0!==t&&this.callback(M("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Bp=Vp,Wp=Ce;Ce.resolve=function(t){var n,e,r={};for(n in t.refs)e=t.refs[n],r[e.ref.n]="k"===e.ref.t?e.fragment.key:e.fragment.index;return r};var Hp,$p=Re,Zp=Oe,Yp={},Gp=Function.prototype.bind;Hp=function(t,n,e,r){var i,o=this;i=t.root,this.root=i,this.parentFragment=n,this.callback=r,this.owner=t,this.str=e.s,this.keypaths=[],this.pending=e.r.length,this.refResolvers=e.r.map(function(t,n){return $p(o,t,function(t){o.resolve(n,t)})}),this.ready=!0,this.bubble()},Hp.prototype={bubble:function(){this.ready&&(this.uniqueString=Te(this.str,this.keypaths),this.keypath=Pe(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,n){this.keypaths[t]=n,this.bubble()},createEvaluator:function(){var t,n,e,r,i,o=this;r=this.keypath,t=this.root.viewmodel.computations[r.str],t?this.root.viewmodel.mark(r):(i=Zp(this.str,this.refResolvers.length),n=this.keypaths.map(function(t){var n;return"undefined"===t?function(){}:t.isSpecial?(n=t.value,function(){return n}):function(){var n=o.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof n&&(n=De(n,o.root)),n}}),e={deps:this.keypaths.filter(Fe),getter:function(){var t=n.map(je);return i.apply(null,t)}},t=this.root.viewmodel.compute(r,e))},rebind:function(t,n){this.refResolvers.forEach(function(e){return e.rebind(t,n)})}};var Qp=Hp,Kp=function(t,n,e){var r=this;this.resolver=n,this.root=n.root,this.parentFragment=e,this.viewmodel=n.root.viewmodel,"string"==typeof t?this.value=t:t.t===ml?this.refResolver=$p(this,t.n,function(t){r.resolve(t)}):new Qp(n,e,t,function(t){r.resolve(t)})};Kp.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,n){this.refResolver&&this.refResolver.rebind(t,n)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Xp=Kp,Jp=function(t,n,e){var r,i,o,a,u=this;this.parentFragment=a=t.parentFragment,this.root=r=t.root,this.mustache=t,this.ref=i=n.r,this.callback=e,this.unresolved=[],(o=ss(r,i,a))?this.base=o:this.baseResolver=new Lp(this,i,function(t){u.base=t,u.baseResolver=null,u.bubble()}),this.members=n.m.map(function(t){return new Xp(t,u,a)}),this.ready=!0,this.bubble()};Jp.prototype={getKeypath:function(){var t=this.members.map(qe);return!t.every(Le)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(Z)},rebind:function(t,n){var e;if(this.base){var r=this.base.replace(t,n);r&&r!==this.base&&(this.base=r,e=!0)}this.members.forEach(function(r){r.rebind(t,n)&&(e=!0)}),e&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=M(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(ze),this.bubble()}};var td=Jp,nd=Ie,ed=Ue,rd=Ve,id={getValue:Dp,init:nd,resolve:ed,rebind:rd},od=function(t){this.type=Yc,id.init(this,t)};od.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:id.resolve,rebind:id.rebind,detach:jp,unbind:Fp,render:function(){return this.node||(this.node=document.createTextNode(e(this.value))),this.node},unrender:function(t){t&&n(this.node)},getValue:id.getValue,setValue:function(t){var n;this.keypath&&(n=this.root.viewmodel.wrapped[this.keypath.str])&&(t=n.get()),u(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&gs.addView(this))},firstNode:function(){return this.node},toString:function(t){var n=""+e(this.value);return t?Sn(n):n}};var ad=od,ud=Be,sd=We,cd=He,ld=$e,fd=Ze,hd=Ye,pd=Ge,dd=Qe,gd=Ke,vd=function(t,n){id.rebind.call(this,t,n)},md=Je,yd=tr,bd=fr,wd=hr,xd=pr,_d=vr,kd=function(t){this.type=Qc,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===Al,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,n){return{n:t,t:0===n?"k":"i"}})),this.renderedFragments=[],this.length=0,id.init(this,t)};kd.prototype={bubble:ud,detach:sd,find:cd,findAll:ld,findAllComponents:fd,findComponent:hd,findNextNode:pd,firstNode:dd,getIndexRef:function(t){if(this.indexRefs)for(var n=this.indexRefs.length;n--;){var e=this.indexRefs[n];if(e.n===t)return e}},getValue:id.getValue,shuffle:gd,rebind:vd,render:md,resolve:id.resolve,setValue:yd,toString:bd,unbind:wd,unrender:xd,update:_d};var Md,Ed,Ad=kd,Sd=mr,Nd=yr,Cd=br,Rd=wr,Od={};try{fu("table").innerHTML="foo"}catch(Mu){Md=!0,Ed={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var jd=function(t,n,e){var r,i,o,a,u,s=[];if(null!=t&&""!==t){for(Md&&(i=Ed[n.tagName])?(r=xr("DIV"),r.innerHTML=i[0]+t+i[1],r=r.querySelector(".x"),"SELECT"===r.tagName&&(o=r.options[r.selectedIndex])):n.namespaceURI===ru.svg?(r=xr("DIV"),r.innerHTML='<svg class="x">'+t+"</svg>",r=r.querySelector(".x")):(r=xr(n.tagName),r.innerHTML=t,"SELECT"===r.tagName&&(o=r.options[r.selectedIndex]));a=r.firstChild;)s.push(a),e.appendChild(a);if("SELECT"===n.tagName)for(u=s.length;u--;)s[u]!==o&&(s[u].selected=!1)}return s},Td=_r,Pd=Mr,Fd=Er,Dd=Ar,qd=Sr,Ld=Nr,zd=function(t){this.type=Gc,id.init(this,t)};zd.prototype={detach:Sd,find:Nd,findAll:Cd,firstNode:Rd,getValue:id.getValue,rebind:id.rebind,render:Pd,resolve:id.resolve,setValue:Fd,toString:Dd,unbind:Fp,unrender:qd,update:Ld};var Id,Ud,Vd,Bd,Wd=zd,Hd=function(){this.parentFragment.bubble()},$d=Cr,Zd=function(t){return this.node?hu(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Yd=function(t,n){n._test(this,!0)&&n.live&&(this.liveQueries||(this.liveQueries=[])).push(n),this.fragment&&this.fragment.findAll(t,n)},Gd=function(t,n){this.fragment&&this.fragment.findAllComponents(t,n)},Qd=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Kd=Rr,Xd=Or,Jd=jr,tg=/^true|on|yes|1$/i,ng=/^[0-9]+$/,eg=function(t,n){var e,r,i;return i=n.a||{},r={},e=i.twoway,void 0!==e&&(r.twoway=0===e||tg.test(e)),e=i.lazy,void 0!==e&&(0!==e&&ng.test(e)?r.lazy=parseInt(e):r.lazy=0===e||tg.test(e)),r},rg=Tr;Id="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Ud="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Vd=function(t){for(var n={},e=t.length;e--;)n[t[e].toLowerCase()]=t[e];return n},Bd=Vd(Id.concat(Ud));var ig=function(t){var n=t.toLowerCase();return Bd[n]||n},og=function(t,n){var e,r;if(e=n.indexOf(":"),-1===e||(r=n.substr(0,e),"xmlns"===r))t.name=t.element.namespace!==ru.html?ig(n):n;else if(n=n.substring(e+1),t.name=ig(n),t.namespace=ru[r.toLowerCase()],t.namespacePrefix=r,!t.namespace)throw'Unknown namespace ("'+r+'")'},ag=Pr,ug=Fr,sg=Dr,cg=qr,lg={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},fg=Lr,hg=Ir,pg=Ur,dg=Vr,gg=Br,vg=Wr,mg=Hr,yg=$r,bg=Zr,wg=Yr,xg=Gr,_g=Qr,kg=Kr,Mg=Xr,Eg=Jr,Ag=function(t){this.init(t)};Ag.prototype={bubble:rg,init:ug,rebind:sg,render:cg,toString:fg,unbind:hg,update:Eg};var Sg,Ng=Ag,Cg=function(t,n){var e,r,i=[];for(e in n)"twoway"!==e&&"lazy"!==e&&n.hasOwnProperty(e)&&(r=new Ng({element:t,name:e,value:n[e],root:t.root}),i[e]=r,"value"!==e&&i.push(r));return(r=i.value)&&i.push(r),i};"undefined"!=typeof document&&(Sg=fu("div"));var Rg=function(t,n){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new yb({root:t.root,owner:this,template:[n]})};Rg.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,n){this.fragment.rebind(t,n)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===ru.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,n,e=this;t=this.fragment.toString(),n=ti(t,this.isSvg),this.attributes.filter(function(t){return ni(n,t)}).forEach(function(t){e.node.removeAttribute(t.name)}),n.forEach(function(t){e.node.setAttribute(t.name,t.value)}),this.attributes=n},toString:function(){return this.fragment.toString()}};var Og=Rg,jg=function(t,n){return n?n.map(function(n){return new Og(t,n)}):[]},Tg=function(t){var n,e,r,i;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],n=this.attribute.interpolator,n.twowayBinding=this,e=n.keypath){if("}"===e.str.slice(-1))return v("Two-way binding does not work with expressions (`%s` on <%s>)",n.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(e.isSpecial)return v("Two-way binding does not work with %s",n.resolver.ref,{ractive:this.root}),!1}else{var o=n.template.r?"'"+n.template.r+"' reference":"expression";g("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",o,{ractive:this.root}),n.resolver.forceResolution(),e=n.keypath}this.attribute.isTwoway=!0,this.keypath=e,r=this.root.viewmodel.get(e),void 0===r&&this.getInitialValue&&(r=this.getInitialValue(),void 0!==r&&this.root.viewmodel.set(e,r)),(i=ei(t))&&(this.resetValue=r,i.formBindings.push(this))};Tg.prototype={handleChange:function(){var t=this;gs.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),gs.scheduleTask(function(){return t.attribute.locked=!1}),gs.end()},rebound:function(){var t,n,e;n=this.keypath,e=this.attribute.interpolator.keypath,n!==e&&(D(this.root._twowayBindings[n.str],this),this.keypath=e,t=this.root._twowayBindings[e.str]||(this.root._twowayBindings[e.str]=[]),t.push(this))},unbind:function(){}},Tg.extend=function(t){var n,e=this;return n=function(t){Tg.call(this,t),this.init&&this.init()},n.prototype=wu(e.prototype),r(n.prototype,t),n.extend=Tg.extend,n};var Pg,Fg=Tg,Dg=ri;Pg=Fg.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,n=this.element.node,e=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:s(this.element.lazy)?(t=!1,e=+this.element.lazy):s(t||"")&&(e=+t,t=!1,this.element.lazy=e),this.handler=e?oi:Dg,n.addEventListener("change",Dg,!1),t||(n.addEventListener("input",this.handler,!1),n.attachEvent&&n.addEventListener("keyup",this.handler,!1)),n.addEventListener("blur",ii,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",Dg,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",ii,!1)}});var qg=Pg,Lg=qg.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),zg=Lg,Ig=ai,Ug={},Vg=Fg.extend({name:"checked",init:function(){this.siblings=Ig(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",Dg,!1),t.attachEvent&&t.addEventListener("click",Dg,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Dg,!1),t.removeEventListener("click",Dg,!1)},handleChange:function(){gs.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),gs.end()},getValue:function(){return this.element.node.checked},unbind:function(){D(this.siblings,this)}}),Bg=Vg,Wg=Fg.extend({name:"name",init:function(){this.siblings=Ig(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",Dg,!1),t.attachEvent&&t.addEventListener("click",Dg,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Dg,!1),t.removeEventListener("click",Dg,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&Fg.prototype.handleChange.call(this)},rebound:function(t,n){var e;Fg.prototype.rebound.call(this,t,n),(e=this.element.node)&&(e.name="{{"+this.keypath.str+"}}")},unbind:function(){D(this.siblings,this)}}),Hg=Wg,$g=Fg.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,n;this.checkboxName=!0,this.siblings=Ig(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),n=this.element.getAttribute("value"),t.push(n))},unbind:function(){D(this.siblings,this)},render:function(){var t,n,e=this.element.node;t=this.root.viewmodel.get(this.keypath),n=this.element.getAttribute("value"),o(t)?this.isChecked=j(t,n):this.isChecked=t==n,e.name="{{"+this.keypath.str+"}}",e.checked=this.isChecked,e.addEventListener("change",Dg,!1),e.attachEvent&&e.addEventListener("click",Dg,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Dg,!1),t.removeEventListener("click",Dg,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,Fg.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(ui).map(si)}}),Zg=$g,Yg=Fg.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",Dg,!1),t.attachEvent&&t.addEventListener("click",Dg,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Dg,!1),t.removeEventListener("click",Dg,!1)},getValue:function(){return this.element.node.checked}}),Gg=Yg,Qg=Fg.extend({getInitialValue:function(){var t,n,e,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(n=t=i.length,t)){for(;n--;)if(i[n].getAttribute("selected")){e=i[n].getAttribute("value"),r=!0;break}if(!r)for(;++n<t;)if(!i[n].getAttribute("disabled")){e=i[n].getAttribute("value");break}return void 0!==e&&(this.element.attributes.value.value=e),e}},render:function(){this.element.node.addEventListener("change",Dg,!1)},unrender:function(){this.element.node.removeEventListener("change",Dg,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,n,e,r,i;for(t=this.element.node.options,e=t.length,n=0;e>n;n+=1)if(r=t[n],t[n].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var t=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,gs.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))}}),Kg=Qg,Xg=Kg.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",Dg,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Dg,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var t,n,e,r,i,o;for(t=[],n=this.element.node.options,r=n.length,e=0;r>e;e+=1)i=n[e],i.selected&&(o=i._ractive?i._ractive.value:i.value,t.push(o));return t},handleChange:function(){var t,n,e;return t=this.attribute,n=t.value,e=this.getValue(),void 0!==n&&T(e,n)||Kg.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,gs.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Jg=Xg,tv=Fg.extend({render:function(){this.element.node.addEventListener("change",Dg,!1)},unrender:function(){this.element.node.removeEventListener("change",Dg,!1)},getValue:function(){return this.element.node.files}}),nv=tv,ev=qg.extend({getInitialValue:function(){},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),rv=ci,iv=fi,ov=hi,av=pi,uv=di,sv=/^event(?:\.(.+))?/,cv=yi,lv=bi,fv={},hv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},pv=xi,dv=_i,gv=ki,vv=Mi,mv=Ei,yv=function(t,n,e){this.init(t,n,e)};yv.prototype={bubble:iv,fire:ov,getAction:av,init:uv,listen:lv,rebind:pv,render:dv,resolve:gv,unbind:vv,unrender:mv};var bv=yv,wv=function(t,n){var e,r,i,o,a=[];for(r in n)if(n.hasOwnProperty(r))for(i=r.split("-"),e=i.length;e--;)o=new bv(t,i[e],n[r]),a.push(o);return a},xv=function(t,n){var e,r,i,o=this;this.element=t,this.root=e=t.root,r=n.n||n,"string"!=typeof r&&(i=new yb({template:r,root:e,owner:t}),r=i.toString(),i.unbind(),""===r)||(n.a?this.params=n.a:n.d&&(this.fragment=new yb({template:n.d,root:e,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,o.params=this.getArgsList(),o.ready&&o.update()}),this.fn=m("decorators",e,r),this.fn||f(Fu(r,"decorator")))};xv.prototype={init:function(){var t,n,e;if(t=this.element.node,this.params?(e=[t].concat(this.params),n=this.fn.apply(this.root,e)):n=this.fn.call(this.root,t),!n||!n.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=n,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,n){this.fragment&&this.fragment.rebind(t,n)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var _v,kv,Mv,Ev=xv,Av=ji,Sv=Ti,Nv=zi,Cv=function(t){return t.replace(/-([a-zA-Z])/g,function(t,n){return n.toUpperCase()})};Ja?(kv={},Mv=fu("div").style,_v=function(t){var n,e,r;if(t=Cv(t),!kv[t])if(void 0!==Mv[t])kv[t]=t;else for(r=t.charAt(0).toUpperCase()+t.substring(1),n=ou.length;n--;)if(e=ou[n],void 0!==Mv[e+r]){kv[t]=e+r;break}return kv[t]}):_v=null;var Rv,Ov,jv=_v;Ja?(Ov=window.getComputedStyle||ku.getComputedStyle,Rv=function(t){var n,e,r,i,a;if(n=Ov(this.node),"string"==typeof t)return a=n[jv(t)],"0px"===a&&(a=0),a;if(!o(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(e={},r=t.length;r--;)i=t[r],a=n[jv(i)],"0px"===a&&(a=0),e[i]=a;return e}):Rv=null;var Tv=Rv,Pv=function(t,n){var e;if("string"==typeof t)this.node.style[jv(t)]=n;else for(e in t)t.hasOwnProperty(e)&&(this.node.style[jv(e)]=t[e]);return this},Fv=function(t){var n;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(n=t.root.easing[t.easing],n||(v(Fu(t.easing,"easing")),n=Ii)):n="function"==typeof t.easing?t.easing:Ii,this.easing=n,this.start=Ju(),this.end=this.start+this.duration,this.running=!0,ys.add(this)};Fv.prototype={tick:function(t){var n,e;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(n=t-this.start,e=this.easing(n/this.duration),this.step&&this.step(e),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Dv,qv,Lv,zv,Iv,Uv,Vv,Bv,Wv=Fv,Hv=new RegExp("^-(?:"+ou.join("|")+")-"),$v=function(t){return t.replace(Hv,"")},Zv=new RegExp("^(?:"+ou.join("|")+")([A-Z])"),Yv=function(t){var n;return t?(Zv.test(t)&&(t="-"+t),n=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Gv={},Qv={};Ja?(qv=fu("div").style,function(){void 0!==qv.transition?(Lv="transition",zv="transitionend",Iv=!0):void 0!==qv.webkitTransition?(Lv="webkitTransition",zv="webkitTransitionEnd",Iv=!0):Iv=!1}(),Lv&&(Uv=Lv+"Duration",Vv=Lv+"Property",Bv=Lv+"TimingFunction"),Dv=function(t,n,e,r,i){setTimeout(function(){var o,a,u,s,c;s=function(){a&&u&&(t.root.fire(t.name+":end",t.node,t.isIntro),i())},o=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[Vv]=r.map(jv).map(Yv).join(","),t.node.style[Bv]=Yv(e.easing||"linear"),t.node.style[Uv]=e.duration/1e3+"s",c=function(n){var e;e=r.indexOf(Cv($v(n.propertyName))),-1!==e&&r.splice(e,1),r.length||(t.node.removeEventListener(zv,c,!1),u=!0,s())},t.node.addEventListener(zv,c,!1),setTimeout(function(){for(var i,l,f,h,p,d=r.length,v=[];d--;)h=r[d],i=o+h,Iv&&!Qv[i]&&(t.node.style[jv(h)]=n[h],Gv[i]||(l=t.getStyle(h),Gv[i]=t.getStyle(h)!=n[h],Qv[i]=!Gv[i],Qv[i]&&(t.node.style[jv(h)]=l))),Iv&&!Qv[i]||(void 0===l&&(l=t.getStyle(h)),f=r.indexOf(h),-1===f?g("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):r.splice(f,1),p=/[^\d]*$/.exec(n[h])[0],v.push({name:jv(h),interpolator:qu(parseFloat(l),parseFloat(n[h])),suffix:p}));v.length?new Wv({root:t.root,duration:e.duration,easing:Cv(e.easing||""),step:function(n){var e,r;for(r=v.length;r--;)e=v[r],t.node.style[e.name]=e.interpolator(n)+e.suffix},complete:function(){a=!0,s()}}):a=!0,r.length||(t.node.removeEventListener(zv,c,!1),
u=!0,s())},0)},e.delay||0)}):Dv=null;var Kv,Xv,Jv,tm,nm,em=Dv;if("undefined"!=typeof document){if(Kv="hidden",nm={},Kv in document)Jv="";else for(tm=ou.length;tm--;)Xv=ou[tm],Kv=Xv+"Hidden",Kv in document&&(Jv=Xv);void 0!==Jv?(document.addEventListener(Jv+"visibilitychange",Ui),Ui()):("onfocusout"in document?(document.addEventListener("focusout",Vi),document.addEventListener("focusin",Bi)):(window.addEventListener("pagehide",Vi),window.addEventListener("blur",Vi),window.addEventListener("pageshow",Bi),window.addEventListener("focus",Bi)),nm.hidden=!1)}var rm,im,om,am=nm;Ja?(im=window.getComputedStyle||ku.getComputedStyle,rm=function(t,n,e){var r,i=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(am.hidden)return this.setStyle(t,n),om||(om=as.resolve());"string"==typeof t?(r={},r[t]=n):(r=t,e=n),e||(v('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),e=this);var o=new as(function(t){var n,o,a,u,s,c,l;if(!e.duration)return i.setStyle(r),void t();for(n=Object.keys(r),o=[],a=im(i.node),s={},c=n.length;c--;)l=n[c],u=a[jv(l)],"0px"===u&&(u=0),u!=r[l]&&(o.push(l),i.node.style[jv(l)]=u);return o.length?void em(i,r,e,o,t):void t()});return o}):rm=null;var um=rm,sm=function(t,n){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),i({},t,n)},cm=Wi,lm=function(t,n,e){this.init(t,n,e)};lm.prototype={init:Nv,start:cm,getStyle:Tv,setStyle:Pv,animateStyle:um,processParams:sm};var fm,hm,pm=lm,dm=$i;fm=function(){var t=this.node,n=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}},hm=function(){this.node.type&&"text/javascript"!==this.node.type||g("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var gm=function(){var t,n;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Xi).join("")+this.conditionalAttributes.map(Xi).join(""),"option"===this.name&&Qi(this)&&(t+=" selected"),"input"===this.name&&Ki(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=Sn(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(n="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(n)),wf.test(this.template.e)||(t+="</"+this.template.e+">"),t)},vm=Ji,mm=to,ym=function(t){this.init(t)};ym.prototype={bubble:Hd,detach:$d,find:Zd,findAll:Yd,findAllComponents:Gd,findComponent:Qd,findNextNode:Kd,firstNode:Xd,getAttribute:Jd,init:Av,rebind:Sv,render:dm,toString:gm,unbind:vm,unrender:mm};var bm=ym,wm=/^\s*$/,xm=/^\s*/,_m=function(t){var n,e,r,i;return n=t.split("\n"),e=n[0],void 0!==e&&wm.test(e)&&n.shift(),r=F(n),void 0!==r&&wm.test(r)&&n.pop(),i=n.reduce(eo,null),i&&(t=n.map(function(t){return t.replace(i,"")}).join("\n")),t},km=ro,Mm=function(t,n){var e;return n?e=t.split("\n").map(function(t,e){return e?n+t:t}).join("\n"):t},Em='Could not find template for partial "%s"',Am=function(t){var n,e;n=this.parentFragment=t.parentFragment,this.root=n.root,this.type=tl,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,id.init(this,t),this.keypath||((e=km(this.root,this.name,n))?(Fp.call(this),this.isNamed=!0,this.setTemplate(e)):v(Em,this.name))};Am.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,n){return this.fragment.findAll(t,n)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,n){return this.fragment.findAllComponents(t,n)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,n){this.isNamed||rd.call(this,t,n),this.fragment&&this.fragment.rebind(t,n)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:id.resolve,setValue:function(t){var n;void 0!==t&&t===this.value||(void 0!==t&&(n=km(this.root,""+t,this.parentFragment)),!n&&this.name&&(n=km(this.root,this.name,this.parentFragment))&&(Fp.call(this),this.isNamed=!0),n||v(Em,this.name,{ractive:this.root}),this.value=t,this.setTemplate(n||[]),this.bubble(),this.rendered&&gs.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new yb({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var n,e,r,i;return n=this.fragment.toString(t),e=this.parentFragment.items[this.index-1],e&&e.type===Zc?(r=e.text.split("\n").pop(),(i=/^\s+$/.exec(r))?Mm(n,i[0]):n):n},unbind:function(){this.isNamed||Fp.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,n;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),n=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,n))}};var Sm,Nm,Cm,Rm=Am,Om=so,jm=co,Tm=new es("detach"),Pm=lo,Fm=fo,Dm=ho,qm=po,Lm=go,zm=vo,Im=function(t,n,e,r){var i=t.root,o=t.keypath;r?i.viewmodel.smartUpdate(o,n,r):i.viewmodel.mark(o)},Um=[],Vm=["pop","push","reverse","shift","sort","splice","unshift"];Vm.forEach(function(t){var n=function(){for(var n=arguments.length,e=Array(n),r=0;n>r;r++)e[r]=arguments[r];var i,o,a,u;for(i=gc(this,t,e),o=Array.prototype[t].apply(this,arguments),gs.start(),this._ractive.setting=!0,u=this._ractive.wrappers.length;u--;)a=this._ractive.wrappers[u],gs.addRactive(a.root),Im(a,this,t,i);return gs.end(),this._ractive.setting=!1,o};xu(Um,t,{value:n})}),Sm={},Sm.__proto__?(Nm=function(t){t.__proto__=Um},Cm=function(t){t.__proto__=Array.prototype}):(Nm=function(t){var n,e;for(n=Vm.length;n--;)e=Vm[n],xu(t,e,{value:Um[e],configurable:!0})},Cm=function(t){var n;for(n=Vm.length;n--;)delete t[Vm[n]]}),Nm.unpatch=Cm;var Bm,Wm,Hm,$m=Nm;Bm={filter:function(t){return o(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,n,e){return new Wm(t,n,e)}},Wm=function(t,n,e){this.root=t,this.value=n,this.keypath=M(e),n._ractive||(xu(n,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),$m(n)),n._ractive.instances[t._guid]||(n._ractive.instances[t._guid]=0,n._ractive.instances.push(t)),n._ractive.instances[t._guid]+=1,n._ractive.wrappers.push(this)},Wm.prototype={get:function(){return this.value},teardown:function(){var t,n,e,r,i;if(t=this.value,n=t._ractive,e=n.wrappers,r=n.instances,n.setting)return!1;if(i=e.indexOf(this),-1===i)throw new Error(Hm);if(e.splice(i,1),e.length){if(r[this.root._guid]-=1,!r[this.root._guid]){if(i=r.indexOf(this.root),-1===i)throw new Error(Hm);r.splice(i,1)}}else delete t._ractive,$m.unpatch(this.value)}},Hm="Something went wrong in a rather interesting way";var Zm,Ym,Gm=Bm,Qm=/^\s*[0-9]+\s*$/,Km=function(t){return Qm.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Zm={filter:function(t,n,e){var r,i;return n?(n=M(n),(r=e.viewmodel.wrapped[n.parent.str])&&!r.magic?!1:(i=e.viewmodel.get(n.parent),o(i)&&/^[0-9]+$/.test(n.lastKey)?!1:i&&("object"==typeof i||"function"==typeof i))):!1},wrap:function(t,n,e){return new Ym(t,n,e)}},Ym=function(t,n,e){var r,i,o;return e=M(e),this.magic=!0,this.ractive=t,this.keypath=e,this.value=n,this.prop=e.lastKey,r=e.parent,this.obj=r.isRoot?t.viewmodel.data:t.viewmodel.get(r),i=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),i&&i.set&&(o=i.set._ractiveWrappers)?void(-1===o.indexOf(this)&&o.push(this)):void mo(this,n,i)},Ym.prototype={get:function(){return this.value},reset:function(t){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=t,gs.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(t,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Km(t),this.updating=!1),this.obj[this.prop][t]=n)},teardown:function(){var t,n,e,r,i;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),n=t&&t.set,void(n&&(r=n._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(e=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=e))))}}}catch(Mu){Zm=!1}var Xm,Jm,ty=Zm;ty&&(Xm={filter:function(t,n,e){return ty.filter(t,n,e)&&Gm.filter(t)},wrap:function(t,n,e){return new Jm(t,n,e)}},Jm=function(t,n,e){this.value=n,this.magic=!0,this.magicWrapper=ty.wrap(t,n,e),this.arrayWrapper=Gm.wrap(t,n,e)},Jm.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var ny=Xm,ey=yo,ry={},iy=xo,oy=_o,ay=Eo,uy=Ro,sy=Oo,cy=function(t,n){this.computation=t,this.viewmodel=t.viewmodel,this.ref=n,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};cy.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var ly=cy,fy=function(t,n){this.key=t,this.getter=n.getter,this.setter=n.setter,this.hardDeps=n.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};fy.prototype={constructor:fy,init:function(t){var n,e=this;this.viewmodel=t,this.bypass=!0,n=t.get(this.key),t.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==n&&this.set(n),this.hardDeps&&this.hardDeps.forEach(function(n){return t.register(n,e,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var t,n,e=this,r=!1;if(this.getting){var i="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return d(i),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?r=!0:[this.hardDeps,this.softDeps].forEach(function(t){var n,i,o;if(!r)for(o=t.length;o--;)if(n=t[o],i=e.viewmodel.get(n),!u(i,e.depValues[n.str]))return e.depValues[n.str]=i,void(r=!0)}),r){this.viewmodel.capture();try{this.value=this.getter()}catch(o){g('Failed to compute "%s"',this.key.str),h(o.stack||o),this.value=void 0}t=this.viewmodel.release(),n=this.updateDependencies(t),n&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){e.depValues[t.str]=e.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)},updateDependencies:function(t){var n,e,r,i,o;for(e=this.softDeps,n=e.length;n--;)r=e[n],-1===t.indexOf(r)&&(i=!0,this.viewmodel.unregister(r,this,"computed"));for(n=t.length;n--;)r=t[n],-1!==e.indexOf(r)||this.hardDeps&&-1!==this.hardDeps.indexOf(r)||(i=!0,jo(this.viewmodel,r)&&!this.unresolvedDeps[r.str]?(o=new ly(this,r.str),t.splice(n,1),this.unresolvedDeps[r.str]=o,gs.addUnresolved(o)):this.viewmodel.register(r,this,"computed"));return i&&(this.softDeps=t.slice()),i}};var hy=fy,py=To,dy={FAILED_LOOKUP:!0},gy=Po,vy={},my=Do,yy=qo,by=function(t,n){this.localKey=t,this.keypath=n.keypath,this.origin=n.origin,this.deps=[],this.unresolved=[],this.resolved=!1};by.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(t,n){return this.resolved?this.origin.get(this.map(t),n):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,n,e){this.deps.push({keypath:t,dep:n,group:e}),this.resolved&&this.origin.register(this.map(t),n,e)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,n){this.resolved||this.forceResolution(),this.origin.set(this.map(t),n)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(n){var e=t.map(n.keypath);if(t.origin.register(e,n.dep,n.group),n.dep.setValue)n.dep.setValue(t.origin.get(e));else{if(!n.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");n.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,t)},unbind:function(t){var n=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){n.origin.unregister(n.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,n,e){var r,i;if(this.resolved){for(r=this.deps,i=r.length;i--;)if(r[i].dep===n){r.splice(i,1);break}this.origin.unregister(this.map(t),n,e)}}};var wy=Lo,xy=function(t,n){var e,r,i,o;return e={},r=0,i=t.map(function(t,i){var a,u,s;u=r,s=n.length;do{if(a=n.indexOf(t,u),-1===a)return o=!0,-1;u=a+1}while(e[a]&&s>u);return a===r&&(r+=1),a!==i&&(o=!0),e[a]=!0,a})},_y=zo,ky={},My=Vo,Ey=Wo,Ay=Ho,Sy=$o,Ny=Yo,Cy={implicit:!0},Ry={noCascade:!0},Oy=Qo,jy=Ko,Ty=function(t){var n,e,r=t.adapt,i=t.data,o=t.ractive,a=t.computed,u=t.mappings;this.ractive=o,this.adaptors=r,this.onchange=t.onchange,this.cache={},this.cacheMap=wu(null),this.deps={computed:wu(null),"default":wu(null)},this.depsMap={computed:wu(null),"default":wu(null)},this.patternObservers=[],this.specials=wu(null),this.wrapped=wu(null),this.computations=wu(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=i,this.mappings=wu(null);for(n in u)this.map(M(n),u[n]);if(i)for(n in i)(e=this.mappings[n])&&void 0===e.getValue()&&e.setValue(i[n]);for(n in a)u&&n in u&&f("Cannot map to a computed property ('%s')",n),this.compute(M(n),a[n]);this.ready=!0};Ty.prototype={adapt:ey,applyChanges:ay,capture:uy,clearCache:sy,compute:py,get:gy,init:my,map:yy,mark:wy,merge:_y,register:My,release:Ey,reset:Ay,set:Sy,smartUpdate:Ny,teardown:Oy,unregister:jy};var Py=Ty;Jo.prototype={constructor:Jo,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var n=t.parent;n&&this.inProcess[n._guid]?ta(this.queue,n).push(t):na(this,t),delete this.inProcess[t._guid]}};var Fy=Jo,Dy=ea,qy=/\$\{([^\}]+)\}/g,Ly=new es("construct"),zy=new es("config"),Iy=new Fy("init"),Uy=0,Vy=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],By=aa,Wy=fa;fa.prototype={bubble:function(){this.dirty||(this.dirty=!0,gs.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,n){this.fragment.rebind(t,n)},unbind:function(){this.fragment.unbind()}};var Hy=function(t,n,e,i,a){var u,s,c,l,f,h,p={},d={},v={},m=[];for(s=t.parentFragment,c=t.root,a=a||{},r(p,a),a.content=i||[],p[""]=a.content,n.defaults.el&&g("The <%s/> component has a default `el` property; it has been disregarded",t.name),l=s;l;){if(l.owner.type===al){f=l.owner.container;break}l=l.parent}return e&&Object.keys(e).forEach(function(n){var r,i,a=e[n];if("string"==typeof a)r=Eh(a),d[n]=r?r.value:a;else if(0===a)d[n]=!0;else{if(!o(a))throw new Error("erm wut");pa(a)?(v[n]={origin:t.root.viewmodel,keypath:void 0},i=ha(t,a[0],function(t){t.isSpecial?h?u.set(n,t.value):(d[n]=t.value,delete v[n]):h?u.viewmodel.mappings[n].resolve(t):v[n].keypath=t})):i=new Wy(t,a,function(t){h?u.set(n,t):d[n]=t}),m.push(i)}}),u=wu(n.prototype),By(u,{el:null,append:!0,data:d,partials:a,magic:c.magic||n.defaults.magic,modifyArrays:c.modifyArrays,adapt:c.adapt},{parent:c,component:t,container:f,mappings:v,inlinePartials:p,cssIds:s.cssIds}),h=!0,t.resolvers=m,u},$y=da,Zy=function(t){var n,e;for(n=t.root;n;)(e=n._liveComponentQueries["_"+t.name])&&e.push(t.instance),n=n.parent},Yy=va,Gy=ma,Qy=ya,Ky=ba,Xy=wa,Jy=new es("teardown"),tb=_a,nb=function(t,n){this.init(t,n)};nb.prototype={detach:jm,find:Pm,findAll:Fm,findAllComponents:Dm,findComponent:qm,findNextNode:Lm,firstNode:zm,init:Yy,rebind:Gy,render:Qy,toString:Ky,unbind:Xy,unrender:tb};var eb=nb,rb=function(t){this.type=nl,this.value=t.template.c};rb.prototype={detach:jp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var ib=rb,ob=function(t){var n,e;this.type=al,this.container=n=t.parentFragment.root,this.component=e=n.component,this.container=n,this.containerFragment=t.parentFragment,this.parentFragment=e.parentFragment;var r=this.name=t.template.n||"",i=n._inlinePartials[r];i||(g('Could not find template for partial "'+r+'"',{ractive:t.root}),i=[]),this.fragment=new yb({owner:this,root:n.parent,template:i,pElement:this.containerFragment.pElement}),o(e.yielders[r])?e.yielders[r].push(this):e.yielders[r]=[this],gs.scheduleTask(function(){if(e.yielders[r].length>1)throw new Error("A component template can only have one {{yield"+(r?" "+r:"")+"}} declaration at a time")})};ob.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,n){return this.fragment.findAll(t,n)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,n){return this.fragment.findAllComponents(t,n)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),D(this.component.yielders[this.name],this)},rebind:function(t,n){this.fragment.rebind(t,n)},toString:function(){return this.fragment.toString()}};var ab=ob,ub=function(t){this.declaration=t.template.a};ub.prototype={init:Ou,render:Ou,unrender:Ou,teardown:Ou,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var sb=ub,cb=ka,lb=Ea,fb=Aa,hb=Sa,pb=Ra,db=ja,gb=function(t){this.init(t)};gb.prototype={bubble:wp,detach:xp,find:_p,findAll:kp,findAllComponents:Mp,findComponent:Ep,findNextNode:Ap,firstNode:Sp,getArgsList:Cp,getNode:Rp,getValue:Op,init:cb,rebind:lb,registerIndexRef:function(t){var n=this.registeredIndexRefs;-1===n.indexOf(t)&&n.push(t)},render:fb,toString:hb,unbind:pb,unregisterIndexRef:function(t){var n=this.registeredIndexRefs;n.splice(n.indexOf(t),1)},unrender:db};var vb,mb,yb=gb,bb=Ta,wb=["template","partials","components","decorators","events"],xb=new es("reset"),_b=function(t,n){function e(n,r,i){i&&i.partials[t]||n.forEach(function(n){n.type===tl&&n.getPartialName()===t&&r.push(n),n.fragment&&e(n.fragment.items,r,i),o(n.fragments)?e(n.fragments,r,i):o(n.items)?e(n.items,r,i):n.type===ol&&n.instance&&e(n.instance.fragment.items,r,n.instance),n.type===Jc&&(o(n.attributes)&&e(n.attributes,r,i),o(n.conditionalAttributes)&&e(n.conditionalAttributes,r,i))})}var r,i=[];return e(this.fragment.items,i),this.partials[t]=n,r=gs.start(this,!0),i.forEach(function(n){n.value=void 0,n.setValue(t)}),gs.end(),r},kb=Pa,Mb=mc("reverse"),Eb=Fa,Ab=mc("shift"),Sb=mc("sort"),Nb=mc("splice"),Cb=qa,Rb=La,Ob=new es("teardown"),jb=Ia,Tb=Ua,Pb=Va,Fb=new es("unrender"),Db=mc("unshift"),qb=Ba,Lb=new es("update"),zb=Wa,Ib={add:Qu,animate:xs,detach:ks,find:Es,findAll:Ps,findAllComponents:Fs,findComponent:Ds,findContainer:qs,findParent:Ls,fire:Vs,get:Bs,insert:Hs,merge:Zs,observe:sc,observeOnce:cc,off:hc,on:pc,once:dc,pop:yc,push:bc,render:Ac,reset:bb,resetPartial:_b,resetTemplate:kb,reverse:Mb,set:Eb,shift:Ab,sort:Sb,splice:Nb,subtract:Cb,teardown:Rb,toggle:jb,toHTML:Tb,toHtml:Tb,unrender:Pb,unshift:Db,update:qb,updateModel:zb},Ub=function(t,n,e){return e||$a(t,n)?function(){var e,r="_super"in this,i=this._super;return this._super=n,e=t.apply(this,arguments),r&&(this._super=i),e}:t},Vb=Za,Bb=Ka,Wb=function(t){var n,e,r={};return t&&(n=t._ractive)?(r.ractive=n.root,r.keypath=n.keypath.str,r.index={},(e=Wp(n.proxy.parentFragment))&&(r.index=Wp.resolve(e)),r):r};vb=function(t){return this instanceof vb?void By(this,t):new vb(t)},mb={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Bb},getNodeInfo:{value:Wb},parse:{value:Gh},Promise:{value:as},svg:{value:iu},magic:{value:eu},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:cu},events:{writable:!0,value:{}},interpolators:{writable:!0,value:zu},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},_u(vb,mb),vb.prototype=r(Ib,su),vb.prototype.constructor=vb,vb.defaults=vb.prototype;var Hb="function";if(typeof Date.now!==Hb||typeof String.prototype.trim!==Hb||typeof Object.keys!==Hb||typeof Array.prototype.indexOf!==Hb||typeof Array.prototype.forEach!==Hb||typeof Array.prototype.map!==Hb||typeof Array.prototype.filter!==Hb||"undefined"!=typeof window&&typeof window.addEventListener!==Hb)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var $b=vb;return $b})},{}],9:[function(t,n,e){function r(t){return function(n,e,r,u){return null==r?o(n,e,t):a(n,e,i(r,u,1),t)}}var i=t("lodash._basecallback"),o=t("lodash._binaryindex"),a=t("lodash._binaryindexby"),u=r();n.exports=u},{"lodash._basecallback":10,"lodash._binaryindex":21,"lodash._binaryindexby":22}],10:[function(t,n,e){function r(t){return null==t?"":t+""}function i(t,n,e){var r=typeof t;return"function"==r?void 0===n?t:_(t,n,e):null==t?b:"object"==r?u(t):void 0===n?w(t):s(t,n)}function o(t,n,e){if(null!=t){void 0!==e&&e in g(t)&&(n=[e]);for(var r=0,i=n.length;null!=t&&i>r;)t=t[n[r++]];return r&&r==i?t:void 0}}function a(t,n,e){var r=n.length,i=r,o=!e;if(null==t)return!i;for(t=g(t);r--;){var a=n[r];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<i;){a=n[r];var u=a[0],s=t[u],c=a[1];if(o&&a[2]){if(void 0===s&&!(u in t))return!1}else{var l=e?e(s,c,u):void 0;if(!(void 0===l?x(c,s,e,!0):l))return!1}}return!0}function u(t){var n=h(t);if(1==n.length&&n[0][2]){var e=n[0][0],r=n[0][1];return function(t){return null==t?!1:t[e]===r&&(void 0!==r||e in g(t))}}return function(t){return a(t,n)}}function s(t,n){var e=k(t),r=p(t)&&d(n),i=t+"";return t=v(t),function(a){if(null==a)return!1;var u=i;if(a=g(a),(e||!r)&&!(u in a)){if(a=1==t.length?a:o(a,f(t,0,-1)),null==a)return!1;u=m(t),a=g(a)}return a[u]===n?void 0!==n||u in a:x(n,a[u],void 0,!0)}}function c(t){return function(n){return null==n?void 0:n[t]}}function l(t){var n=t+"";return t=v(t),function(e){return o(e,t,n)}}function f(t,n,e){var r=-1,i=t.length;n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),e=void 0===e||e>i?i:+e||0,0>e&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+n];return o}function h(t){for(var n=M(t),e=n.length;e--;)n[e][2]=d(n[e][1]);return n}function p(t,n){var e=typeof t;if("string"==e&&A.test(t)||"number"==e)return!0;if(k(t))return!1;var r=!E.test(t);return r||null!=n&&t in g(n)}function d(t){return t===t&&!y(t)}function g(t){return y(t)?t:Object(t)}function v(t){if(k(t))return t;var n=[];return r(t).replace(S,function(t,e,r,i){n.push(r?i.replace(N,"$1"):e||t)}),n}function m(t){var n=t?t.length:0;return n?t[n-1]:void 0}function y(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function b(t){return t}function w(t){return p(t)?c(t):l(t)}var x=t("lodash._baseisequal"),_=t("lodash._bindcallback"),k=t("lodash.isarray"),M=t("lodash.pairs"),E=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,A=/^\w*$/,S=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,N=/\\(\\)?/g;n.exports=i},{"lodash._baseisequal":11,"lodash._bindcallback":16,"lodash.isarray":23,"lodash.pairs":17}],11:[function(t,n,e){function r(t){return!!t&&"object"==typeof t}function i(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function o(t,n,e,i,u,s){return t===n?!0:null==t||null==n||!l(t)&&!r(n)?t!==t&&n!==n:a(t,n,o,e,i,u,s)}function a(t,n,e,r,i,o,a){var l=f(t),p=f(n),v=g,m=g;l||(v=E.call(t),v==d?v=w:v!=w&&(l=h(t))),p||(m=E.call(n),m==d?m=w:m!=w&&(p=h(n)));var y=v==w,b=m==w,x=v==m;if(x&&!l&&!y)return s(t,n,v);if(!i){var _=y&&M.call(t,"__wrapped__"),k=b&&M.call(n,"__wrapped__");if(_||k)return e(_?t.value():t,k?n.value():n,r,i,o,a)}if(!x)return!1;o||(o=[]),a||(a=[]);for(var A=o.length;A--;)if(o[A]==t)return a[A]==n;o.push(t),a.push(n);var S=(l?u:c)(t,n,e,r,i,o,a);return o.pop(),a.pop(),S}function u(t,n,e,r,o,a,u){var s=-1,c=t.length,l=n.length;if(c!=l&&!(o&&l>c))return!1;for(;++s<c;){var f=t[s],h=n[s],p=r?r(o?h:f,o?f:h,s):void 0;if(void 0!==p){if(p)continue;return!1}if(o){if(!i(n,function(t){return f===t||e(f,t,r,o,a,u)}))return!1}else if(f!==h&&!e(f,h,r,o,a,u))return!1}return!0}function s(t,n,e){switch(e){case v:case m:return+t==+n;case y:return t.name==n.name&&t.message==n.message;case b:return t!=+t?n!=+n:t==+n;case x:case _:return t==n+""}return!1}function c(t,n,e,r,i,o,a){var u=p(t),s=u.length,c=p(n),l=c.length;if(s!=l&&!i)return!1;for(var f=s;f--;){var h=u[f];if(!(i?h in n:M.call(n,h)))return!1}for(var d=i;++f<s;){h=u[f];var g=t[h],v=n[h],m=r?r(i?v:g,i?g:v,h):void 0;if(!(void 0===m?e(g,v,r,i,o,a):m))return!1;d||(d="constructor"==h)}if(!d){var y=t.constructor,b=n.constructor;if(y!=b&&"constructor"in t&&"constructor"in n&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b))return!1}return!0}function l(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}var f=t("lodash.isarray"),h=t("lodash.istypedarray"),p=t("lodash.keys"),d="[object Arguments]",g="[object Array]",v="[object Boolean]",m="[object Date]",y="[object Error]",b="[object Number]",w="[object Object]",x="[object RegExp]",_="[object String]",k=Object.prototype,M=k.hasOwnProperty,E=k.toString;n.exports=o},{"lodash.isarray":23,"lodash.istypedarray":12,"lodash.keys":13}],12:[function(t,n,e){function r(t){return!!t&&"object"==typeof t}function i(t){return"number"==typeof t&&t>-1&&t%1==0&&j>=t}function o(t){return r(t)&&i(t.length)&&!!C[O.call(t)]}var a="[object Arguments]",u="[object Array]",s="[object Boolean]",c="[object Date]",l="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",d="[object Object]",g="[object RegExp]",v="[object Set]",m="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",x="[object Float64Array]",_="[object Int8Array]",k="[object Int16Array]",M="[object Int32Array]",E="[object Uint8Array]",A="[object Uint8ClampedArray]",S="[object Uint16Array]",N="[object Uint32Array]",C={};C[w]=C[x]=C[_]=C[k]=C[M]=C[E]=C[A]=C[S]=C[N]=!0,C[a]=C[u]=C[b]=C[s]=C[c]=C[l]=C[f]=C[h]=C[p]=C[d]=C[g]=C[v]=C[m]=C[y]=!1;var R=Object.prototype,O=R.toString,j=9007199254740991;n.exports=o},{}],13:[function(t,n,e){function r(t){return function(n){return null==n?void 0:n[t]}}function i(t){return null!=t&&a(y(t))}function o(t,n){return t="number"==typeof t||p.test(t)?+t:-1,n=null==n?m:n,t>-1&&t%1==0&&n>t}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&m>=t}function u(t){for(var n=c(t),e=n.length,r=e&&t.length,i=!!r&&a(r)&&(h(t)||f(t)),u=-1,s=[];++u<e;){var l=n[u];(i&&o(l,r)||g.call(t,l))&&s.push(l)}return s}function s(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function c(t){if(null==t)return[];s(t)||(t=Object(t));var n=t.length;n=n&&a(n)&&(h(t)||f(t))&&n||0;for(var e=t.constructor,r=-1,i="function"==typeof e&&e.prototype===t,u=Array(n),c=n>0;++r<n;)u[r]=r+"";for(var l in t)c&&o(l,n)||"constructor"==l&&(i||!g.call(t,l))||u.push(l);return u}var l=t("lodash._getnative"),f=t("lodash.isarguments"),h=t("lodash.isarray"),p=/^\d+$/,d=Object.prototype,g=d.hasOwnProperty,v=l(Object,"keys"),m=9007199254740991,y=r("length"),b=v?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&i(t)?u(t):s(t)?v(t):[]}:u;n.exports=b},{"lodash._getnative":14,"lodash.isarguments":15,"lodash.isarray":23}],14:[function(t,n,e){function r(t){return!!t&&"object"==typeof t}function i(t,n){var e=null==t?void 0:t[n];return u(e)?e:void 0}function o(t){return a(t)&&p.call(t)==s}function a(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function u(t){return null==t?!1:o(t)?d.test(f.call(t)):r(t)&&c.test(t)}var s="[object Function]",c=/^\[object .+?Constructor\]$/,l=Object.prototype,f=Function.prototype.toString,h=l.hasOwnProperty,p=l.toString,d=RegExp("^"+f.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=i},{}],15:[function(t,n,e){function r(t){return!!t&&"object"==typeof t}function i(t){return function(n){return null==n?void 0:n[t]}}function o(t){return null!=t&&a(h(t))}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&f>=t}function u(t){return r(t)&&o(t)&&c.call(t,"callee")&&!l.call(t,"callee")}var s=Object.prototype,c=s.hasOwnProperty,l=s.propertyIsEnumerable,f=9007199254740991,h=i("length");n.exports=u},{}],16:[function(t,n,e){function r(t,n,e){if("function"!=typeof t)return i;if(void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)};case 5:return function(e,r,i,o,a){return t.call(n,e,r,i,o,a)}}return function(){return t.apply(n,arguments)}}function i(t){return t}n.exports=r},{}],17:[function(t,n,e){function r(t){return i(t)?t:Object(t)}function i(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function o(t){t=r(t);for(var n=-1,e=a(t),i=e.length,o=Array(i);++n<i;){var u=e[n];o[n]=[u,t[u]]}return o}var a=t("lodash.keys");n.exports=o},{"lodash.keys":18}],18:[function(t,n,e){arguments[4][13][0].apply(e,arguments)},{dup:13,"lodash._getnative":19,"lodash.isarguments":20,"lodash.isarray":23}],19:[function(t,n,e){arguments[4][14][0].apply(e,arguments)},{dup:14}],20:[function(t,n,e){arguments[4][15][0].apply(e,arguments)},{dup:15}],21:[function(t,n,e){function r(t,n,e){var r=0,a=t?t.length:r;if("number"==typeof n&&n===n&&u>=a){for(;a>r;){var s=r+a>>>1,c=t[s];(e?n>=c:n>c)&&null!==c?r=s+1:a=s}return a}return o(t,n,i,e)}function i(t){return t}var o=t("lodash._binaryindexby"),a=4294967295,u=a>>>1;n.exports=r},{"lodash._binaryindexby":22}],22:[function(t,n,e){function r(t,n,e,r){n=e(n);for(var a=0,s=t?t.length:0,c=n!==n,l=null===n,f=void 0===n;s>a;){var h=i((a+s)/2),p=e(t[h]),d=void 0!==p,g=p===p;if(c)var v=g||r;else v=l?g&&d&&(r||null!=p):f?g&&(r||d):null==p?!1:r?n>=p:n>p;
v?a=h+1:s=h}return o(s,u)}var i=Math.floor,o=Math.min,a=4294967295,u=a-1;n.exports=r},{}],23:[function(t,n,e){function r(t){return!!t&&"object"==typeof t}function i(t,n){var e=null==t?void 0:t[n];return s(e)?e:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&y>=t}function a(t){return u(t)&&g.call(t)==l}function u(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function s(t){return null==t?!1:a(t)?v.test(p.call(t)):r(t)&&f.test(t)}var c="[object Array]",l="[object Function]",f=/^\[object .+?Constructor\]$/,h=Object.prototype,p=Function.prototype.toString,d=h.hasOwnProperty,g=h.toString,v=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),m=i(Array,"isArray"),y=9007199254740991,b=m||function(t){return r(t)&&o(t.length)&&g.call(t)==c};n.exports=b},{}],24:[function(t,n,e){"use strict";var r=t("lodash.sortedindex"),i={heightFn:function(){return 10},availableNodes:100},o=function(t){if(!t.el)throw new Error("Need to pass `el` into ScrollableTable.");if(!t.data)throw new Error("Need to pass `data` into ScrollableTable.");if(!t.buildRow)throw new Error("Need to pass `buildRow` into ScrollableTable.");if(!t.updateRow)throw new Error("Need to pass `updateRow` into ScrollableTable.");for(var n in i)this[n]=i[n];for(var n in t)this[n]=t[n];this.rowsWithNodes=[],this.tops=[],this.el.className=this.el.className+" sts-container",this.reset()};o.prototype.reset=function(){for(this.yPosition=0,this.setHeights();this.el.firstChild;)this.el.remove(this.el.firstChild);for(var t=0;t<this.data.length;t++)this.data[t].__node=null;this.rowsWithNodes=[];var n=Math.min(this.availableNodes,this.data.length);for(t=0;n>t;t++){var e=this.buildRow(this.data[t]);e.style.top=this.data[t].__top+"px",e.className=e.className+" sts-row",this.el.appendChild(e),this.rowsWithNodes.push(t),this.data[t].__node=e}this.bottomEl=document.createElement("div"),this.bottomEl.className="sts-bottom-anchor",this.bottomEl.style.top=this.totalHeight+"px",this.el.appendChild(this.bottomEl),this.el.addEventListener("scroll",this.updateVisibleRows.bind(this))},o.prototype.updateVisibleRows=function(t){if(!this.isUpdating){this.isUpdating=!0;var n=this.el.scrollTop+this.el.clientHeight/2,e=r(this.tops,n),i=0,o=Math.max(0,e-Math.ceil(this.availableNodes/2)),a=Math.min(this.data.length,e+Math.ceil(this.availableNodes/2));if(this.lastMidNdx===e)return void(this.isUpdating=!1);this.lastMidNdx=e;for(var u=o;a>u;u++)if(!this.data[u].__node){for(;this.rowsWithNodes[i]>o&&this.rowsWithNodes[i]<a;)i++;this.data[u].__node=this.data[this.rowsWithNodes[i]].__node,this.updateRow(this.data[u],this.data[u].__node),this.data[u].__node.style.top=this.data[u].__top+"px",this.data[this.rowsWithNodes[i]].__node=null,this.rowsWithNodes[i]=u,i++}this.isUpdating=!1}},o.prototype.setHeights=function(){this.totalHeight=0,this.tops=[];for(var t=0;t<this.data.length;t++)this.data[t].__top=this.totalHeight,this.tops.push(this.totalHeight),this.totalHeight+=this.heightFn(this.data[t]);return this.totalHeight},o.prototype.updateData=function(t){var n,e,r=[];if(!this.isUpdating){if(this.isUpdating=!0,t.length<this.rowsWithNodes.length)for(n=this.rowsWithNodes.length-1;n>=t.length;n--){var i=this.data[this.rowsWithNodes[n]].__node;i.parentNode.removeChild(i),this.data[this.rowsWithNodes[n]].__node=null,this.rowsWithNodes.pop()}for(n=0;n<Math.min(this.rowsWithNodes.length,t.length);n++)r.push(this.data[this.rowsWithNodes[n]].__node),this.data[this.rowsWithNodes[n]].__node=null,this.rowsWithNodes[n]=n;if(r.length<t.length&&r.length<this.availableNodes)for(n=r.length;n<Math.min(this.availableNodes,t.length);n++)e=this.buildRow(t[n]),e.className=e.className+" sts-row",this.el.appendChild(e),r.push(e),this.rowsWithNodes.push(n);for(this.data=t,this.setHeights(),n=0;n<r.length;n++)this.data[n].__node=r[n],this.updateRow(this.data[n],this.data[n].__node),this.data[n].__node.style.top=this.data[n].__top+"px";this.bottomEl.style.top=this.totalHeight+"px",this.isUpdating=!1,this.updateVisibleRows()}},n.exports=o},{"lodash.sortedindex":9}],25:[function(t,n,e){var r=t("ractive"),i=t("canvas-dpi-scaler"),o=t("lodash"),a=t("d3"),u=r.extend({template:t("../templates/col-header.hbs"),data:function(){return{label:"Colname Undefined",isDiscrete:!0,index:0,min:0,max:1,width:160,histogramHeight:80,scatterHeight:160,hoverValue:0,filter:{},filtersOpen:!1,statsOpen:!1,histogramBarData:[],scatterData:[]}},onrender:function(){var t=this;if(!this.get("isDiscrete")){this.scale=a.scale.linear(),this.yScale=a.scale.linear(),this.axis=a.svg.axis().orient("top").ticks(3),this.rAxis=a.svg.axis().orient("right").ticks(3),this.lAxis=a.svg.axis().orient("left").ticks(3),this.axis.scale(this.scale),this.rAxis.scale(this.yScale),this.lAxis.scale(this.yScale),this.axisSvg=a.select(this.el).select(".dc-ch-axis"),this.axisSvg.select(".ch-axis-g.bottom").append("line").attr("class","axis-hover-line").attr("x1",10).attr("y1",0).attr("x2",10).attr("y2",-24),this.observe("min max width",function(){this.get("isDiscrete")||(this.scale.domain([this.get("min"),this.get("max")]).range([0,this.get("width")]),this.yScale.domain([this.get("min"),this.get("max")]).range([this.get("width"),0]),this.axisSvg.select(".ch-axis-g.bottom").call(this.axis),this.axisSvg.select(".ch-axis-g.right").call(this.rAxis),this.axisSvg.select(".ch-axis-g.left").call(this.lAxis))});var n=this.get("histogram"),e=this.get("histogramMax"),r=this.get("histogramHeight");this.set("histogramBarData",n.map(function(n){return o.extend(n,{x0:t.scale(n.lower),x1:t.scale(n.upper),height:n.count/e*r})})),this.observe("hoverValue",function(t){var n=this.scale(t);this.axisSvg.select(".axis-hover-line").attr("x1",n-1).attr("x2",n-1)}),this.canvas=this.el.querySelector("canvas"),this.context=this.canvas.getContext("2d"),i(this.canvas,this.context,this.get("width"),this.get("scatterHeight")),this.observe("scatterData",function(t){var n=this.get("scatterHeight"),e=this.get("width"),r=2.5,i=this.canvas,o=this.context;o.clearRect(0,0,i.width,i.height),o.globalAlpha=.23,o.fillStyle="#1166B7",t.forEach(function(t,i){o.beginPath(),o.arc(t[1]*(e/100),(100-t[0])*(n/100),r,0,2*Math.PI,!1),o.fillStyle=t[2]?"red":"#1166B7",t[3]&&(o.fillStyle="purple"),o.globalAlpha=t[3]?1:t[2]?.28:.13,o.fill()})},{init:!1})}}});n.exports=u},{"../templates/col-header.hbs":32,"canvas-dpi-scaler":1,d3:2,lodash:4,ractive:8}],26:[function(t,n,e){var r=t("lodash");n.exports=function(t,n){return t.filter(function(t){return r.all(n,function(n,e){return n.toggled?n.toggled[t._values[e]]:t._values[e]>=n.gt&&t._values[e]<=n.lt})})}},{lodash:4}],27:[function(t,n,e){var r=t("lodash"),i=t("jStat").jStat,o=t("d3"),a=20;n.exports=function(t,n,e){e=e||function(t,n){return""+n},r.isString(e)&&(e=r.property(e));var u,s,s,c,u,l,f=n.map(function(n,e){return u=r.map(t,n.accessor),"discrete"===n.type?r.extend(n,{ndx:e,uniqValues:r.uniq(u).sort()}):(n.min=r.min(u),n.max=r.max(u),r.extend(n,{ndx:e,mean:o.mean(u),median:o.median(u),sd:o.deviation(u),histogram:i.histogram(u,a).map(function(t,r){return{count:t,colNdx:e,lower:n.min+r/a*(n.max-n.min),upper:n.min+(r+1)/a*(n.max-n.min)}}),widthFn:function(t){return(t-n.min)/(n.max-n.min)*100}}))}),h=r.max(r(f).map("histogram").compact().flatten().map("count").value()),p=t.map(function(t,n){return c=[],u=[],l=[],discreteNdx=[],sortValues=[],f.forEach(function(e,i){s=r.isString(e.accessor)?t[e.accessor]:e.accessor(t,n),u[i]=s,c[i]="discrete"===e.type?0:e.widthFn(s),l[i]=e.format?e.format(s):s,"discrete"===e.type&&(discreteNdx[i]=e.uniqValues.indexOf(s),e.sortOrder&&(sortValues[i]=e.sortOrder.indexOf(s)))}),r.extend(t,{ndx:n,_values:u,_sortValues:sortValues,_widths:c,_labels:l,_discreteNdx:discreteNdx,_rowLabel:e(t,n),_colorNdx:""})});return{columns:f,histogramMax:h,rows:p}}},{d3:2,jStat:3,lodash:4}],28:[function(t,n,e){"use strict";var r=t("smart-table-scroll"),i=(t("ractive"),t("lodash")),o=t("./data-parser"),a=t("./data-filter"),u=t("./manager"),s=t("./palette").light12,c={},l=function(t){if(!t.el)throw new Error("Need to pass `el` into Datacomb.");if(!t.data)throw new Error("Need to pass `data` into Datacomb.");if(!t.columns)throw new Error("Need to pass `columns` into Datacomb.");for(var n in c)this[n]=c[n];for(var n in t)this[n]=t[n];this.width=this.width||this.el.getBoundingClientRect().width-(20+12*(this.columns.length+1)),this.colWidth=this.width/(this.columns.length+1),this.groupByColNdx=-1,this.parsed=o(this.data,this.columns,this.labelAccessor),this.allRows=this.parsed.rows,this.pipelinedRows=this.allRows,this.initManager(),this.initTable()};l.prototype.initManager=function(){var t=this;this.manager=new u({el:this.el,data:{cols:this.parsed.columns,histogramMax:this.parsed.histogramMax,scatterArrays:[],colWidth:this.colWidth}}),this.manager.observe("filters",this.applyFilters.bind(this),{init:!1}),this.manager.on("*.sort-by-col",function(n,e,r){t.applySort(e,r)}),this.manager.on("*.show-scatter-plots",function(n,e){var r=t.parsed.columns[e];t.scatterNdx=e,this.set("scatterPlotNdx",e),this.set("scatterArrays",t.parsed.columns.map(function(n,i){return"discrete"===n.type?null:t.allRows.map(function(t){return[r.widthFn(t._values[e]),n.widthFn(t._values[i]),t.focused&&!t.filtered,t.hovered]})}))}),this.manager.on("*.focus-histogram",function(n,e,r,i){for(var o=0;o<t.allRows.length;o++)t.allRows[o]._values[e]<=i&&t.allRows[o]._values[e]>=r&&(t.allRows[o].focused=!0);t.allRows[t.currentHoverNdx].hovered=!1,t.table.updateData(t.getRows({force:!0}))}),this.manager.on("*.hover-histogram",function(n,e,r,i){for(var o=0;o<t.allRows.length;o++)t.allRows[o].histogramHover=t.allRows[o]._values[e]<=i&&t.allRows[o]._values[e]>=r;t.table.updateData(t.getRows({force:!0}))}),this.manager.observe("histogramsOpen",function(){for(var n=0;n<t.allRows.length;n++)t.allRows[n].histogramHover=!1;t.table.updateData(t.getRows({force:!0}))},{init:!1}),this.manager.observe("focusOnHover",function(n){n||(t.allRows[t.currentHoverNdx].hovered=!1,t.table.updateData(t.getRows()))},{init:!1}),this.manager.observe("groupByColNdx",function(n){t.table.updateData(t.getRows({groupByColNdx:n}))},{init:!1}),this.manager.observe("colorByColNdx",function(n){t.table.updateData(t.getRows({colorByColNdx:n}))},{init:!1}),this.manager.observe("hideUnfocused",function(n){t.table.updateData(t.getRows({hideUnfocused:n}))},{init:!1}),this.manager.on("focus-all",function(n){t.allRows.forEach(function(t){t.focused=!0}),t.table.updateData(t.getRows())}),this.manager.on("unfocus-all",function(n){t.allRows.forEach(function(t){t.focused=!1,t.hovered=!1}),t.table.updateData(t.getRows())})},l.prototype.initTable=function(){var t=this;this.table=new r({el:this.el.querySelector(".dc-table"),data:this.allRows,availableNodes:1e3,heightFn:function(t){return t.hovered||t.focused||t.histogramHover?17:4},buildRow:function(n){var e=document.createElement("div"),r="<div class='dc-cell' style='width:"+t.colWidth+"px;' coltype='label'><div class='dc-label'>"+n._rowLabel+"</div></div>";e.classList.add("dc-row"),e._dcndx=n.ndx;var i;return t.parsed.columns.forEach(function(e,o){"discrete"===e.type?(i=s[n._discreteNdx[o]%s.length],r+="<div class='dc-cell' style='width:"+t.colWidth+"px;' coltype='disc'><div class='dc-bar' style='background-color:"+i+";'></div><div class='dc-disc-val'>"+n._values[o]+"</div></div>"):r+="<div class='dc-cell' style='width:"+t.colWidth+"px;' coltype='cont'><div class='dc-bar' style='width:"+n._widths[o]+"%'></div><div class='dc-cont-val'>"+n._labels[o]+"</div></div>"}),e.innerHTML=r,e},updateRow:function(n,e){e._dcndx=n.ndx,e.childNodes[0].childNodes[0].textContent=n._rowLabel,n.hovered||n.histogramHover?e.setAttribute("dc-hover",""):e.removeAttribute("dc-hover"),n.hovered||n.focused||n.histogramHover?e.setAttribute("dc-expand",""):e.removeAttribute("dc-expand");for(var r=0;r<t.parsed.columns.length;r++)"discrete"===t.parsed.columns[r].type?(e.childNodes[r+1].childNodes[0].style.backgroundColor=s[n._discreteNdx[r]%s.length],e.childNodes[r+1].childNodes[1].textContent=n._values[r]):(e.childNodes[r+1].childNodes[0].style.width=""+n._widths[r]+"%",e.childNodes[r+1].childNodes[0].style.backgroundColor=n._colorNdx||0===n._colorNdx?s[n._colorNdx%s.length]:null,e.childNodes[r+1].childNodes[1].textContent=n._labels[r])}}),this.currentHoverNdx=0,this.isDragging=!1,this.table.el.addEventListener("mouseover",function(n){if(t.manager.get("focusOnHover")){for(var e=n.target;void 0===e._dcndx;){if(!e.parentNode)return;e=e.parentNode}t.allRows[t.currentHoverNdx].hovered=!1,t.allRows[e._dcndx].hovered=!0,t.currentHoverNdx=e._dcndx,t.manager.set("hoverRow",t.allRows[e._dcndx]),t.table.updateData(t.getRows()),n.buttons&&(t.allRows[e._dcndx].focused=!t.allRows[e._dcndx].focused)}}),this.table.el.addEventListener("mousedown",function(n){for(var e=n.srcElement;void 0===e._dcndx;){if(!e.parentNode)return;e=e.parentNode}t.dragStartNdx=e._dcndx}),this.table.el.addEventListener("mouseup",function(n){for(var e=n.srcElement;void 0===e._dcndx;){if(!e.parentNode)return;e=e.parentNode}t.focusRows(t.dragStartNdx,e._dcndx)}),this.focusRows=function(n,e){var r=Math.min(n,e),i=Math.max(n,e),o=!1;if(r===i)t.allRows[r].focused=!t.allRows[r].focused,o=!t.allRows[r].focused&&this.hideUnfocused;else for(var a=r;i>a;a++)t.allRows[a].filtered||(t.allRows[a].focused=!0);t.allRows[t.currentHoverNdx].hovered=!1,t.table.updateData(t.getRows(o?{force:!0}:null))}},l.prototype.getRows=function(t){var n=this;if(t&&(t.sort&&(this.allRows=i.sortBy(this.allRows,-1===t.sort.colNdx?"_rowLabel":this.parsed.columns[t.sort.colNdx].sortOrder?"_sortValues."+t.sort.colNdx:"_values."+t.sort.colNdx),t.sort.desc&&this.allRows.reverse()),void 0!==t.groupByColNdx&&(this.groupByColNdx=t.groupByColNdx),-1!==this.groupByColNdx&&(this.allRows=t.sort?i.sortByOrder(this.allRows,["_values."+this.groupByColNdx,"_values."+t.sort.colNdx],[!0,!t.sort.desc]):i.sortByOrder(this.allRows,["_values."+this.groupByColNdx],[!0])),void 0!==t.colorByColNdx&&(this.colorByColNdx=t.colorByColNdx),this.allRows.forEach(function(t,e){t.ndx=e,t._colorNdx=-1!==n.colorByColNdx?t._discreteNdx[n.colorByColNdx]:null,t.hovered=!1,t.filtered=!0}),this.filters=t.filters||this.filters,this.pipelinedRows=this.filters?a(this.allRows,this.filters):this.allRows,void 0!==t.hideUnfocused&&(this.hideUnfocused=t.hideUnfocused),this.hideUnfocused&&(this.pipelinedRows=this.pipelinedRows.filter(function(t){return t.focused}))),this.pipelinedRows.forEach(function(t){t.filtered=!1}),this.scatterNdx>=0){var e=n.parsed.columns[n.scatterNdx];this.manager.set("scatterArrays",n.parsed.columns.map(function(t,r){return"discrete"===t.type?null:n.allRows.map(function(i){return[e.widthFn(i._values[n.scatterNdx]),t.widthFn(i._values[r]),i.focused&&!i.filtered,i.hovered]})}))}return this.pipelinedRows},l.prototype.applySort=function(t,n){this.table.updateData(this.getRows({sort:{colNdx:t,desc:n}}))},l.prototype.applyFilters=function(t){this.table.updateData(this.getRows({filters:t}))},n.exports=l},{"./data-filter":26,"./data-parser":27,"./manager":29,"./palette":30,lodash:4,ractive:8,"smart-table-scroll":24}],29:[function(t,n,e){var r=t("ractive"),i=t("lodash"),o=(t("d3"),t("./col-header")),a=t("ractive-range-slider"),u=r.extend({template:t("../templates/datacomb.hbs"),partials:{colFilter:t("../templates/col-filter.hbs"),summaryStats:t("../templates/summary-stats.hbs")},components:{ColHeader:o,RangeSlider:a},data:function(){return{sortColNdx:null,sortDesc:!1,focusOnHover:!0,hideUnfocused:!1,filtersOpen:!1,statsOpen:!1,histogramsOpen:!1,hoverValues:[],cols:[],filters:[],groupByColNdx:-1,colorByColNdx:-1,scatterPlotNdx:-1}},computed:{discreteCols:function(){return i.where(this.get("cols"),{type:"discrete"})}},onrender:function(){this.resetFilters=function(t){this.set("filters",t.map(function(t){if("discrete"===t.type){var n={};return t.uniqValues.forEach(function(t){n[t]=!0}),{toggled:n}}return{gt:t.min,lt:t.max}}))},this.observe("cols",this.resetFilters),this.on("*.reset-filters",function(){this.resetFilters(this.get("cols"))})}});n.exports=u},{"../templates/col-filter.hbs":31,"../templates/datacomb.hbs":33,"../templates/summary-stats.hbs":34,"./col-header":25,d3:2,lodash:4,ractive:8,"ractive-range-slider":7}],30:[function(t,n,e){n.exports={light12:["#CD5AD0","#80CE51","#4B3444","#97A4C0","#506032","#CEAE40","#BF4932","#6CCDB1","#BB4C82","#726ABE","#BC7E6D","#C1C896"],light8:["#A95CC5","#C36534","#7A87B5","#9AC347","#4C4335","#76C49B","#B34A72","#CAB098"]}},{}],31:[function(t,n,e){n.exports="\n{{#if type === 'discrete' }}\n  <ul class='toggle-list'>\n  {{#uniqValues:valNdx}}\n    <li>\n      <input type='checkbox' checked={{filters[colNdx].toggled[.]}} /> {{ . }}\n    </li>\n  {{/uniqValues}}\n  </ul>\n\n{{else}}\n  <div class='filter-text'>\n    <input type='text' value={{ filters[colNdx].gt }} />\n    to\n    <input type='text' value={{ filters[colNdx].lt }} />\n  </div>\n  <RangeSlider\n    width=160\n    lowerBound={{cols[colNdx].min}}\n    upperBound={{cols[colNdx].max}}\n    lower={{filters[colNdx].gt}}\n    upper={{filters[colNdx].lt}}\n    step={{ (cols[colNdx].max / cols[colNdx].min) / 100}} />\n{{/if}}\n"},{}],32:[function(t,n,e){n.exports="<div class='dc-col-header' style='width:{{width}}px;' {{#if isDiscrete}}discrete{{/if}}>\n  <h4>\n    {{label}}\n    <button class='col-action' on-click='sort-by-col:{{index}},false'>\n      {{#if isDiscrete || index === -1}}\n        <i class='fa fa-sort-alpha-asc'></i>\n      {{else}}\n        <i class='fa fa-sort-amount-asc'></i>\n      {{/if}}\n    </button>\n    <button class='col-action' on-click='sort-by-col:{{index}},true'>\n      {{#if isDiscrete }}\n        <i class='fa fa-sort-alpha-desc'></i>\n      {{else}}\n        <i class='fa fa-sort-amount-desc'></i>\n      {{/if}}\n    </button>\n    {{#if !isDiscrete }}\n      {{#if scatterPlotNdx === index}}\n        <button class='col-action' on-click='set(\"scatterPlotNdx\",-1)'>\n          <i class='fa fa-times-circle-o'></i>\n        </button>\n      {{else}}\n        <button class='col-action' on-click='show-scatter-plots:{{index}}'>\n          <i class='fa fa-circle-o'></i>\n        </button>\n      {{/if}}\n    {{/if}}\n  </h4>\n\n\n  <!-- filters -->\n  <div class='dc-filter' {{#if !filtersOpen }}hidden{{/if}}>\n    {{#if index === -1}}\n      <button class='dc-btn dc-warn' on-click='reset-filters'>\n        <i class='fa fa-close'></i>\n        Reset filters\n      </button>\n\n    {{elseif isDiscrete }}\n      <button on-click='set(\"filter.toggled.*\", true)' class='col-action'>All</button> / <button on-click='set(\"filter.toggled.*\", false)' class='col-action'>None</button>\n      <ul class='scroll-list'>\n      {{#uniqValues:valNdx}}\n        <li>\n          <input type='checkbox' checked={{filter.toggled[.]}} /> {{ . }}\n        </li>\n      {{/uniqValues}}\n      </ul>\n\n    {{else}}\n      <div class='filter-text'>\n        <input type='text' value={{ filter.gt }} />\n        to\n        <input type='text' value={{ filter.lt }} />\n      </div>\n      <RangeSlider\n        width={{ width}}\n        lowerBound={{min}}\n        upperBound={{max}}\n        lower={{filter.gt}}\n        upper={{filter.lt}}\n        step={{ (max / min) / 100}} />\n    {{/if}}\n  </div>\n\n  <!-- summary stats -->\n  <div {{#if !statsOpen }}hidden{{/if}}>\n    {{#if isDiscrete }}\n      {{#if false }}\n      <ul class='scroll-list'>\n      {{#uniqValues:valNdx}}\n        <li>\n          {{ label }}\n        </li>\n      {{/uniqValues}}\n      </ul>\n      {{/if}}\n    {{else}}\n      <ul class='stat-list'>\n        <li>Min: <b>{{ min.toFixed(2) }}</b></li>\n        <li>Max: <b>{{ max.toFixed(2) }}</b></li>\n        <li>Mean: <b>{{ mean.toFixed(2) }}</b></li>\n        <li>Med: <b>{{ median.toFixed(2) }}</b></li>\n        <li>Std Dev: <b>{{ sd.toFixed(2) }}</b></li>\n      </ul>\n    {{/if}}\n  </div>\n\n\n\n  <!-- svg, canvas elements -->\n  {{#if isDiscrete}}\n    <div class='disc-value'>{{hoverValue}}</div>\n  {{else}}\n  <canvas class='dc-col-scatter' width={{width}} height={{scatterHeight}} {{#if !scatterOpen}}hidden{{/if}}></canvas>\n    <svg class='dc-ch-axis dc-histogram' height='{{histogramsOpen ? 78 : 22}}' width='{{width}}'>\n        <!-- histograms -->\n        {{#if !isDiscrete }}\n        <g {{#if !histogramsOpen }}hidden{{/if}}>\n          {{#histogramBarData}}\n            <rect x={{x0}}\n                  y={{histogramHeight-height}}\n                  width={{x1-x0}}\n                  height={{height}}\n                  on-mouseover='hover-histogram:{{index}},{{lower}},{{upper}}'\n                  on-click='focus-histogram:{{index}},{{lower}},{{upper}}' />\n          {{/histogramBarData}}\n        </g>\n        {{/if}}\n\n        <!-- axis -->\n        <g class='ch-axis-g bottom' transform='translate(0,{{histogramsOpen ? 80 : 24}})'></g>\n        <g {{#if index !== scatterPlotNdx }}hidden{{/if}}>\n          <g class='ch-axis-g right' transform='translate(0,{{24-scatterHeight}})'></g>\n          <g class='ch-axis-g left' transform='translate({{width}},{{24-scatterHeight}})'></g>\n        </g>\n\n    </svg>\n  {{/if}}\n\n</div>\n"},{}],33:[function(t,n,e){n.exports="<!--\nTop level template and DOM structure for Datacomb.\n-->\n\n<link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css\">\n\n{{#partial discreteColumnOptions}}\n  <option value='-1'>None</option>\n  {{#discreteCols}}\n    <option value={{ndx}}>{{label}}</option>\n  {{/discreteCols}}\n{{/partial}}\n\n<div class='dc-container'>\n  <div class='dc-top-controls'>\n    <label>\n      <input type='checkbox' checked='{{focusOnHover}}'>Focus On Hover\n    </label>\n    <label>\n      <input type='checkbox' checked='{{hideUnfocused}}'>Hide Unfocused\n    </label>\n    <button class='dc-btn'\n            on-click='toggle(\"filtersOpen\")'\n            {{#if filtersOpen}}opened{{/if}} >\n      <i class='fa fa-filter'></i>\n      {{#if filtersOpen}}Hide{{else}}Show{{/if}} Filters\n    </button>\n    <button class='dc-btn'\n            on-click='toggle(\"statsOpen\")'\n            {{#if statsOpen}}opened{{/if}} >\n      <i class='fa fa-list'></i>\n      {{#if statsOpen}}Hide{{else}}Show{{/if}} Summary Stats\n    </button>\n    <button class='dc-btn'\n            on-click='toggle(\"histogramsOpen\")'\n            {{#if histogramsOpen}}opened{{/if}} >\n      <i class='fa fa-bar-chart'></i>\n      {{#if histogramsOpen}}Hide{{else}}Show{{/if}} Histograms\n    </button>\n    <button class='dc-btn' on-click='focus-all'>\n      <i class='fa fa-arrows-v'></i>\n      Focus All\n    </button>\n    <button class='dc-btn' on-click='unfocus-all'>\n      <i class='fa fa-minus'></i>\n      Unfocus All\n    </button>\n\n    <label>Group By: </label>\n    <select value={{groupByColNdx}}>\n      {{>discreteColumnOptions}}\n    </select>\n\n    <label>Color By: </label>\n    <select value={{colorByColNdx}}>\n      {{>discreteColumnOptions}}\n    </select>\n  </div>\n\n  <ul class='dc-col-headers'>\n    <li>\n      <ColHeader label=\"Row Label\"\n        width={{ colWidth}}\n        index={{-1}}\n        filtersOpen={{filtersOpen}}\n        statsOpen={{statsOpen}}\n        hoverValue={{ hoverRow._rowLabel }} /></li>\n    {{#cols:colNdx}}\n      <li><ColHeader\n        width={{ colWidth}}\n        filtersOpen={{filtersOpen}}\n        statsOpen={{statsOpen}}\n        statsOpen={{statsOpen}}\n        scatterOpen={{scatterPlotNdx !== -1}}\n\n        scatterPlotNdx={{scatterPlotNdx}}\n        scatterHeight={{ colWidth }}\n        scatterData={{ scatterArrays[colNdx] }}\n\n        isDiscrete={{ type=='discrete' }}\n        min={{ cols[colNdx].min }}\n        max={{ cols[colNdx].max }}\n        label={{ label }}\n        index={{ colNdx }}\n        filter={{ filters[colNdx] }}\n        hoverValue={{ hoverRow._values[colNdx] }} /></li>\n    {{/cols}}\n  </ul>\n\n  <div class='dc-table'></div>\n</div>\n"},{}],34:[function(t,n,e){n.exports="{{#if type === 'discrete' }}\n  <ul class='toggle-list'>\n  {{#uniqValues:valNdx}}\n    <li>\n      {{ label }}\n    </li>\n  {{/uniqValues}}\n  </ul>\n\n{{else}}\n  <ul class='stat-list'>\n    <li>Min: {{ min.toFixed(2) }}</li>\n    <li>Max: {{ max.toFixed(2) }}</li>\n    <li>Mean: {{ mean.toFixed(2) }}</li>\n    <li>Med: {{ median.toFixed(2) }}</li>\n    <li>Std Dev: {{ sd.toFixed(2) }}</li>\n  </ul>\n{{/if}}\n"},{}]},{},[28])(28)});