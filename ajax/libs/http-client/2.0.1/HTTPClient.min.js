!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.HTTPClient=n():t.HTTPClient=n()}(this,function(){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var r={};return n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.requestInfo=n.parseJSON=n.parseText=n.params=n.json=n.body=n.query=n.base=n.accept=n.auth=n.header=n.method=n.createFetch=n.createStack=void 0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o=r(1),u=void 0;"function"==typeof fetch?u=fetch:"object"!==e(window)&&(u=r(!function(){var t=new Error('Cannot find module "node-fetch"');throw t.code="MODULE_NOT_FOUND",t}()));var i=function(t){return"string"==typeof t?t:(0,o.stringify)(t)},c=function(t,n,r){return t(n,r)},f=function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return 0===n.length?c:n.reduceRight(function(t,n){return function(r,e,o){return n(function(n,e){return t(r,n,e)},e,o)}})};n.createStack=f;var a=(n.createFetch=function(){if(0===arguments.length)return fetch;var t=f.apply(void 0,arguments);return function(n,r){return t(u,n,r)}},function(t,n,r){return(t.headers||(t.headers={}))[n]=r}),s=(n.method=function(t){return function(n,r){var e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return e.method=t,n(r,e)}},n.header=function(t,n){return function(r,e){var o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return a(o,t,n),r(e,o)}}),p=(n.auth=function(t){return s("Authorization",t)},n.accept=function(t){return s("Accept",t)},n.base=function(t){return function(n,r,e){return n(t+r,e)}},n.query=function(t){var n=i(t);return function(t,r,e){return r+=(-1===r.indexOf("?")?"?":"&")+n,t(r,e)}}),d=n.body=function(t,n){return function(r,e){var o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return o.body=t,null!=t.length&&a(o,"Content-Length",t.length),n&&a(o,"Content-Type",n),r(e,o)}},l=(n.json=function(t){return d("string"==typeof t?t:JSON.stringify(t),"application/json")},n.params=function(t){var n=i(t);return function(t,r){var e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=(e.method||"GET").toUpperCase(),u="GET"===o||"HEAD"===o?p(n):d(n,"application/x-www-form-urlencoded");return u(t,r,e)}},function(t){return function(n,r,e){return n(r,e).then(t)}});n.parseText=function(){return l(function(t){return t.text().then(function(n){return t.textString=n,t})})},n.parseJSON=function(){return l(function(t){return t.json().then(function(n){return t.jsonData=n,t},function(t){throw new Error("Error parsing JSON: "+t.stack)})})},n.requestInfo=function(){return function(t,n,r){return t(n,r).then(function(t){return t.requestURL=n,t.requestOptions=r,t},function(t){throw t=t||new Error,t.requestURL=n,t.requestOptions=r,t})}}},function(t,n,r){"use strict";var e=r(2);n.extract=function(t){return t.split("?")[1]||""},n.parse=function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#|&)/,""),t?t.split("&").reduce(function(t,n){var r=n.replace(/\+/g," ").split("="),e=r.shift(),o=r.length>0?r.join("="):void 0;return e=decodeURIComponent(e),o=void 0===o?null:decodeURIComponent(o),t.hasOwnProperty(e)?Array.isArray(t[e])?t[e].push(o):t[e]=[t[e],o]:t[e]=o,t},{}):{})},n.stringify=function(t){return t?Object.keys(t).sort().map(function(n){var r=t[n];return void 0===r?"":null===r?n:Array.isArray(r)?r.slice().sort().map(function(t){return e(n)+"="+e(t)}).join("&"):e(n)+"="+e(r)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}}])});