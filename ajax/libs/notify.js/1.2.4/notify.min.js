!function(t,i){"function"==typeof define&&define.amd?define(function(){return i(t,t.document)}):"undefined"!=typeof module&&module.exports?module.exports=i(t,t.document):t.Notify=i(t,t.document)}("undefined"!=typeof window?window:this,function(t,i){"use strict";function o(t){return"function"==typeof t}function n(t,i){if("string"!=typeof t)throw new Error("Notify(): first arg (title) must be a string.");if(this.title=t,this.options={icon:"",body:"",tag:"",notifyShow:null,notifyClose:null,notifyClick:null,notifyError:null,permissionGranted:null,permissionDenied:null,timeout:null},this.permission=null,n.isSupported&&"object"==typeof i){for(var s in i)i.hasOwnProperty(s)&&(this.options[s]=i[s]);o(this.options.notifyShow)&&(this.onShowCallback=this.options.notifyShow),o(this.options.notifyClose)&&(this.onCloseCallback=this.options.notifyClose),o(this.options.notifyClick)&&(this.onClickCallback=this.options.notifyClick),o(this.options.notifyError)&&(this.onErrorCallback=this.options.notifyError)}}return n.isSupported="Notification"in t,n.needsPermission=!(n.isSupported&&"granted"===Notification.permission),n.permissionLevel=n.isSupported?Notification.permission:null,n.requestPermission=function(i,s){n.isSupported&&t.Notification.requestPermission(function(t){switch(t){case"granted":n.needsPermission=!1,o(i)&&i();break;case"denied":o(s)&&s()}})},n.prototype.show=function(){n.isSupported&&(this.myNotify=new Notification(this.title,{body:this.options.body,tag:this.options.tag,icon:this.options.icon}),this.options.timeout&&!isNaN(this.options.timeout)&&setTimeout(this.close.bind(this),1e3*this.options.timeout),this.myNotify.addEventListener("show",this,!1),this.myNotify.addEventListener("error",this,!1),this.myNotify.addEventListener("close",this,!1),this.myNotify.addEventListener("click",this,!1))},n.prototype.onShowNotification=function(t){this.onShowCallback&&this.onShowCallback(t)},n.prototype.onCloseNotification=function(t){this.onCloseCallback&&this.onCloseCallback(t),this.destroy()},n.prototype.onClickNotification=function(t){this.onClickCallback&&this.onClickCallback(t)},n.prototype.onErrorNotification=function(t){this.onErrorCallback&&this.onErrorCallback(t),this.destroy()},n.prototype.destroy=function(){this.myNotify.removeEventListener("show",this,!1),this.myNotify.removeEventListener("error",this,!1),this.myNotify.removeEventListener("close",this,!1),this.myNotify.removeEventListener("click",this,!1)},n.prototype.close=function(){this.myNotify.close()},n.prototype.handleEvent=function(t){switch(t.type){case"show":this.onShowNotification(t);break;case"close":this.onCloseNotification(t);break;case"click":this.onClickNotification(t);break;case"error":this.onErrorNotification(t)}},n});
//# sourceMappingURL=notify.min.js.map