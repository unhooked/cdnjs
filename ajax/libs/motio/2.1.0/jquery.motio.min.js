/*! Motio 2.1.0 - 6th Apr 2013 | https://github.com/Darsain/motio */
(function(l){function j(b,t){function F(c){f.reversed=c;u||(a.isPaused=0,B("play"),C())}function w(){x=0;D=y?Math.round(g.x)+"px "+Math.round(g.y)+"px":q[m];D!==G&&(b.style.backgroundPosition=G=D);B("frame");f.finite&&f.to===m&&(a.pause(),"function"===r(f.callback)&&f.callback.call(a))}function C(){f.finite&&f.to===m||(y?(g.x+=d.speedX/d.fps,g.y+=d.speedY/d.fps,d.bgWidth&&Math.abs(g.x)>d.bgWidth&&(g.x%=d.bgWidth),d.bgHeight&&Math.abs(g.y)>d.bgHeight&&(g.y%=d.bgHeight)):(f.finite?m=f.immediate?f.to:
m+(m>f.to?-1:1):f.reversed?0>=--m&&(m=q.length-1):++m>=q.length&&(m=0),a.frame=m),f.immediate||(u=60<=d.fps?v(C):setTimeout(C,1E3/d.fps)),x||(x=v(w)))}function H(a,h){s=0;for(z=p[a].length;s<z;s++)if(p[a][s]===h)return s;return-1}function B(c,h){if(p[c]){s=0;for(z=p[c].length;s<z;s++)p[c][s].call(a,c,h)}}function E(a){return l.getComputedStyle?l.getComputedStyle(b,null)[a]:b.currentStyle[a]}var d,n=t,I={},n="object"===r(n)?n:{},A;for(A in j.defaults)I[A]=(n.hasOwnProperty(A)?n:j.defaults)[A];d=I;
var a=this,y=!d.frames,q=[],p={},f={},m=0,g,D,G,u,x,s,z;a.width=d.width||b.clientWidth;a.height=d.height||b.clientHeight;a.options=d;a.isPaused=1;a.pause=function(){u&&(a.isPaused=1,k(u),u=clearTimeout(u),x=k(x),B("pause"));return a};a.play=function(c){f.finite=0;f.callback=0;F(c);return a};a.toggle=function(){a[u?"pause":"play"]();return a};a.toStart=function(c,h){return a.to(0,c,h)};a.toEnd=function(c,h){return a.to(q.length-1,c,h)};a.to=function(c,h,e){if(y||isNaN(parseFloat(c))||!isFinite(c)||
0>c||c>=q.length)return a;"function"===r(h)&&(e=h,h=!1);if(c===m)if(0===c)m=q.length;else if(c===q.length-1)m=-1;else return"function"===r(e)&&e.call(a),a.pause(),a;f.finite=1;f.to=c;f.immediate=h;f.callback=e;F();return a};a.set=function(c,h){d[c]=h;return a};a.on=function(c,h){if("object"===r(c))for(var e in c){if(c.hasOwnProperty(e))a.on(e,c[e])}else if("function"===r(h)){e=c.split(" ");for(var b=0,d=e.length;b<d;b++)p[e[b]]=p[e[b]]||[],-1===H(e[b],h)&&p[e[b]].push(h)}else if("array"===r(h)){e=
0;for(b=h.length;e<b;e++)a.on(c,h[e])}return a};a.off=function(c,b){if(b instanceof Array)for(var e=0,d=b.length;e<d;e++)a.off(c,b[e]);else for(var e=c.split(" "),d=0,f=e.length;d<f;d++)if(p[e[d]]=p[e[d]]||[],"undefined"===r(b))p[e[d]].length=0;else{var g=H(e[d],b);-1!==g&&p[e[d]].splice(g,1)}return a};a.destroy=function(){a.pause();b.style.backgroundPosition="";return a};n=(E("backgroundPosition")||E("backgroundPositionX")+" "+E("backgroundPositionY")).replace(/left|top/gi,0).split(" ");g={x:0|parseInt(n[0],
10),y:0|parseInt(n[1],10)};if(y)a.pos=g;else{for(n=q.length=0;n<d.frames;n++)d.vertical?g.y=n*-a.height:g.x=n*-a.width,q.push(g.x+"px "+g.y+"px");a.frames=q.length;a.frame=0}}function r(b){return Object.prototype.toString.call(b).match(/\s([a-z]+)/i)[1].toLowerCase()}for(var k=l.cancelAnimationFrame||l.cancelRequestAnimationFrame,v=l.requestAnimationFrame,w=["moz","webkit","o"],t=0,b=0,J=w.length;b<J&&!k;++b)v=(k=l[w[b]+"CancelAnimationFrame"]||l[w[b]+"CancelRequestAnimationFrame"])&&l[w[b]+"RequestAnimationFrame"];
k||(v=function(b){var j=+new Date,k=Math.max(0,16-(j-t));t=j+k;return l.setTimeout(function(){b(j+k)},k)},k=function(b){clearTimeout(b)});l.Motio=j;j.defaults={fps:15,frames:0,vertical:0,width:0,height:0,speedX:0,speedY:0,bgWidth:0,bgHeight:0}})(window);(function(l){l.fn.motio=function(j,r){var k,v;if(!l.isPlainObject(j)){if("string"===typeof j||!1===j)k=!1===j?"destroy":j,v=Array.prototype.slice.call(arguments,1);j={}}return this.each(function(w,t){var b=l.data(t,"motio");!b&&!k?(b=l.data(t,"motio",new Motio(t,j)),b.on(r),j.startPaused||b.play()):b&&k&&(b[k]&&b[k].apply(b,v),"destroy"===k&&l.removeData(t,"motio"))})}})(jQuery);
