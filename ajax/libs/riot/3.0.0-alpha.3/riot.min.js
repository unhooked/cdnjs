/* Riot v3.0.0-alpha.3, @license MIT */
!function(e,t){"use strict";function n(e,t,n,r){var i=r?Object.create(r):{};return i[e.key]=t,e.pos&&(i[e.pos]=n),i}function r(e,t,n,r){for(var i,o=t.length,a=e.length;o>a;)i=t[--o],t.splice(o,1),i.unmount(),q(r.tags,n,i,!0)}function i(e,t){Object.keys(e.tags).forEach(function(n){var r=e.tags[n];A(r)?d(r,function(e){T(e,n,t)}):T(r,n,t)})}function o(e,t,o){b(e,"each");var a,u=typeof _(e,"no-reorder")!==re||b(e,"no-reorder"),s=S(e),c=Y[s]||{tmpl:g(e)},f=ue.test(s),p=e.parentNode,h=document.createTextNode(""),m=C(e),v="option"===s.toLowerCase(),y=[],x=[],w="VIRTUAL"==e.tagName;o=he.loopKeys(o),o.isLoop=!0;var N=_(e,"if");return N&&b(e,"if"),p.insertBefore(h,e),p.removeChild(e),o.update=function(){var d=he(o.val,t),g=document.createDocumentFragment();if(p=h.parentNode,A(d)||(a=d||!1,d=a?Object.keys(d).map(function(e){return n(o,e,d[e])}):[]),N&&(d=d.filter(function(e,r){var i=n(o,e,r,t);return!!he(N,i)})),d.forEach(function(r,d){var h,v=u&&r instanceof Object&&!a,b=x.indexOf(r),_=~b&&v?b:d,N=y[_];r=!a&&o.key?n(o,r,d):r,!v&&!N||v&&!~b||!N?(N=new l(c,{parent:t,isLoop:!0,hasImpl:!!Y[s],root:f?p:e.cloneNode(),item:r},e.innerHTML),N.mount(),h=N.root,d==y.length?w?z(N,g):g.appendChild(h):(w?z(N,p,y[d]):p.insertBefore(h,y[d].root),x.splice(d,0,r)),y.splice(d,0,N),m&&V(t.tags,s,N,!0),_=d):N.update(r),_!==d&&v&&(w?Z(N,p,y[d]):p.insertBefore(N.root,y[d].root),o.pos&&(N[o.pos]=d),y.splice(d,0,y.splice(_,1)[0]),x.splice(d,0,x.splice(_,1)[0]),!m&&N.tags&&i(N,d)),N._item=r,O(N,"_parent",t)}),r(d,y,s,t),v){if(p.appendChild(g),pe&&!p.multiple)for(var b=0;b<p.length;b++)if(p[b].__riot1374){p.selectedIndex=b,delete p[b].__riot1374;break}}else p.insertBefore(g,h);x=d.slice()},o.unmount=function(){d(y,function(e){e.unmount()})},o}function a(e,t,n){b(e,"if"),this.parentTag=t,this.expr=n,this.stub=document.createTextNode(""),this.pristine=e;var r=e.parentNode;r.insertBefore(this.stub,e),r.removeChild(e)}function u(e,t,n,r){this.dom=e,this.attr=t,this.rawValue=n,this.parent=r,this.customParent=L(r),this.hasExp=he.hasExpr(n),this.firstRun=!0}function s(e,t,n,r){var i={parent:{children:n}};k(e,function(n,i){var s,l,c,f=n.nodeType,p=i.parent;if(3==f&&"STYLE"!=n.parentNode.tagName&&he.hasExpr(n.nodeValue)&&p.children.push({dom:n,expr:n.nodeValue}),1!=f)return i;if(s=_(n,"each"))return p.children.push(o(n,t,s)),!1;if(s=_(n,"if"))return p.children.push(new a(n,t,s)),!1;var h=[],g=[];d(n.attributes,function(e){var r=e.name,i=ce.test(r),o=he.hasExpr(e.value);return"name"===r||"id"===r?(l=new u(n,r,e.value,t),p.children.push(l),g.push(l),void h.push(l)):(l={dom:n,expr:e.value,attr:e.name,bool:i},h.push(l),o?(p.children.push(l),i?(b(n,r),!1):void 0):void 0)}),(l=_(n,te))&&he.hasExpr(l)&&(s={isRtag:!0,expr:l,dom:n,children:[]},p.children.push(s),p=s);var m=C(n);if(m&&(n!==e||r)){var v={root:n,parent:t,hasImpl:!0,ownAttrs:h};return c=E(m,v,n.innerHTML,t),p.children.push(c),d(g,function(e){e.tag=c}),!1}return{parent:p}},i)}function l(e,t,n){function r(){var e=g&&p?u:c||u;m?d(m||[],function(e){var t=e.hasOwnProperty("value")?e.value:e.expr;l[w(e.attr)]=t}):d(_.attributes,function(t){var n=t.value,r=he.hasExpr(n);r&&m||(l[w(t.name)]=r?he(n,e):n)})}function i(e){for(var t in v)typeof u[t]!==oe&&j(u,t)&&(u[t]=e[t])}function o(){d(Object.keys(u.parent),function(e){var t=!se.test(e)&&I(A,e);(typeof u[e]===oe||t)&&(t||A.push(e),u[e]=u.parent[e])})}var a,u=Q.observable(this),l=U(t.opts)||{},c=t.parent,p=t.isLoop,g=t.hasImpl,m=t.ownAttrs,v=P(t.item),x=[],_=t.root,C=e.fn,T=t.tagName||_.tagName.toLowerCase(),E={},S={},A=[];e.name&&_._tag&&_._tag.unmount(!0),this.isMounted=!1,_.isLoop=p,this._hasImpl=g,O(this,"_riot_id",++W),R(this,{parent:c,root:_,opts:l,tags:{}},v),d(_.attributes,function(e){var t=e.value;he.hasExpr(t)&&(E[e.name]=t)}),a=ge(e,n,S),S=S.attrs||"",O(this,"update",function(e){return typeof u.shouldUpdate!=ae||u.shouldUpdate()?(e=P(e),p&&!g&&o(),e&&y(v)&&(i(e),v=e),R(u,e),r(),u.isMounted&&u.trigger("update",e),f(x,u),u.isMounted&&u.trigger("updated"),this):void 0}),O(this,"mixin",function(){return d(arguments,function(e){var t;e=typeof e===re?Q.mixin(e):e,h(e)?(t=new e,e=e.prototype):t=e,d(Object.getOwnPropertyNames(e),function(e){"init"!=e&&(u[e]=h(t[e])?t[e].bind(u):t[e])}),t.init&&t.init.bind(u)()}),this}),O(this,"mount",function(e){r(),_._tag=this;var t=Q.mixin(J);if(t)for(var n in t)t.hasOwnProperty(n)&&u.mixin(t[n]);if(C&&C.call(u,l),(S||g)&&($(S,function(e,t){N(_,e,t)}),s(u.root,u,x)),s(a,u,x),u.update(v),u.trigger("before-mount"),p&&!g)u.root=_=a.firstChild;else{for(;a.firstChild;)_.appendChild(a.firstChild);_.stub&&(u.root=_=c.root)}O(u,"root",_),u.isMounted=!0,!u.parent||u.parent.isMounted?u.trigger("mount"):u.parent.one("mount",function(){H(u.root)||u.trigger("mount")})}),O(this,"unmount",function(e){var t,n=u.root,r=n.parentNode,i=X.indexOf(u);if(u.trigger("before-unmount"),~i&&X.splice(i,1),r){if(c)t=L(c),q(t.tags,T,u);else for(;n.firstChild;)n.removeChild(n.firstChild);e?(b(r,ne),b(r,te)):r.removeChild(n)}this._virts&&d(this._virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),M(x),u.trigger("unmount"),u.off("*"),u.isMounted=!1,delete u.root._tag})}function c(t,n,r,i){r[t]=function(t){var o=i._parent,a=i._item;if(!a)for(;o&&!a;)a=o._item,o=o._parent;t=t||e.event,j(t,"currentTarget")&&(t.currentTarget=r),j(t,"target")&&(t.target=t.srcElement),j(t,"which")&&(t.which=t.charCode||t.keyCode),t.item=a,n.call(i,t),t.preventUpdate||L(i).update()}}function f(e,t){d(e,function(e,n){var r=e.dom,i=e.attr,o=he(e.expr,t),a=r&&r.parentNode,u="value"==i;if(e.bool?o=o?i:!1:null==o&&(o=""),a&&"TEXTAREA"==a.tagName&&(o=(""+o).replace(/riot-/g,""),a.value=o),e._riot_id){if(e.isMounted)e.update();else if(e.mount(),"VIRTUAL"==e.root.tagName){var s=document.createDocumentFragment();z(e,s),e.root.parentElement.replaceChild(s,e.root)}}else{if(e.update)return void e.update();var l=e.value;if(e.value=o,e.isRtag&&o)return p(e,t);if(!(u&&r.value==o||!u&&l===o)){if(!i)return void(r.nodeValue=""+o);if(b(r,i),h(o))c(i,o,r,t);else if(/^(show|hide)$/.test(i))"hide"==i&&(o=!o),r.style.display=o?"":"none";else if("value"==i)r.value=o;else if(G(i,ee)&&i!=te)o&&N(r,i.slice(ee.length),o);else{if("selected"==i&&a&&/^(SELECT|OPTGROUP)$/.test(a.nodeName)&&o&&(a.value=r.value),e.bool&&(r[i]=o,!o))return;(0===o||o&&typeof o!==ie)&&N(r,i,o)}}}})}function p(e,t){var n,r=he(e.value,t);if(e.tag&&e.tagName==r)return void e.tag.update();if(e.tag){var i=e.tag.opts.riotTag,o=e.tag._parent.tags[i];A(o)?o.splice(o.indexOf(e.tag),1):delete e.tag._parent.tags[i]}e.impl=Y[r],n={root:e.dom,parent:t,hasImpl:!0,tagName:r},e.tag=E(e.impl,n,e.dom.innerHTML,t),e.tagName=r,e.tag.mount(),e.tag.update()}function d(e,t){for(var n,r=e?e.length:0,i=0;r>i;i++)n=e[i],null!=n&&t(n,i)===!1&&i--;return e}function h(e){return typeof e===ae||!1}function g(e){if(e.outerHTML)return e.outerHTML;var t=B("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}function m(e,t){if(typeof e.innerHTML!=oe)e.innerHTML=t;else{var n=(new DOMParser).parseFromString(t,"application/xml");e.appendChild(e.ownerDocument.importNode(n.documentElement,!0))}}function v(e){return~le.indexOf(e)}function y(e){return e&&typeof e===ie}function x(e){return typeof e===oe||null===e||""===e}function b(e,t){e.removeAttribute(t)}function w(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function _(e,t){return e.getAttribute(t)}function N(e,t,n){e.setAttribute(t,n)}function C(e){return e.tagName&&Y[_(e,ne)||_(e,te)||e.tagName.toLowerCase()]}function T(e,t,n){var r,i=e.parent;i&&(r=i.tags[t],A(r)?r.splice(n,0,r.splice(r.indexOf(e),1)[0]):V(i.tags,t,e))}function E(e,t,n,r){var i=new l(e,t,n),o=t.tagName||S(t.root,!0),a=L(r);return i.parent=a,i._parent=r,V(a.tags,o,i),a!==r&&V(r.tags,o,i),t.root.innerHTML="",i}function L(e){for(var t=e;!t._hasImpl&&t.parent;)t=t.parent;return t}function M(e){var t,n,r=e.length;for(t=0;r>t;t++)n=e[t],n instanceof l?n.unmount(!0):n.unmount&&n.unmount()}function O(e,t,n,r){return Object.defineProperty(e,t,R({value:n,enumerable:!1,writable:!1,configurable:!0},r)),e}function S(e,t){var n=C(e),r=!t&&_(e,"name"),i=r&&!he.hasExpr(r)?r:n?n.name:e.tagName.toLowerCase();return i}function R(e){for(var t,n=arguments,r=1;r<n.length;++r)if(t=n[r])for(var i in t)j(e,i)&&(e[i]=t[i]);return e}function I(e,t){return~e.indexOf(t)}function A(e){return Array.isArray(e)||e instanceof Array}function j(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return typeof e[t]===oe||n&&n.writable}function P(e){if(!(e instanceof l||e&&typeof e.trigger==ae))return e;var t={};for(var n in e)se.test(n)||(t[n]=e[n]);return t}function k(e,t,n){if(e){var r,i=t(e,n);if(i===!1)return;for(e=e.firstChild;e;)r=e.nextSibling,k(e,t,i),e=r}}function $(e,t){for(var n,r=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;n=r.exec(e);)t(n[1].toLowerCase(),n[2]||n[3]||n[4])}function H(e){for(;e;){if(e.inStub)return!0;e=e.parentNode}return!1}function B(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e)}function F(e,t){return(t||document).querySelectorAll(e)}function D(e,t){return(t||document).querySelector(e)}function U(e){function t(){}return t.prototype=e,new t}function V(e,t,n,r){var i=e[t],o=A(i);i&&i===n||(!i&&r?e[t]=[n]:i?(!o||o&&!I(i,n))&&(o?i.push(n):e[t]=[i,n]):e[t]=n)}function q(e,t,n,r){A(e[t])?(d(e[t],function(r,i){r===n&&e[t].splice(i,1)}),e[t].length?1!=e[t].length||r||(e[t]=e[t][0]):delete e[t]):delete e[t]}function G(e,t){return e.slice(0,t.length)===t}function K(e,t,n){var r=Y[t],i=e._innerHTML=e._innerHTML||e.innerHTML;e.innerHTML="";var o={root:e,opts:n};return n&&n.parent&&(o.parent=n.parent),r&&e&&(r=new l(r,o,i)),r&&r.mount&&(r.mount(!0),I(X,r)||X.push(r)),r}function z(e,t,n){var r,i,o=document.createTextNode(""),a=document.createTextNode("");for(e._head=e.root.insertBefore(o,e.root.firstChild),e._tail=e.root.appendChild(a),i=e._head,e._virts=[];i;)r=i.nextSibling,n?t.insertBefore(i,n._head):t.appendChild(i),e._virts.push(i),i=r}function Z(e,t,n){for(var r,i=e._head;i;)if(r=i.nextSibling,t.insertBefore(i,n._head),i=r,i==e._tail){t.insertBefore(i,n._head);break}}var Q={version:"v3.0.0-alpha.3",settings:{}},W=0,X=[],Y={},J="__global_mixin",ee="riot-",te="data-is",ne="data-is",re="string",ie="object",oe="undefined",ae="function",ue=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,se=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,le=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],ce=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,fe=0|(e&&e.document||{}).documentMode,pe=e&&!!e.InstallTrigger;Q.observable=function(e){function t(e,t){for(var n,r,i=e.split(" "),o=i.length,a=0;o>a;a++)n=i[a],r=n.indexOf("."),n&&t(~r?n.substring(0,r):n,a,~r?n.slice(r+1):null)}e=e||{};var n={},r=Array.prototype.slice;return Object.defineProperties(e,{on:{value:function(r,i){return"function"!=typeof i?e:(t(r,function(e,t,r){(n[e]=n[e]||[]).push(i),i.typed=t>0,i.ns=r}),e)},enumerable:!1,writable:!1,configurable:!1},off:{value:function(r,i){return"*"!=r||i?t(r,function(e,t,r){if(i||r)for(var o,a=n[e],u=0;o=a&&a[u];++u)(o==i||r&&o.ns==r)&&a.splice(u--,1);else delete n[e]}):n={},e},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,n){function r(){e.off(t,r),n.apply(e,arguments)}return e.on(t,r)},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(i){for(var o,a=arguments.length-1,u=new Array(a),s=0;a>s;s++)u[s]=arguments[s+1];return t(i,function(t,i,a){o=r.call(n[t]||[],0);for(var s,l=0;s=o[l];++l)s.busy||(s.busy=1,a&&s.ns!=a||s.apply(e,s.typed?[t].concat(u):u),o[l]!==s&&l--,s.busy=0);n["*"]&&"*"!=t&&e.trigger.apply(e,["*",t].concat(u))}),e},enumerable:!1,writable:!1,configurable:!1}}),e};var de=function(e){function t(e){return e}function n(e,t){return t||(t=v),new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?l:"")}function r(e){if(e===h)return g;var t=e.split(" ");if(2!==t.length||/[\x00-\x1F<>a-zA-Z0-9'",;\\]/.test(e))throw new Error('Unsupported brackets "'+e+'"');return t=t.concat(e.replace(/(?=[[\]()*+?.^$|])/g,"\\").split(" ")),t[4]=n(t[1].length>1?/{[\S\s]*?}/:g[4],t),t[5]=n(e.length>3?/\\({|})/g:g[5],t),t[6]=n(g[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+p,l),t[8]=e,t}function i(e){return e instanceof RegExp?u(e):v[e]}function o(e){(e||(e=h))!==v[8]&&(v=r(e),u=e===h?t:n,v[9]=u(g[9])),m=e}function a(e){var t;e=e||{},t=e.brackets,Object.defineProperty(e,"brackets",{set:o,get:function(){return m},enumerable:!0}),s=e,o(t)}var u,s,l="g",c=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,f=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g,p=f.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,d={"(":RegExp("([()])|"+p,l),"[":RegExp("([[\\]])|"+p,l),"{":RegExp("([{}])|"+p,l)},h="{ }",g=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+p,l),h,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],m=e,v=[];return i.split=function(e,t,n){function r(e){t||a?l.push(e&&e.replace(n[5],"$1")):l.push(e)}function i(e,t,n){var r,i=d[t];for(i.lastIndex=n,n=1;(r=i.exec(e))&&(!r[1]||(r[1]===t?++n:--n)););return n?e.length:i.lastIndex}n||(n=v);var o,a,u,s,l=[],c=n[6];for(a=u=c.lastIndex=0;o=c.exec(e);){if(s=o.index,a){if(o[2]){c.lastIndex=i(e,o[2],c.lastIndex);continue}if(!o[3])continue}o[1]||(r(e.slice(u,s)),u=c.lastIndex,c=n[6+(a^=1)],c.lastIndex=u)}return e&&u<e.length&&r(e.slice(u)),l},i.hasExpr=function(e){return v[4].test(e)},i.loopKeys=function(e){var t=e.match(v[9]);return t?{key:t[1],pos:t[2],val:v[0]+t[3].trim()+v[1]}:{val:e.trim()}},i.array=function(e){return e?r(e):v},Object.defineProperty(i,"settings",{set:a,get:function(){return s}}),i.settings="undefined"!=typeof Q&&Q.settings||{},i.set=o,i.R_STRINGS=f,i.R_MLCOMMS=c,i.S_QBLOCKS=p,i}(),he=function(){function t(e,t){return e?(u[e]||(u[e]=r(e))).call(t,n):e}function n(e,n){t.errorHandler&&(e.riotData={tagName:n&&n.root&&n.root.tagName,_riot_id:n&&n._riot_id},t.errorHandler(e))}function r(e){var t=i(e);return"try{return "!==t.slice(0,11)&&(t="return "+t),new Function("E",t+";")}function i(e){var t,n=[],r=de.split(e.replace(f,'"'),1);if(r.length>2||r[0]){var i,a,u=[];for(i=a=0;i<r.length;++i)t=r[i],t&&(t=1&i?o(t,1,n):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')&&(u[a++]=t);t=2>a?u[0]:"["+u.join(",")+'].join("")'}else t=o(r[1],0,n);return n[0]&&(t=t.replace(p,function(e,t){return n[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})),t}function o(e,t,n){function r(t,n){var r,i=1,o=d[t];for(o.lastIndex=n.lastIndex;r=o.exec(e);)if(r[0]===t)++i;else if(!--i)break;n.lastIndex=i?e.length:o.lastIndex}if(e=e.replace(c,function(e,t){return e.length>2&&!t?s+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var i,o=[],u=0;e&&(i=e.match(l))&&!i.index;){var f,p,h=/,|([[{(])|$/g;for(e=RegExp.rightContext,f=i[2]?n[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];p=(i=h.exec(e))[1];)r(p,h);p=e.slice(0,i.index),e=RegExp.rightContext,o[u++]=a(p,1,f)}e=u?u>1?"["+o.join(",")+'].join(" ").trim()':o[0]:a(e,t)}return e}function a(e,t,n){var r;return e=e.replace(g,function(e,t,n,i,o){return n&&(i=r?0:i+e.length,"this"!==n&&"global"!==n&&"window"!==n?(e=t+'("'+n+h+n,i&&(r="."===(o=o[i])||"("===o||"["===o)):i&&(r=!m.test(o.slice(i)))),e}),r&&(e="try{return "+e+"}catch(e){E(e,this)}"),n?e=(r?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""':t&&(e="function(v){"+(r?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}var u={};t.haveRaw=de.hasRaw,t.hasExpr=de.hasExpr,t.loopKeys=de.loopKeys,t.errorHandler=null;var s="⁗",l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,c=RegExp(de.S_QBLOCKS,"g"),f=/\u2057/g,p=/\u2057(\d+)~/g,d={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g},h='"in this?this:'+("object"!=typeof e?"global":"window")+").",g=/[,{][$\w]+:|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;return t.parse=function(e){return e},t.version=de.version="v2.4.0",t}(),ge=function(e){function t(e,t,i){var o=e.tmpl,a=o&&o.match(/^\s*<([-\w]+)/),u=a&&a[1].toLowerCase(),s=B(c,v(u));return t||(t=""),e.attrs&&(i.attrs=r(e.attrs,t)),o=r(o,t),f.test(u)?s=n(s,o,u):m(s,o),s.stub=!0,s}function n(e,t,n){var r="o"===n[0],i=r?"select>":"table>";if(e.innerHTML="<"+i+t.trim()+"</"+i,i=e.firstChild,r)i.selectedIndex=-1;else{var o=l[n];o&&1===i.childNodes.length&&(i=D(o,i))}return i}function r(e,t){if(!i.test(e))return e;var n=1;return e=e.replace(u,function(e,r,i){var o=t.match(RegExp(s.replace("@",r),"i"));return n=0,(o?o[1]:i)||""}),(n||i.test(e))&&(t&&(t=t.replace(a,"").trim()),e=e.replace(o,function(e,n){return t||n||""})),e}var i=/<yield\b/i,o=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,a=/<yield\s+to=[^>]+>[\S\s]*?<\/yield\s*>\s*/gi,u=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,s="<yield\\s+to=['\"]@['\"]\\s*>([\\S\\s]*?)</yield\\s*>",l={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},c="div";e=e&&10>e;var f=e?ue:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;return t}(fe);a.prototype.update=function(){var e=he(this.expr,this.parentTag);e&&!this.current?(this.current=this.pristine.cloneNode(!0),this.stub.parentNode.insertBefore(this.current,this.stub),this.expressions=[],s(this.current,this.parentTag,this.expressions,!0)):!e&&this.current&&(M(this.expressions),this.current.parentNode.removeChild(this.current),this.current=null,this.expressions=[]),e&&f(this.expressions,this.parentTag)},a.prototype.unmount=function(){M(this.expressions||[]),delete this.pristine,delete this.parentNode,delete this.stub},u.prototype.update=function(){var e=this.rawValue;if(this.hasExp&&(e=he(this.rawValue,this.parent)),this.firstRun||e!==this.value){var t=this.tag||this.dom;x(this.value)||q(this.customParent,this.value,t),x(e)?b(this.dom,this.attr):(V(this.customParent,e,t),N(this.dom,this.attr,e)),this.value=e,this.firstRun=!1}},u.prototype.unmount=function(){var e=this.tag||this.dom;x(this.value)||q(this.customParent,this.value,e),delete this.dom,delete this.parent,delete this.customParent};var me=function(t){if(!e)return{add:function(){},inject:function(){}};var n=function(){var e=B("style");N(e,"type","text/css");var t=D("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),r=n.styleSheet,i="";return Object.defineProperty(t,"styleNode",{value:n,writable:!0}),{add:function(e){i+=e},inject:function(){i&&(r?r.cssText+=i:n.innerHTML+=i,i="")}}}(Q);(function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame;if(!t||/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)){var n=0;t=function(e){var t=Date.now(),r=Math.max(16-(t-n),0);setTimeout(function(){e(n=t+r)},r)}}return t})(e||{});Q.util={brackets:de,tmpl:he},Q.mixin=function(){var e={},t=e[J]={},n=0;return function(r,i,o){if(y(r))return void Q.mixin("__unnamed_"+n++,r,!0);var a=o?t:e;return i?void(a[r]=R(a[r]||{},i)):a[r]}}(),Q.tag=function(e,t,n,r,i){return h(r)&&(i=r,/^[\w\-]+\s?=/.test(n)?(r=n,n=""):r=""),n&&(h(n)?i=n:me.add(n)),e=e.toLowerCase(),Y[e]={name:e,tmpl:t,attrs:r,fn:i},e},Q.tag2=function(e,t,n,r,i){return n&&me.add(n),Y[e]={name:e,tmpl:t,attrs:r,fn:i},e},Q.mount=function(e,t,n){function r(e){var t="";return d(e,function(e){/[^-\w]/.test(e)||(e=e.trim().toLowerCase(),t+=",["+ne+'="'+e+'"],['+te+'="'+e+'"]')}),t}function i(){var e=Object.keys(Y);return e+r(e)}function o(e){if(e.tagName){var r=_(e,ne)||_(e,te);t&&r!==t&&(r=t,N(e,ne,t),N(e,te,t));var i=K(e,r||e.tagName.toLowerCase(),n);i&&s.push(i)}else e.length&&d(e,o)}var a,u,s=[];if(me.inject(),y(t)&&(n=t,t=0),typeof e===re?("*"===e?e=u=i():e+=r(e.split(/, */)),a=e?F(e):[]):a=e,"*"===t){if(t=u||i(),a.tagName)a=F(t,a);else{var l=[];d(a,function(e){l.push(F(t,e))}),a=l}t=0}return o(a),s},Q.update=function(){return d(X,function(e){e.update()})},Q.unregister=function(e){delete Y[e]},Q.vdom=X,Q.Tag=l,typeof exports===ie?module.exports=Q:typeof define===ae&&typeof define.amd!==oe?define(function(){return Q}):e.riot=Q}("undefined"!=typeof window?window:void 0);
