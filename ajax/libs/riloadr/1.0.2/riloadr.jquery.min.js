/*! 
 * Riloadr.js 1.0.2 (c) 2012 Tubal Martin - MIT license
 */
!function(a){typeof define=="function"&&define.amd?define(["jquery"],a):window.Riloadr=a()}(function(){function S(a){function S(){B==="belowfold"?E?(P||(P=b,M(y,l,X(function(){_(l)},250))),ab(l,h[t]),Q||(Q=b,M(y,m,Y(function(){_(m)},250))),ab(m,h[t]),G&&(R||(R=b,O=y[u],M(y,x,Y(function(){y[u]!==O&&(O=y[u],_(x))},250))),ab(x,h[t])),h[t]()):cb(h[t]):B===e?cb(h[t]):h[t]()}function db(a){if(!N||a===b)N=N||[],D("img."+s,I).each(function(a,b){b&&!b[q]&&N.push(b)})}function eb(a,c){a[q]=b,a[p]=0,a[n]=fb,a[o]=gb,a.src=V(a,w,K),N.splice(c,1)}function fb(){var b=this;b[n]=b[o]=d,b[r]=b[r].replace(v,"$1$2"),n in a&&a[n][f](b)}function gb(){var c=this;H>0&&c[p]<H&&(c[p]++,c.src=V(c,w,K,b)),o in a&&a[o][f](c)}var h=this,k=a.breakpoints||$('"breakpoints" not defined.'),s=a.name||"responsive",v=new RegExp("(^|\\s)"+s+"(\\s|$)"),w=a.base||i,B=(a.defer+i).toLowerCase()||c,E=B==="belowfold"&&!L,F=+a.foldDistance||100,H=+a[p]||0,I,K,N;h[t]=function(){var a=arguments;Z(function(b,c){db[g](d,a);if(N[j]){c=0;while(b=N[c])b&&!b[q]&&(E?W(b,F)||(eb(b,c),c--):(eb(b,c),c--)),c++;b=d}})},bb(function(){z=D(y),C=A.body,I=a.root&&D("#"+a.root)||C,J=J||U(),K=T(k,J),S()})}function T(a,b){var c=i,d=b,e=0,f,g,h,j,k;while(f=a[e]){g=f.name,h=f.minWidth,j=f.maxWidth,k=f.minDevicePixelRatio;if(b>0){if(h&&j&&b>=h&&b<=j||h&&!j&&b>=h||j&&!h&&b<=j)k?I>=k&&(c=g):c=g}else if(d<=0||h<d||j<d)d=h||j||d,c=g;e++}return c+i}function U(){var a=Math,b=[B.clientWidth,B.offsetWidth,C.clientWidth],c=a.ceil(H/I),d=b[j],e=0,f;for(;e<d;e++)isNaN(b[e])&&(b.splice(e,1),e--);return b[j]&&(f=a.max[g](a,b),isNaN(c)||(f=a.min(c,f))),f||c||0}function V(a,b,c,d){var e=(a.getAttribute("data-base")||b)+(a.getAttribute("data-src")||i);return d&&(e+=(E.test(e)?"&":"?")+"riloadrts="+(new Date).getTime()),e.replace(F,c)}function W(a,b){return z.height()+z.scrollTop()<=D(a).offset().top-b}function X(a,e){var f,h,i,j,k,l,m=Y(function(){k=j=c},e);return function(){f=this,h=arguments;var c=function(){i=d,k&&a[g](f,h),m()};return i||(i=setTimeout(c,e)),j?k=b:l=a[g](f,h),m(),j=b,l}}function Y(a,b,c){var e;return function(){var f=this,h=arguments,i=function(){e=d,c||a[g](f,h)};c&&!e&&a[g](f,h),clearTimeout(e),e=setTimeout(i,b)}}function Z(a){var b=Array[s].slice[f](arguments,1);setTimeout(function(){return a[g](d,b)},1)}function $(a){throw new Error("Riloadr: "+a)}function _(a){var b=K[a],c=0,d;if(b)while(d=b[c])d(),c++}function ab(a,b){(K[a]=K[a]||[]).push(b)}function bb(a){D(a)}function cb(a){if(A.readyState==="complete")a();else{var b=function(){N(y,e,b),a()};M(y,e,b)}}"use strict";var a="on",b=!0,c=!1,d=null,e="load",f="call",g="apply",h="error",i="",j="length",k="jQuery",l="scroll",m="resize",n=a+e,o=a+h,p="retries",q="riloaded",r="className",s="prototype",t="loadImages",u="orientation",v="EventListener",w="add"+v,x=u+"change",y=window,z,A=y.document,B=A.documentElement,C,D=k in y&&y[k]||$(k+" not found."),E=/\?/,F=/{breakpoint-name}/gi,G=u in y&&a+x in y,H=y.screen.width,I=y.devicePixelRatio||1,J,K={},L=Object[s].toString[f](y.operamini)==="[object OperaMini]",M,N,O,P,Q,R;return B[r]=B[r].replace(/(^|\s)no-js(\s|$)/,"$1$2"),S.version="1.0.2",S[s].riload=function(){this[t](b)},!function(){var b=w in A,d=b?w:"attachEvent",e=b?"remove"+v:"detachEvent",f=b?i:a;M=function(a,b,e){a[d](f+b,e,c)},N=function(a,b,d){a[e](f+b,d,c)}}(),S});