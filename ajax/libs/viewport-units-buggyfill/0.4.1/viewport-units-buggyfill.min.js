!function(e,n){"use strict";"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?module.exports=n():e.viewportUnitsBuggyfill=n()}(this,function(){"use strict";function e(e,n){var t;return function(){var i=this,o=arguments,r=function(){e.apply(i,o)};clearTimeout(t),t=setTimeout(r,n)}}function n(){try{return window.self!==window.top}catch(e){return!0}}function t(t){y||(t===!0&&(t={force:!0}),v=t||{},v.isMobileSafari=g,(v.force||g||E||v.hacks&&v.hacks.required(v))&&(v.hacks&&v.hacks.initialize(v),y=!0,x=document.createElement("style"),x.id="patched-viewport",document.head.appendChild(x),d(function(){var t=e(o,v.refreshDebounceWait||100);window.addEventListener("orientationchange",t,!0),window.addEventListener("pageshow",t,!0),(v.force||E||n())&&(window.addEventListener("resize",t,!0),v._listeningToResize=!0),v.hacks&&v.hacks.initializeEvents(v,o,t),o()})))}function i(){x.textContent=s()}function o(){y&&(r(),setTimeout(function(){i()},1))}function r(){return m=[],T.call(document.styleSheets,function(e){"patched-viewport"!==e.ownerNode.id&&e.cssRules&&(e.media&&e.media.mediaText&&window.matchMedia&&!window.matchMedia(e.media.mediaText).matches||T.call(e.cssRules,a))}),m}function a(e){if(7===e.type){var n=e.cssText;return k.lastIndex=0,void(k.test(n)&&(m.push([e,null,n]),v.hacks&&v.hacks.findDeclarations(m,e,null,n)))}if(!e.style){if(!e.cssRules)return;return void T.call(e.cssRules,function(e){a(e)})}T.call(e.style,function(n){var t=e.style.getPropertyValue(n);k.lastIndex=0,k.test(t)&&(m.push([e,n,t]),v.hacks&&v.hacks.findDeclarations(m,e,n,t))})}function s(){w=l();var e,n,t=[],i=[];return m.forEach(function(o){var r=c.apply(null,o),a=r.selector.length?r.selector.join(" {\n")+" {\n":"",s=new Array(r.selector.length+1).join("\n}");return a&&a===e?(a&&!e&&(e=a,n=s),void i.push(r.content)):(i.length&&(t.push(e+i.join("\n")+n),i.length=0),void(a?(e=a,n=s,i.push(r.content)):(t.push(r.content),e=null,n=null)))}),i.length&&t.push(e+i.join("\n")+n),t.join("\n\n")}function c(e,n,t){var i=t.replace(k,u),o=[];v.hacks&&(i=v.hacks.overwriteDeclaration(e,n,i)),n&&(o.push(e.selectorText),i=n+": "+i+";");for(var r=e.parentRule;r;)o.unshift("@media "+r.media.mediaText),r=r.parentRule;return{selector:o,content:i}}function u(e,n,t){var i=w[t],o=parseFloat(n)/100;return o*i+"px"}function l(){var e=window.innerHeight,n=window.innerWidth;return{vh:e,vw:n,vmax:Math.max(n,e),vmin:Math.min(n,e)}}function d(e){var n=0,t=function(){n--,n||e()};T.call(document.styleSheets,function(e){e.href&&f(e.href)!==f(location.href)&&(n++,h(e.ownerNode,t))}),n||e()}function f(e){return e.slice(0,e.indexOf("/",e.indexOf("://")+3))}function h(e,n){p(e.href,function(){var t=document.createElement("style");t.media=e.media,t.setAttribute("data-href",e.href),t.textContent=this.responseText,e.parentNode.replaceChild(t,e),n()},n)}function p(e,n,t){var i=new XMLHttpRequest;if("withCredentials"in i)i.open("GET",e,!0);else{if("undefined"==typeof XDomainRequest)throw new Error("cross-domain XHR not supported");i=new XDomainRequest,i.open("GET",e)}return i.onload=n,i.onerror=t,i.send(),i}var v,w,m,x,y=!1,g=/(iPhone|iPod|iPad).+AppleWebKit/i.test(window.navigator.userAgent),k=/([+-]?[0-9.]+)(vh|vw|vmin|vmax)/g,T=[].forEach,E=!1;return{version:"0.4.1",findProperties:r,getCss:s,init:t,refresh:o}});
//# sourceMappingURL=viewport-units-buggyfill.min.js.map