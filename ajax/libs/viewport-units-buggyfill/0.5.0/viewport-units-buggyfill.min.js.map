{"version":3,"sources":["viewport-units-buggyfill.js"],"names":["root","factory","define","amd","exports","module","viewportUnitsBuggyfill","this","debounce","func","wait","timeout","context","args","arguments","callback","apply","clearTimeout","setTimeout","inIframe","window","self","top","e","initialize","initOptions","initialized","force","options","isMobileSafari","isBadStockAndroid","isOldInternetExplorer","isOperaMini","hacks","required","styleNode","document","createElement","id","head","appendChild","importCrossOriginLinks","_refresh","refresh","refreshDebounceWait","addEventListener","_listeningToResize","initializeEvents","updateStyles","textContent","getReplacedViewportUnits","findProperties","declarations","forEach","call","styleSheets","sheet","ownerNode","cssRules","getAttribute","media","mediaText","matchMedia","matches","findDeclarations","rule","type","value","cssText","viewportUnitExpression","lastIndex","test","push","style","_rule","name","getPropertyValue","dimensions","getViewport","open","close","css","buffer","item","_item","overwriteDeclaration","_open","selector","length","join","_close","Array","content","_value","_selectors","replace","replaceValues","selectorText","parentRule","unshift","match","number","unit","_base","_number","parseFloat","vh","innerHeight","vw","innerWidth","vmax","Math","max","vmin","min","next","_waiting","decrease","href","origin","location","convertLinkToStyle","url","slice","indexOf","link","getCors","setAttribute","responseText","parentNode","replaceChild","success","error","xhr","XMLHttpRequest","XDomainRequest","Error","onload","onerror","send","userAgent","navigator","iOSversion","parseInt","isAndroid","isStockAndroid","versionNumber","version","getCss","init"],"mappings":"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","file":"viewport-units-buggyfill.min.js"}