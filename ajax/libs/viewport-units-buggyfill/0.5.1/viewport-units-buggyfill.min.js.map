{"version":3,"sources":["viewport-units-buggyfill.js"],"names":["root","factory","define","amd","exports","module","viewportUnitsBuggyfill","this","debounce","func","wait","timeout","context","args","arguments","callback","apply","clearTimeout","setTimeout","inIframe","window","self","top","e","initialize","initOptions","initialized","force","options","isMobileSafari","isBadStockAndroid","isOldInternetExplorer","isOperaMini","hacks","required","styleNode","document","createElement","id","head","appendChild","importCrossOriginLinks","_refresh","refresh","refreshDebounceWait","addEventListener","_listeningToResize","initializeEvents","updateStyles","textContent","getReplacedViewportUnits","parentNode","findProperties","declarations","forEach","call","styleSheets","sheet","ownerNode","cssRules","getAttribute","media","mediaText","matchMedia","matches","findDeclarations","rule","type","value","cssText","viewportUnitExpression","lastIndex","test","push","style","_rule","name","getPropertyValue","getPropertyPriority","dimensions","getViewport","open","close","css","buffer","item","_item","overwriteDeclaration","_open","selector","length","join","_close","Array","content","_value","_selectors","replace","replaceValues","selectorText","parentRule","unshift","match","number","unit","_base","_number","parseFloat","vh","innerHeight","vw","innerWidth","vmax","Math","max","vmin","min","next","_waiting","decrease","href","origin","location","convertLinkToStyle","url","slice","indexOf","link","getCors","setAttribute","responseText","replaceChild","success","error","xhr","XMLHttpRequest","XDomainRequest","Error","onload","onerror","send","userAgent","navigator","iOSversion","parseInt","isAndroid","isStockAndroid","versionNumber","version","getCss","init"],"mappings":"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","file":"viewport-units-buggyfill.min.js"}