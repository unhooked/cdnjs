{"version":3,"sources":["viewport-units-buggyfill.js"],"names":["root","factory","define","amd","exports","module","viewportUnitsBuggyfill","this","debounce","func","wait","timeout","context","args","arguments","callback","apply","clearTimeout","setTimeout","inIframe","window","self","top","e","initialize","initOptions","initialized","force","options","isMobileSafari","isBadStockAndroid","isOldIE","isBuggyIE","isOperaMini","hacks","required","console","info","init","styleNode","document","createElement","id","head","appendChild","importCrossOriginLinks","_refresh","refresh","refreshDebounceWait","addEventListener","_listeningToResize","initializeEvents","updateStyles","textContent","getReplacedViewportUnits","parentNode","findProperties","declarations","forEach","call","styleSheets","sheet","ownerNode","cssRules","getAttribute","media","mediaText","matchMedia","matches","findDeclarations","rule","type","value","cssText","viewportUnitExpression","lastIndex","test","push","style","_rule","name","getPropertyValue","getPropertyPriority","dimensions","getViewport","open","close","css","buffer","item","_item","overwriteDeclaration","_open","selector","length","join","_close","Array","content","_value","_selectors","replace","replaceValues","selectorText","parentRule","unshift","match","number","unit","_base","_number","parseFloat","vh","innerHeight","vw","innerWidth","vmax","Math","max","vmin","min","next","_waiting","decrease","href","origin","location","convertLinkToStyle","url","slice","indexOf","link","getCors","setAttribute","responseText","replaceChild","success","error","xhr","XMLHttpRequest","XDomainRequest","Error","onload","onerror","send","userAgent","navigator","iOSversion","parseInt","isAndroid","isStockAndroid","versionNumber","version","getCss"],"mappings":"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","file":"viewport-units-buggyfill.min.js"}