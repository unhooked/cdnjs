angular.module("ngWig",["ngwig-app-templates"]),angular.module("ngWig").directive("ngWig",function(){return{scope:{content:"=ngWig"},restrict:"A",replace:!0,templateUrl:"ng-wig/views/ng-wig.html",link:function(a,b,c){a.originalHeight=b.outerHeight(),a.editMode=!1,a.autoexpand=!("autoexpand"in c)||"off"!==c.autoexpand,a.cssPath=a.cssPath?a.cssPath:"css/ng-wig.css",a.toggleEditMode=function(){a.editMode=!a.editMode},a.execCommand=function(b,c){"createlink"===b&&(c=prompt("Please enter the URL","http://")),a.$emit("execCommand",{command:b,options:c})},a.styles=[{name:"Normal text",value:"p"},{name:"Header 1",value:"h1"},{name:"Header 2",value:"h2"},{name:"Header 3",value:"h3"}],a.style=a.styles[0]}}}),angular.module("ngWig").directive("ngWigEditable",function(){function a(a,b,c,d){function e(){d.$setViewValue(b.html()),angular.version.minor<3&&a.$apply()}var f=b[0].ownerDocument;b.attr("contenteditable",!0),d.$render=function(){b.html(d.$viewValue||"")},b.bind("blur keyup change paste",e),a.$on("execCommand",function(a,c){b[0].focus();var d=f.selection,g=c.command,h=c.options;if(d)var i=d.createRange();f.execCommand(g,!1,h),d&&(i.collapse(!1),i.select()),e()})}return{restrict:"A",require:"ngModel",replace:!0,link:a}}),"function"!=typeof angular.element.prototype.outerHeight&&(angular.element.prototype.outerHeight=function(){function a(a){return"px"===a.slice(-2)?parseFloat(a.slice(0,-2)):0}var b,c=!1,d=this.eq(0),e=d[0];return arguments[0]===!0||arguments[0]===!1||void 0===arguments[0]?d.length?(c=arguments[0]&&!0||!1,b=e.outerHeight?e.outerHeight:e.offsetHeight,c&&(b+=a(d.css("marginTop"))+a(d.css("marginBottom"))),b):0:d.length?(b=parseFloat(arguments[0]),c=arguments[1]&&!0||!1,c&&(b-=a(d.css("marginTop"))+a(d.css("marginBottom"))),b-=a(d.css("borderTopWidth"))+a(d.css("borderBottomWidth"))+a(d.css("paddingTop"))+a(d.css("paddingBottom")),d.css("height",b+"px"),this):this}),angular.module("ngwig-app-templates",["ng-wig/views/ng-wig.html"]),angular.module("ng-wig/views/ng-wig.html",[]).run(["$templateCache",function(a){a.put("ng-wig/views/ng-wig.html",'<div class="ng-wig">\n  <ul class="nw-toolbar">\n    <li class="nw-toolbar__item">\n      <select class="nw-select" ng-model="style" ng-change="execCommand(\'formatblock\', style.value)" ng-options="style.name for style in styles">\n      </select>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--unordered-list" title="Unordered List" ng-click="execCommand(\'insertunorderedlist\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--ordered-list" title="Ordered List" ng-click="execCommand(\'insertorderedlist\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--bold" title="Bold" ng-click="execCommand(\'bold\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--italic" title="Italic" ng-click="execCommand(\'italic\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--link" title="link" ng-click="execCommand(\'createlink\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--source" ng-class="{ \'nw-button--active\': editMode }" ng-click="toggleEditMode()"></button>\n    </li>\n  </ul>\n\n  <div class="nw-editor-container">\n    <div class="nw-editor">\n      <textarea class="nw-editor__src" ng-show="editMode" ng-model="content"></textarea>\n      <div ng-class="{\'nw-invisible\': editMode, \'nw-autoexpand\': autoexpand}" class="nw-editor__res" ng-model="content" ng-wig-editable></div>\n    </div>\n  </div>\n</div>\n')}]);