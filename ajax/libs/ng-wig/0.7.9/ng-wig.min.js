angular.module("ngWig",["ngwig-app-templates"]),angular.module("ngWig").directive("ngWig",function(){return{scope:{content:"=ngWig",debug:"&"},restrict:"A",replace:!0,templateUrl:"ng-wig/views/ng-wig.html",link:function(a){a.editMode=!1,a.execCommand=function(b,c){"createlink"===b&&(c=prompt("Please enter the URL","http://")),a.$emit("execCommand",{command:b,options:c})}}}}),angular.module("ngWig").directive("ngWigEditable",function(){function a(a,b,c,d){var e,f=b[0].contentDocument;f.open(),f.write('<!DOCTYPE html><html><head><link href="css/ng-wig.css" rel="stylesheet" type="text/css"></head><body contenteditable="true"></body></html>'),f.close(),e=angular.element(b[0].contentDocument.body),d.$render=function(){e[0].innerHTML=d.$viewValue||""},e.bind("blur keyup change paste",function(){a.$apply(function(){d.$setViewValue(e.html())})}),a.$on("execCommand",function(b,c){var g=f.selection,h=c.command,i=c.options;if(g){var j=g.createRange();f.execCommand(h,!1,i),j.collapse(!1),j.select()}else f.execCommand(h,!1,i);f.body.focus(),a.$evalAsync(function(){d.$setViewValue(e.html())})})}return{restrict:"A",require:"ngModel",replace:!0,link:a}}),angular.module("ngwig-app-templates",["ng-wig/views/ng-wig.html"]),angular.module("ng-wig/views/ng-wig.html",[]).run(["$templateCache",function(a){a.put("ng-wig/views/ng-wig.html",'<div class="ng-wig">\n  <ul class="nw-toolbar">\n    <li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--header-one" title="Header" ng-click="execCommand(\'formatblock\', \'<h1>\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--paragraph" title="Paragraph" ng-click="execCommand(\'formatblock\', \'<p>\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--unordered-list" title="Unordered List" ng-click="execCommand(\'insertunorderedlist\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--ordered-list" title="Ordered List" ng-click="execCommand(\'insertorderedlist\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--bold" title="Bold" ng-click="execCommand(\'bold\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--italic" title="Italic" ng-click="execCommand(\'italic\')"></button>\n    </li><!--\n    --><li class="nw-toolbar__item">\n      <button type="button" class="nw-button nw-button--link" title="link" ng-click="execCommand(\'createlink\')"></button>\n    </li>\n  </ul>\n\n  <div class="nw-editor">\n    <textarea class="nw-editor__src" ng-show="editMode" ng-model="content"></textarea>\n    <iframe class="nw-editor__res" frameBorder="0" ng-hide="editMode" ng-model="content" ng-wig-editable></iframe>\n  </div>\n</div>')}]);